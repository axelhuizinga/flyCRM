<?php
/**
 * Generated by Haxe 4.0.0-preview.4+1e3e5e016
 */

namespace model;

use \haxe\ds\StringMap;
use \php\Boot;
use \haxe\Log;
use \php\_Boot\HxAnon;

class Select extends Input {
	/**
	 * @param StringMap $param
	 * 
	 * @return mixed
	 */
	static public function create ($param) {
		#src/model/Select.hx:15: characters 3-34
		$self = new Select();
		#src/model/Select.hx:16: characters 3-8
		(Log::$trace)($param, new HxAnon([
			"fileName" => "src/model/Select.hx",
			"lineNumber" => 16,
			"className" => "model.Select",
			"methodName" => "create",
		]));
		#src/model/Select.hx:17: characters 3-84
		return \Reflect::callMethod($self, \Reflect::field($self, ($param->data["action"] ?? null)), \Array_hx::wrap([$param]));
	}

	/**
	 * @return void
	 */
	public function __construct () {
		#src/model/Select.hx:11: lines 11-66
		parent::__construct();
	}

	/**
	 * @param string $where
	 * 
	 * @return string
	 */
	public function prepare ($where) {
		#src/model/Select.hx:46: characters 3-47
		$wParam = \Array_hx::wrap(explode(",", $where));
		#src/model/Select.hx:47: characters 3-13
		$where = "";
		#src/model/Select.hx:48: lines 48-52
		if (\Lambda::has($wParam, "filter=1")) {
			#src/model/Select.hx:51: characters 13-69
			$result = [];
			#src/model/Select.hx:51: characters 13-69
			$_g1 = 0;
			#src/model/Select.hx:51: characters 13-69
			$_g = $wParam->length;
			#src/model/Select.hx:51: characters 13-69
			while ($_g1 < $_g) {
				#src/model/Select.hx:51: characters 13-69
				$_g1 = $_g1 + 1;
				#src/model/Select.hx:51: characters 13-69
				$i = $_g1 - 1;
				#src/model/Select.hx:51: characters 13-69
				if ($wParam->arr[$i] !== "filter=1") {
					#src/model/Select.hx:51: characters 13-69
					$result[] = $wParam->arr[$i];
				}
			}

			#src/model/Select.hx:51: characters 13-69
			$wParam = \Array_hx::wrap($result);
		}
		#src/model/Select.hx:53: lines 53-54
		if (($wParam->length > 0) && ($where === "")) {
			#src/model/Select.hx:54: characters 4-14
			$where = "";
		}
		#src/model/Select.hx:55: lines 55-61
		$_g2 = 0;
		#src/model/Select.hx:55: lines 55-61
		while ($_g2 < $wParam->length) {
			#src/model/Select.hx:55: characters 8-9
			$w = ($wParam->arr[$_g2] ?? null);
			#src/model/Select.hx:55: lines 55-61
			$_g2 = $_g2 + 1;
			#src/model/Select.hx:57: lines 57-60
			if ($where === "") {
				#src/model/Select.hx:58: characters 5-26
				$where = "WHERE " . ($w??'null');
			} else {
				#src/model/Select.hx:60: characters 5-24
				$where = " AND " . ($w??'null');
			}
		}

		#src/model/Select.hx:62: characters 3-8
		(Log::$trace)($where, new HxAnon([
			"fileName" => "src/model/Select.hx",
			"lineNumber" => 62,
			"className" => "model.Select",
			"methodName" => "prepare",
		]));
		#src/model/Select.hx:63: characters 3-15
		return $where;
	}

	/**
	 * @param StringMap $param
	 * 
	 * @return mixed
	 */
	public function selectCampaign ($param) {
		#src/model/Select.hx:41: characters 3-23
		return $this->json_encode();
	}
}

Boot::registerClass(Select::class, 'model.Select');
