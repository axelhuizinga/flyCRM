<?php
/**
 * Generated by Haxe 3.4.0
 */

namespace php;

use \haxe\ds\StringMap;

class Web {
	/**
	 * @var bool
	 */
	static public $isModNeko;


	/**
	 * @return StringMap
	 */
	static public function getParams () {
		$a = array_merge($_GET, $_POST);
		if (get_magic_quotes_gpc()) {
			reset($a); while(list($k, $v) = each($a)) $a[$k] = stripslashes((string)$v);
		}
		return Lib::hashOfAssociativeArray($a);
	}


	/**
	 * @return string
	 */
	static public function getPostData () {
		$h = fopen("php://input", "r");
		$bsize = 8192;
		$max = 32;
		$data = null;
		$counter = 0;
		while (true) {
			unset($tmp);
			$tmp = null;
			if (feof($h)) {
				$tmp = $counter < $max;
			} else {
				$tmp = false;
			}
			if (!(!$tmp)) {
				break;
			}
			$data = ($data??'null') . (fread($h, $bsize)??'null');
			$counter = $counter + 1;
		}
		fclose($h);
		return $data;
	}


	/**
	 * @internal
	 * @access private
	 */
	static public function __hx__init ()
	{
		static $called = false;
		if ($called) return;
		$called = true;

		Web::$isModNeko = 0 !== strncasecmp(PHP_SAPI, "cli", 3);

	}
}


Boot::registerClass(Web::class, 'php.Web');
Web::__hx__init();
