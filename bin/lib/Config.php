<?php
/**
 * Generated by Haxe 3.4.0
 */

use \haxe\ds\StringMap;
use \php\Boot;
use \me\cunity\php\Services_JSON;
use \haxe\Log;
use \php\_Boot\HxString;
use \php\_Boot\HxAnon;

class Config {
	/**
	 * @param string $cjs
	 * 
	 * @return StringMap
	 */
	static public function load ($cjs) {
		$js = file_get_contents($cjs);
		$vars = HxString::split($js, "var");
		$vars->shift();
		$result = new StringMap();
		(Log::$trace)($vars->length, new HxAnon([
			"fileName" => "Config.hx",
			"lineNumber" => 20,
			"className" => "Config",
			"methodName" => "load",
		]));
		$jsonS = new Services_JSON(48);
		$_g = 0;
		while ($_g < $vars->length) {
			unset($data, $json, $key, $v);
			$v = ($vars->arr[$_g] ?? null);
			$_g = $_g + 1;
			$data = HxString::split($v, "=");
			$json = $jsonS->decode(($data->arr[1] ?? null));
			$key = trim(($data->arr[0] ?? null));
			$result->data[$key] = $json;

		}

		return $result;
	}
}


Boot::registerClass(Config::class, 'Config');
