{
"version":3,
"file":"flyCRM.js",
"sourceRoot":"",
"sources":["file:////opt/src/flyCRM/src/App.hx","file:////opt/src/flyCRM/.haxelib/jQueryExtern/3,3,0/js/jquery/Helper.hx","file:////usr/share/haxe/std/DateTools.hx","file:////usr/share/haxe/std/js/_std/EReg.hx","file:////usr/share/haxe/std/js/_std/HxOverrides.hx","file:////opt/src/flyCRM/lib/Lambda.hx","file:////usr/share/haxe/std/js/_std/Reflect.hx","file:////usr/share/haxe/std/js/_std/Std.hx","file:////usr/share/haxe/std/StringBuf.hx","file:////usr/share/haxe/std/StringTools.hx","file:////usr/share/haxe/std/js/_std/Type.hx","file:////opt/src/flyCRM/src/Util.hx","file:////opt/src/flyCRM/src/View.hx","file:////usr/share/haxe/std/haxe/CallStack.hx","file:////usr/share/haxe/std/js/_std/haxe/Exception.hx","file:////usr/share/haxe/std/haxe/Log.hx","file:////usr/share/haxe/std/js/_std/haxe/NativeStackTrace.hx","file:////usr/share/haxe/std/haxe/Timer.hx","file:////usr/share/haxe/std/haxe/ValueException.hx","file:////usr/share/haxe/std/haxe/ds/List.hx","file:////usr/share/haxe/std/js/_std/haxe/ds/ObjectMap.hx","file:////usr/share/haxe/std/js/_std/haxe/ds/StringMap.hx","file:////usr/share/haxe/std/haxe/exceptions/PosException.hx","file:////usr/share/haxe/std/haxe/exceptions/NotImplementedException.hx","file:////usr/share/haxe/std/haxe/http/HttpBase.hx","file:////usr/share/haxe/std/haxe/http/HttpJs.hx","file:////usr/share/haxe/std/js/_std/haxe/io/Bytes.hx","file:////usr/share/haxe/std/haxe/iterators/ArrayIterator.hx","file:////usr/share/haxe/std/js/Boot.hx","file:////usr/share/haxe/std/js/Browser.hx","file:////opt/src/flyCRM/.haxelib/jQueryExtern/3,3,0/js/jquery/JqEltsIterator.hx","file:////opt/src/flyCRM/.haxelib/jQueryExtern/3,3,0/js/jquery/JqIterator.hx","file:////opt/src/lib/me/cunity/debug/Out.hx","file:////opt/src/lib/me/cunity/js/data/IBAN.hx","file:////opt/src/lib/me/cunity/util/Data.hx","file:////opt/src/flyCRM/.haxelib/pushstate/2,1,0/src/pushstate/PushState.hx","file:////usr/share/haxe/std/js/_std/Array.hx","file:////opt/src/flyCRM/src/view/ContextMenu.hx","file:////opt/src/flyCRM/src/view/Editor.hx","file:////opt/src/flyCRM/src/view/FormData.hx","file:////opt/src/flyCRM/src/view/Input.hx","file:////opt/src/flyCRM/src/view/Mailing.hx","file:////opt/src/flyCRM/src/view/Pager.hx","file:////opt/src/flyCRM/src/view/TabBox.hx","file:////usr/share/haxe/std/js/_std/Math.hx","file:////usr/share/haxe/std/js/_std/String.hx"],
"sourcesContent":["package ;\n\nimport haxe.ds.StringMap;\nimport haxe.Log;\nimport haxe.Timer;\n\nimport js.Browser;\nimport js.html.Node;\nimport js.jquery.*;\nimport js.jquery.Helper.*;\n\nimport me.cunity.debug.Out;\n\nusing Lambda;\n\n/**\n * ...\n * @author axel@cunity.me\n */\ntypedef Rectangle =\n{\n\t@:optional var width:Float;\n\t@:optional var height:Float;\n\t@:optional var left:Float;\n\t@:optional var top:Float;\n}\n\n\n\nclass App\n{\n\tpublic static var ist:App;\n\tpublic static var basePath:String;\n\tpublic static var appName:String;\n\tpublic static var user:String;\n\tpublic static var company:String;\n\tpublic static var appLabel:Dynamic;\n\t//public static var cssStyles:Dynamic;\n\tpublic static var storeFormats:Dynamic;\n\tpublic static var uiMessage:Dynamic;\n\tpublic static var waitTime:Int;\n\tpublic static var limit:Int;\n\t\n\tpublic  var hasTabs:Bool;\n\tpublic  var rootViewPath:String;\n\tpublic var globals:Dynamic;\n\tpublic var altPressed:Bool;\n\tpublic var ctrlPressed:Bool;\n\tpublic var shiftPressed:Bool;\n\t\n\tvar views:StringMap<View>; \n\t\n\t\n\tstatic function main() \n\t{\n\t\tLog.trace = Out._trace;\t\t\n\t}\n\t\n\tpublic function new()\n\t{\t\t\n\t\tviews = new StringMap();\n\t\t//dbLoader = new Array();\n\t}\n\t\n\tpublic static function inputError(form:JQuery, inputs:Array<String>)\n\t{\n\t\ttrace(form.attr('id') + ':' + inputs);\n\t\tform.find('input').each(function(i:Int, n:Node)\n\t\t{\n\t\t\t//trace (J(n).attr('name') + ': ' + (inputs.has(J(n).attr('name')) ? 'Y' : 'N') );\n\t\t\tif (inputs.has(J(n).attr('name')))\n\t\t\t{\n\t\t\t\tJ(n).addClass('error');\n\t\t\t\t//J(n).append(J('<span class=\"error\">*</span>'));\n\t\t\t}\n\t\t});\n\t}\n\t\n\t@:expose('choice')\n\tpublic static function choice(data:Dynamic)\n\t{\n\t\tif (data != null && data.id != null)\n\t\t{\n\t\t\tJ('#t-choice' ).tmpl(data).appendTo('#' +data.id).css( { width:J(Browser.window).width(), height:J(Browser.window).height() } ).animate( { opacity:1 } );\n\t\t\ttrace(data.id + ':' + J('#' +data.id + ' .overlay .scrollbox').length + ':' + J('#' +data.id + ' .overlay').height());\n\t\t\tJ('#' +data.id + ' .overlay .scrollbox').height(J('#' +data.id + ' .overlay').height());\n\t\t}\n\t\telse\n\t\t\tJ('#choice').hide(300, null, function() J('#choice').remove());\n\t}\t\n\t\n\t@:expose('modal')\n\tpublic static function modal(mID:String, ?data:Dynamic)\n\t{\n\t\ttrace(data);\n\t\tif (data != null && data.mID != null)\n\t\t{\n\t\t\tJ('#t-' + mID ).tmpl(data).appendTo('#' +data.id).css( { width:J(Browser.window).width(), height:J(Browser.window).height() } ).animate( { opacity:1 } );\n\t\t\ttrace(data.id + ':' + J('#' +data.id + ' .overlay .scrollbox').length + ':' + J('#' +data.id + ' .overlay').height());\n\t\t\tJ('#' +data.id + ' .overlay .scrollbox').height(J('#' +data.id + ' .overlay').height());\n\t\t}\n\t\telse\n\t\t\tJ('#' + mID).hide(300, null, function() J('#' + mID).remove());\n\t}\t\n\t\n\t@:expose('info')\n\tpublic static function info(data:Dynamic)\n\t{\n\t\ttrace(data);\n\t\tif (data.target == null && data.id != null)\n\t\t{\n\t\t\tJ('#t-info' ).tmpl(data).appendTo('#' +data.id).css( { width:(J(Browser.window).width() - 440) +'px', height:'100px', \n\t\t\t\tmargin: (J(Browser.window).height() - 200) + 'px 0 0 100px' } ).animate( { opacity:1 } );\n\t\t\ttrace(data.id + ':' + J('#' +data.id + ' .overlay .scrollbox').length + ':' + J('#' +data.id + ' .overlay').height());\n\t\t}\n\t\telse\n\t\t\tJ('#$data #info').hide(300, null, function() J('#$data #info').remove());\n\t}\t\t\n\t\n\tpublic  function logTrace(logMsg:String, file:String = '/var/log/flyCRM/dev.log'):Void\n\t{\n\t\t//trace(logMsg);\n\t\tvar p:Dynamic = {\n\t\t\tlogFile:'/var/log/flyCRM/app.log',\n\t\t\tuser:App.user,\n\t\t\tlog:logMsg\n\t\t};\n\t\tJQuery.post('/flyCRM/formLog2.php', p).done(function() {\n\t\t\ttrace( \"log success\" );\n\t\t  })\n\t\t  .fail(function() {\n\t\t\ttrace( \"error\" );\n\t\t  });\n\t}\n\t\n\t@:expose(\"initApp\") \n\tpublic static function init(config:Dynamic):App\n\t{\n\t\tist = new App();\n\t\tappName = config.appName;\n\t\tappLabel = config.appLabel;\n\t\tuser = config.user;\n\t\tstoreFormats = config.storeFormats;\n\t\t//cssStyles = config.cssStyles;\n\t\tuiMessage = config.uiMessage;\n\t\twaitTime = config.waitTime;\n\t\tcompany = config.company;\n\t\tlimit = config.limit;\n\t\tist.hasTabs = config.hasTabs;\n\t\tist.rootViewPath = appName + '.' + config.rootViewPath;\n\t\tvar fields:Array<String> = Type.getClassFields(App);\n\t\tfor (f in fields)\n\t\t{\n\t\t\tif(Reflect.field(config, f)!=null)\n\t\t\tReflect.setField(App, f, Reflect.field(config, f));\n\t\t\t//trace(Reflect.field(App, f));\n\t\t}\n\t\tbasePath = Browser.location.pathname.split(config.appName)[0] + config.appName + '/';\n\t\t//trace(cssStyles);\n\t\tist.globals = { firstLoad:true};\n\t\tist.globals = { };\n\t\t//ist.initUI(config.views);\t\t\n\n\t\treturn ist;\n\t}\n\t\n\tfunction initUI(viewConfigs:Array<Dynamic>):Void\n\t{//trace(viewConfigs);\n\t\tfor (v in viewConfigs)\n\t\t{\n\t\t\tvar className:String = Reflect.fields(v)[0];\n\t\t\tvar iParam:Dynamic = Reflect.field(v, className);\n\t\t\t//trace(className + ':' + iParam);\n\t\t\tvar cl:Class<Dynamic> = Type.resolveClass('view.' + className);\n\t\t\tif (cl != null)\n\t\t\t{\n\t\t\t\t//trace(cl);\n\t\t\t\tvar av:View = Type.createInstance(cl, [iParam]);\n\t\t\t\tviews.set(av.instancePath, av);\t\t\t\t\n\t\t\t\ttrace(\"views.set(\" +av.instancePath +\")\");\t\t\t\t\n\t\t\t\t//views.set(iParam.id, av);\t\t\t\t\n\t\t\t\t//trace(\"views.set(\" +iParam.id +\")\");\n\t\t\t}\n\t\t}\n\t\tJ(Browser.window).keydown(function(evt) {\n\t\t\tswitch (evt.which) { \n\t\t\t\tcase 16:\n\t\t\t\t\tshiftPressed = true;\n\t\t\t\tcase 17:\n\t\t\t\t\tctrlPressed = true;\n\t\t\t\tcase 18:\n\t\t\t\t\taltPressed = true;\t\t\t\n\t\t\t}\n\t\t}).keyup(function(evt) {\n\t\t\tswitch (evt.which) { \n\t\t\t\tcase 16:\n\t\t\t\t\tshiftPressed = false;\n\t\t\t\tcase 17:\n\t\t\t\t\tctrlPressed = false;\n\t\t\t\tcase 18:\n\t\t\t\t\taltPressed = false;\n\t\t\t }\n\t\t});\t\n\t\tTimer.delay(function() {\n\t\t\t//views.get(rootViewPath).runLoaders();\n\t\t\tviews.get(rootViewPath).runLoaders();\n\t\t},500);\n\t\t\n\t}\n\t\n\tpublic function prepareAgentMap():Array<Array<String>>\n\t{\n\tvar agents:Array<Array<String>> = [['','']];\n\t\tvar users:Array<Dynamic> = App.ist.globals.userMap.users;\n\t\tfor (u in users) \n\t\t{\n\t\t\tif (u.user_group.indexOf('AGENT')==0 && u.active == 'Y')\n\t\t\t{\n\t\t\t\tagents.push([u.user ,u.full_name]);\t\t\n\t\t\t}\n\t\t}\n\t\treturn agents;\n\t}\n\t\n\tpublic static function getMainSpace():Rectangle\n\t{\n\t\tvar navH:Float = J('.ui-tabs-nav').outerHeight();\n\t\treturn \n\t\t{\n\t\t\ttop:navH + 5,\n\t\t\tleft:0,\n\t\t\theight:J(Browser.window).height() -  Std.parseFloat(J('#mtabs').css('padding-top')) -  Std.parseFloat(J('#mtabs').css('padding-bottom') ) - navH,\n\t\t\twidth:J(Browser.window).width() * .7\n\t\t};\n\t}\n\t\n\tpublic static function getViews(): StringMap<View>\n\t{\n\t\treturn ist.views;\n\t}\n\t\n\tpublic static function dateSort(a:String, b:Array<Dynamic>):Void\n\t{\n\t\tuntyped Browser.window.dateSort(a, b);\n\t}\n\t\n\tfunction test()\n\t{\n\t\tvar template = \"{a} Hello {c} World!\";\n\t\tvar data = { a:123, b:333, c:\"{nested}\" };\n\t\tvar t:String = \"hello\";\n\t\ttrace(t + ':' + t.indexOf('lo'));\n\t\tvar ctempl:String = ~/{([a-x]*)}/g.map(template, function(r:EReg)\n\t\t{\n\t\t\t//Out.dumpObject(r);\n\t\t\tvar m:String = r.matched(1);\n\t\t\tvar d:String = Std.string(Reflect.field(data, m));\n\t\t\tif (d.indexOf('{')==0)\n\t\t\ttrace(\"nested template :) \" + d.indexOf('{'));\n\t\t\treturn d;\n\t\t});\n\t\ttrace(ctempl);\n\t}\n\t\n}","package js.jquery;\n\n@:noPackageRestrict\n#if js extern #end class Helper {\n\tmacro public static function J(exprs:Array<haxe.macro.Expr>) {\n\t\treturn macro new js.jquery.JQuery($a{exprs});\n\t}\n\n\t#if !macro\n\tpublic static var JTHIS(get, null) : js.jquery.JQuery;\n\n\tstatic inline function get_JTHIS() : js.jquery.JQuery {\n\t\treturn new js.jquery.JQuery(js.Lib.nativeThis);\n\t}\n\t#end\n}","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tThe DateTools class contains some extra functionalities for handling `Date`\n\tinstances and timestamps.\n\n\tIn the context of Haxe dates, a timestamp is defined as the number of\n\tmilliseconds elapsed since 1st January 1970.\n**/\nclass DateTools {\n\t#if php\n\t#elseif (neko && !(macro || interp))\n\tstatic var date_format = neko.Lib.load(\"std\", \"date_format\", 2);\n\t#else\n\tstatic var DAY_SHORT_NAMES = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\tstatic var DAY_NAMES = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\tstatic var MONTH_SHORT_NAMES = [\n\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n\t];\n\tstatic var MONTH_NAMES = [\n\t\t\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n\t];\n\n\tprivate static function __format_get(d:Date, e:String):String {\n\t\treturn switch (e) {\n\t\t\tcase \"%\":\n\t\t\t\t\"%\";\n\t\t\tcase \"a\":\n\t\t\t\tDAY_SHORT_NAMES[d.getDay()];\n\t\t\tcase \"A\":\n\t\t\t\tDAY_NAMES[d.getDay()];\n\t\t\tcase \"b\", \"h\":\n\t\t\t\tMONTH_SHORT_NAMES[d.getMonth()];\n\t\t\tcase \"B\":\n\t\t\t\tMONTH_NAMES[d.getMonth()];\n\t\t\tcase \"C\":\n\t\t\t\tStringTools.lpad(Std.string(Std.int(d.getFullYear() / 100)), \"0\", 2);\n\t\t\tcase \"d\":\n\t\t\t\tStringTools.lpad(Std.string(d.getDate()), \"0\", 2);\n\t\t\tcase \"D\":\n\t\t\t\t__format(d, \"%m/%d/%y\");\n\t\t\tcase \"e\":\n\t\t\t\tStd.string(d.getDate());\n\t\t\tcase \"F\":\n\t\t\t\t__format(d, \"%Y-%m-%d\");\n\t\t\tcase \"H\", \"k\":\n\t\t\t\tStringTools.lpad(Std.string(d.getHours()), if (e == \"H\") \"0\" else \" \", 2);\n\t\t\tcase \"I\", \"l\":\n\t\t\t\tvar hour = d.getHours() % 12;\n\t\t\t\tStringTools.lpad(Std.string(hour == 0 ? 12 : hour), if (e == \"I\") \"0\" else \" \", 2);\n\t\t\tcase \"m\":\n\t\t\t\tStringTools.lpad(Std.string(d.getMonth() + 1), \"0\", 2);\n\t\t\tcase \"M\":\n\t\t\t\tStringTools.lpad(Std.string(d.getMinutes()), \"0\", 2);\n\t\t\tcase \"n\":\n\t\t\t\t\"\\n\";\n\t\t\tcase \"p\":\n\t\t\t\tif (d.getHours() > 11) \"PM\"; else \"AM\";\n\t\t\tcase \"r\":\n\t\t\t\t__format(d, \"%I:%M:%S %p\");\n\t\t\tcase \"R\":\n\t\t\t\t__format(d, \"%H:%M\");\n\t\t\tcase \"s\":\n\t\t\t\tStd.string(Std.int(d.getTime() / 1000));\n\t\t\tcase \"S\":\n\t\t\t\tStringTools.lpad(Std.string(d.getSeconds()), \"0\", 2);\n\t\t\tcase \"t\":\n\t\t\t\t\"\\t\";\n\t\t\tcase \"T\":\n\t\t\t\t__format(d, \"%H:%M:%S\");\n\t\t\tcase \"u\":\n\t\t\t\tvar t = d.getDay();\n\t\t\t\tif (t == 0) \"7\" else Std.string(t);\n\t\t\tcase \"w\":\n\t\t\t\tStd.string(d.getDay());\n\t\t\tcase \"y\":\n\t\t\t\tStringTools.lpad(Std.string(d.getFullYear() % 100), \"0\", 2);\n\t\t\tcase \"Y\":\n\t\t\t\tStd.string(d.getFullYear());\n\t\t\tdefault:\n\t\t\t\tthrow new haxe.exceptions.NotImplementedException(\"Date.format %\" + e + \"- not implemented yet.\");\n\t\t}\n\t}\n\n\tprivate static function __format(d:Date, f:String):String {\n\t\tvar r = new StringBuf();\n\t\tvar p = 0;\n\t\twhile (true) {\n\t\t\tvar np = f.indexOf(\"%\", p);\n\t\t\tif (np < 0)\n\t\t\t\tbreak;\n\n\t\t\tr.addSub(f, p, np - p);\n\t\t\tr.add(__format_get(d, f.substr(np + 1, 1)));\n\n\t\t\tp = np + 2;\n\t\t}\n\t\tr.addSub(f, p, f.length - p);\n\t\treturn r.toString();\n\t}\n\t#end\n\n\t/**\n\t\tFormat the date `d` according to the format `f`. The format is\n\t\tcompatible with the `strftime` standard format, except that there is no\n\t\tsupport in Flash and JS for day and months names (due to lack of proper\n\t\tinternationalization API). On Haxe/Neko/Windows, some formats are not\n\t\tsupported.\n\n\t\t```haxe\n\t\tvar t = DateTools.format(Date.now(), \"%Y-%m-%d_%H:%M:%S\");\n\t\t// 2016-07-08_14:44:05\n\n\t\tvar t = DateTools.format(Date.now(), \"%r\");\n\t\t// 02:44:05 PM\n\n\t\tvar t = DateTools.format(Date.now(), \"%T\");\n\t\t// 14:44:05\n\n\t\tvar t = DateTools.format(Date.now(), \"%F\");\n\t\t// 2016-07-08\n\t\t```\n\t**/\n\tpublic static function format(d:Date, f:String):String {\n\t\t#if (neko && !(macro || interp))\n\t\treturn new String(untyped date_format(d.__t, f.__s));\n\t\t#elseif php\n\t\treturn php.Global.strftime(f, php.Syntax.int(@:privateAccess d.__t));\n\t\t#else\n\t\treturn __format(d, f);\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns the result of adding timestamp `t` to Date `d`.\n\n\t\tThis is a convenience function for calling\n\t\t`Date.fromTime(d.getTime() + t)`.\n\t**/\n\tpublic static inline function delta(d:Date, t:Float):Date {\n\t\treturn Date.fromTime(d.getTime() + t);\n\t}\n\n\tstatic var DAYS_OF_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n\t/**\n\t\tReturns the number of days in the month of Date `d`.\n\n\t\tThis method handles leap years.\n\t**/\n\tpublic static function getMonthDays(d:Date):Int {\n\t\tvar month = d.getMonth();\n\t\tvar year = d.getFullYear();\n\n\t\tif (month != 1)\n\t\t\treturn DAYS_OF_MONTH[month];\n\n\t\tvar isB = ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0);\n\t\treturn if (isB) 29 else 28;\n\t}\n\n\t/**\n\t\tConverts a number of seconds to a timestamp.\n\t**/\n\tpublic static inline function seconds(n:Float):Float {\n\t\treturn n * 1000.0;\n\t}\n\n\t/**\n\t\tConverts a number of minutes to a timestamp.\n\t**/\n\tpublic static inline function minutes(n:Float):Float {\n\t\treturn n * 60.0 * 1000.0;\n\t}\n\n\t/**\n\t\tConverts a number of hours to a timestamp.\n\t**/\n\tpublic static inline function hours(n:Float):Float {\n\t\treturn n * 60.0 * 60.0 * 1000.0;\n\t}\n\n\t/**\n\t\tConverts a number of days to a timestamp.\n\t**/\n\tpublic static inline function days(n:Float):Float {\n\t\treturn n * 24.0 * 60.0 * 60.0 * 1000.0;\n\t}\n\n\t/**\n\t\tSeparate a date-time into several components\n\t**/\n\tpublic static function parse(t:Float) {\n\t\tvar s = t / 1000;\n\t\tvar m = s / 60;\n\t\tvar h = m / 60;\n\t\treturn {\n\t\t\tms: t % 1000,\n\t\t\tseconds: Std.int(s % 60),\n\t\t\tminutes: Std.int(m % 60),\n\t\t\thours: Std.int(h % 24),\n\t\t\tdays: Std.int(h / 24),\n\t\t};\n\t}\n\n\t/**\n\t\tBuild a date-time from several components\n\t**/\n\tpublic static function make(o:{\n\t\tms:Float,\n\t\tseconds:Int,\n\t\tminutes:Int,\n\t\thours:Int,\n\t\tdays:Int\n\t}) {\n\t\treturn o.ms + 1000.0 * (o.seconds + 60.0 * (o.minutes + 60.0 * (o.hours + 24.0 * o.days)));\n\t}\n\n\t#if (js || flash || php || cpp || python)\n\t/**\n\t\tRetrieve Unix timestamp value from Date components. Takes same argument sequence as the Date constructor.\n\t**/\n\tpublic static #if (js || flash || php) inline #end function makeUtc(year:Int, month:Int, day:Int, hour:Int, min:Int, sec:Int):Float {\n\t\t#if (js || flash || python)\n\t\treturn untyped Date.UTC(year, month, day, hour, min, sec);\n\t\t#elseif php\n\t\treturn php.Global.gmmktime(hour, min, sec, month + 1, day, year) * 1000;\n\t\t#elseif cpp\n\t\treturn untyped __global__.__hxcpp_utc_date(year, month, day, hour, min, sec) * 1000.0;\n\t\t#else\n\t\t// TODO\n\t\treturn 0.;\n\t\t#end\n\t}\n\t#end\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class EReg {\n\tvar r:HaxeRegExp;\n\n\tpublic inline function new(r:String, opt:String):Void {\n\t\tthis.r = new HaxeRegExp(r, opt.split(\"u\").join(\"\")); // 'u' (utf8) depends on page encoding\n\t}\n\n\tpublic function match(s:String):Bool {\n\t\tif (r.global)\n\t\t\tr.lastIndex = 0;\n\t\tr.m = r.exec(s);\n\t\tr.s = s;\n\t\treturn (r.m != null);\n\t}\n\n\tpublic function matched(n:Int):String {\n\t\treturn if (r.m != null && n >= 0 && n < r.m.length) r.m[n] else throw \"EReg::matched\";\n\t}\n\n\tpublic function matchedLeft():String {\n\t\tif (r.m == null)\n\t\t\tthrow \"No string matched\";\n\t\treturn r.s.substr(0, r.m.index);\n\t}\n\n\tpublic function matchedRight():String {\n\t\tif (r.m == null)\n\t\t\tthrow \"No string matched\";\n\t\tvar sz = r.m.index + r.m[0].length;\n\t\treturn r.s.substr(sz, r.s.length - sz);\n\t}\n\n\tpublic function matchedPos():{pos:Int, len:Int} {\n\t\tif (r.m == null)\n\t\t\tthrow \"No string matched\";\n\t\treturn {pos: r.m.index, len: r.m[0].length};\n\t}\n\n\tpublic function matchSub(s:String, pos:Int, len:Int = -1):Bool {\n\t\treturn if (r.global) {\n\t\t\tr.lastIndex = pos;\n\t\t\tr.m = r.exec(len < 0 ? s : s.substr(0, pos + len));\n\t\t\tvar b = r.m != null;\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t}\n\t\t\tb;\n\t\t} else {\n\t\t\t// TODO: check some ^/$ related corner cases\n\t\t\tvar b = match(len < 0 ? s.substr(pos) : s.substr(pos, len));\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t\tr.m.index += pos;\n\t\t\t}\n\t\t\tb;\n\t\t}\n\t}\n\n\tpublic function split(s:String):Array<String> {\n\t\t// we can't use directly s.split because it's ignoring the 'g' flag\n\t\tvar d = \"#__delim__#\";\n\t\treturn replace(s, d).split(d);\n\t}\n\n\tpublic inline function replace(s:String, by:String):String {\n\t\treturn (cast s).replace(r, by);\n\t}\n\n\tpublic function map(s:String, f:EReg->String):String {\n\t\tvar offset = 0;\n\t\tvar buf = new StringBuf();\n\t\tdo {\n\t\t\tif (offset >= s.length)\n\t\t\t\tbreak;\n\t\t\telse if (!matchSub(s, offset)) {\n\t\t\t\tbuf.add(s.substr(offset));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar p = matchedPos();\n\t\t\tbuf.add(s.substr(offset, p.pos - offset));\n\t\t\tbuf.add(f(this));\n\t\t\tif (p.len == 0) {\n\t\t\t\tbuf.add(s.substr(p.pos, 1));\n\t\t\t\toffset = p.pos + 1;\n\t\t\t} else\n\t\t\t\toffset = p.pos + p.len;\n\t\t} while (r.global);\n\t\tif (!r.global && offset > 0 && offset < s.length)\n\t\t\tbuf.add(s.substr(offset));\n\t\treturn buf.toString();\n\t}\n\n\tpublic static inline function escape(s:String):String {\n\t\treturn (cast s).replace(escapeRe, \"\\\\$&\");\n\t}\n\n\tstatic var escapeRe = new js.lib.RegExp(\"[.*+?^${}()|[\\\\]\\\\\\\\]\", \"g\");\n}\n\n@:native(\"RegExp\")\nprivate extern class HaxeRegExp extends js.lib.RegExp {\n\tvar m:js.lib.RegExp.RegExpMatch;\n\tvar s:String;\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:noDoc\nclass HxOverrides {\n\tstatic function dateStr(date:Date):String {\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar h = date.getHours();\n\t\tvar mi = date.getMinutes();\n\t\tvar s = date.getSeconds();\n\t\treturn date.getFullYear() + \"-\" + (if (m < 10) \"0\" + m else \"\" + m) + \"-\" + (if (d < 10) \"0\" + d else \"\" + d) + \" \"\n\t\t\t+ (if (h < 10) \"0\" + h else \"\" + h) + \":\" + (if (mi < 10) \"0\" + mi else \"\" + mi) + \":\" + (if (s < 10) \"0\" + s else \"\" + s);\n\t}\n\n\tstatic function strDate(s:String):Date {\n\t\tswitch (s.length) {\n\t\t\tcase 8: // hh:mm:ss\n\t\t\t\tvar k = s.split(\":\");\n\t\t\t\tvar d = js.Syntax.construct(Date);\n\t\t\t\t(cast d)[cast \"setTime\"](0);\n\t\t\t\t(cast d)[cast \"setUTCHours\"](k[0]);\n\t\t\t\t(cast d)[cast \"setUTCMinutes\"](k[1]);\n\t\t\t\t(cast d)[cast \"setUTCSeconds\"](k[2]);\n\t\t\t\treturn d;\n\t\t\tcase 10: // YYYY-MM-DD\n\t\t\t\tvar k = s.split(\"-\");\n\t\t\t\treturn new Date(cast k[0], (cast k[1]) - 1, cast k[2], 0, 0, 0);\n\t\t\tcase 19: // YYYY-MM-DD hh:mm:ss\n\t\t\t\tvar k = s.split(\" \");\n\t\t\t\tvar y = k[0].split(\"-\");\n\t\t\t\tvar t = k[1].split(\":\");\n\t\t\t\treturn new Date(cast y[0], (cast y[1]) - 1, cast y[2], cast t[0], cast t[1], cast t[2]);\n\t\t\tdefault:\n\t\t\t\tthrow \"Invalid date format : \" + s;\n\t\t}\n\t}\n\n\t@:pure\n\tstatic function cca(s:String, index:Int):Null<Int> {\n\t\tvar x = (cast s).charCodeAt(index);\n\t\tif (x != x) // fast isNaN\n\t\t\treturn js.Lib.undefined; // isNaN will still return true\n\t\treturn x;\n\t}\n\n\t@:pure\n\tstatic function substr(s:String, pos:Int, ?len:Int):String {\n\t\tif (len == null) {\n\t\t\tlen = s.length;\n\t\t} else if (len < 0) {\n\t\t\tif (pos == 0)\n\t\t\t\tlen = s.length + len;\n\t\t\telse\n\t\t\t\treturn \"\";\n\t\t}\n\n\t\t#if (js_es < 5)\n\t\tif (pos < 0) {\n\t\t\tpos = s.length + pos;\n\t\t\tif (pos < 0)\n\t\t\t\tpos = 0;\n\t\t}\n\t\t#end\n\n\t\treturn (cast s).substr(pos, len);\n\t}\n\n\t@:pure\n\tstatic function indexOf<T>(a:Array<T>, obj:T, i:Int) {\n\t\tvar len = a.length;\n\t\tif (i < 0) {\n\t\t\ti += len;\n\t\t\tif (i < 0)\n\t\t\t\ti = 0;\n\t\t}\n\t\twhile (i < len) {\n\t\t\tif (js.Syntax.strictEq(a[i], obj))\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\t@:pure\n\tstatic function lastIndexOf<T>(a:Array<T>, obj:T, i:Int) {\n\t\tvar len = a.length;\n\t\tif (i >= len)\n\t\t\ti = len - 1;\n\t\telse if (i < 0)\n\t\t\ti += len;\n\t\twhile (i >= 0) {\n\t\t\tif (js.Syntax.strictEq(a[i], obj))\n\t\t\t\treturn i;\n\t\t\ti--;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function remove<T>(a:Array<T>, obj:T) {\n\t\tvar i = a.indexOf(obj);\n\t\tif (i == -1)\n\t\t\treturn false;\n\t\ta.splice(i, 1);\n\t\treturn true;\n\t}\n\n\t@:pure\n\tstatic function iter<T>(a:Array<T>):Iterator<T>\n\t\tuntyped {\n\t\t\treturn {\n\t\t\t\tcur: 0,\n\t\t\t\tarr: a,\n\t\t\t\thasNext: function() {\n\t\t\t\t\treturn __this__.cur < __this__.arr.length;\n\t\t\t\t},\n\t\t\t\tnext: function() {\n\t\t\t\t\treturn __this__.arr[__this__.cur++];\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t@:ifFeature(\"anon_read.keyValueIterator\", \"dynamic_read.keyValueIterator\", \"closure_read.keyValueIterator\")\n\tstatic function keyValueIter<T>( a : Array<T> ) {\n\t\treturn new haxe.iterators.ArrayKeyValueIterator(a);\n\t}\n\n\t@:pure\n\tstatic function now(): Float return js.lib.Date.now();\n\n\tstatic function __init__()\n\t\tuntyped {\n\t\t\t#if (js_es < 5)\n\t\t\t__feature__('HxOverrides.indexOf',\n\t\t\t\tif (Array.prototype.indexOf) js.Syntax.code(\"HxOverrides\").indexOf = function(a, o, i) return Array.prototype.indexOf.call(a, o, i));\n\t\t\t__feature__('HxOverrides.lastIndexOf',\n\t\t\t\tif (Array.prototype.lastIndexOf) js.Syntax.code(\"HxOverrides\").lastIndexOf = function(a, o, i) return Array.prototype.lastIndexOf.call(a, o, i));\n\t\t\t#end\n\n\t\t\t__feature__('HxOverrides.now',\n\t\t\t\tif (js.Syntax.typeof(performance) != 'undefined' && js.Syntax.typeof(performance.now) == 'function') {\n\t\t\t\t\tHxOverrides.now = performance.now.bind(performance);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tThe `Lambda` class is a collection of methods to support functional\n\tprogramming. It is ideally used with 'using Lambda' and then acts as an\n\textension to Iterable types.\n\n\tOn static platforms, working with the Iterable structure might be slower\n\tthan performing the operations directly on known types, such as Array and\n\tList.\n\n\tIf the first argument to any of the methods is null, the result is\n\tunspecified.\n**/\nclass Lambda {\n\n\t/**\n\t\tCreates an Array from Iterable `it`.\n\n\t\tIf `it` is an Array, this function returns a copy of it.\n\t**/\n\tpublic static function array<A>( it : Iterable<A> ) : Array<A> {\n\t\tvar a = new Array<A>();\n\t\tfor(i in it)\n\t\t\ta.push(i);\n\t\treturn a;\n\t}\n\n\t/**\n\t\tCreates a List form Iterable `it`.\n\n\t\tIf `it` is a List, this function returns a copy of it.\n\t**/\n\tpublic static function list<A>( it : Iterable<A> ) : List<A> {\n\t\tvar l = new List<A>();\n\t\tfor(i in it)\n\t\t\tl.add(i);\n\t\treturn l;\n\t}\n\n\t/**\n\t\tCreates a new List by applying function `f` to all elements of `it`.\n\n\t\tThe order of elements is preserved.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function map<A,B>( it : Iterable<A>, f : A -> B ) : List<B> {\n\t\tvar l = new List<B>();\n\t\tfor( x in it )\n\t\t\tl.add(f(x));\n\t\treturn l;\n\t}\n\n\t/**\n\t\tSimilar to map, but also passes the index of each element to `f`.\n\n\t\tThe order of elements is preserved.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function mapi<A,B>( it : Iterable<A>, f : Int -> A -> B ) : List<B> {\n\t\tvar l = new List<B>();\n\t\tvar i = 0;\n\t\tfor( x in it )\n\t\t\tl.add(f(i++,x));\n\t\treturn l;\n\t}\n\n\t/**\n\t\tTells if `it` contains `elt`.\n\n\t\tThis function returns true as soon as an element is found which is equal\n\t\tto `elt` according to the `==` operator.\n\n\t\tIf no such element is found, the result is false.\n\t**/\n\tpublic static function has<A>( it : Iterable<A>, elt : A ) : Bool {\n\t\tfor( x in it )\n\t\t\tif( x == elt )\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\t/**\n\t\tTells if `it` contains an element for which `f` is true.\n\n\t\tThis function returns true as soon as an element is found for which a\n\t\tcall to `f` returns true.\n\n\t\tIf no such element is found, the result is false.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function exists<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tfor( x in it )\n\t\t\tif( f(x) )\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\t/**\n\t\tTells if `f` is true for all elements of `it`.\n\n\t\tThis function returns false as soon as an element is found for which a\n\t\tcall to `f` returns false.\n\n\t\tIf no such element is found, the result is true.\n\n\t\tIn particular, this function always returns true if `it` is empty.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function foreach<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tfor( x in it )\n\t\t\tif( !f(x) )\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n\t\n\t\t/**\n\t\tTells if `f` is true for one elements of `it`.\n\n\t\tThis function returns false as soon as an element is found for which a\n\t\tcall to `f` returns false.\n\n\t\tIf no such element is found, the result is true.\n\n\t\tIn particular, this function always returns true if `it` is empty.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function forone<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tfor( x in it )\n\t\t\tif( f(x) )\n\t\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\n\t/**\n\t\tCalls `f` on all elements of `it`, in order.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function iter<A>( it : Iterable<A>, f : A -> Void ) {\n\t\tfor( x in it )\n\t\t\tf(x);\n\t}\n\n\t/**\n\t\tReturns a List containing those elements of `it` for which `f` returned\n\t\ttrue.\n\n\t\tIf `it` is empty, the result is the empty List even if `f` is null.\n\n\t\tOtherwise if `f` is null, the result is unspecified.\n\t**/\n\tpublic static function filter<A>( it : Iterable<A>, f : A -> Bool ) {\n\t\tvar l = new List<A>();\n\t\tfor( x in it )\n\t\t\tif( f(x) )\n\t\t\t\tl.add(x);\n\t\treturn l;\n\t}\n\n\t/**\n\t\tFunctional fold on Iterable `it`, using function `f` with start argument\n\t\t`first`.\n\n\t\tIf `it` has no elements, the result is `first`.\n\n\t\tOtherwise the first element of `it` is passed to `f` alongside `first`.\n\t\tThe result of that call is then passed to `f` with the next element of\n\t\t`it`, and so on until `it` has no more elements.\n\n\t\tIf `it` or `f` are null, the result is unspecified.\n\t**/\n\tpublic static function fold<A,B>( it : Iterable<A>, f : A -> B -> B, first : B ) : B {\n\t\tfor( x in it )\n\t\t\tfirst = f(x,first);\n\t\treturn first;\n\t}\n\n\t/**\n\t\tReturns the number of elements in `it` for which `pred` is true, or the\n\t\ttotal number of elements in `it` if `pred` is null.\n\n\t\tThis function traverses all elements.\n\t**/\n\tpublic static function count<A>( it : Iterable<A>, ?pred : A -> Bool ) {\n\t\tvar n = 0;\n\t\tif( pred == null )\n\t\t\tfor( _ in it )\n\t\t\t\tn++;\n\t\telse\n\t\t\tfor( x in it )\n\t\t\t\tif( pred(x) )\n\t\t\t\t\tn++;\n\t\treturn n;\n\t}\n\n\t/**\n\t\tTells if Iterable `it` does not contain any element.\n\t**/\n\tpublic static function empty<T>( it : Iterable<T> ) : Bool {\n\t\treturn !it.iterator().hasNext();\n\t}\n\n\t/**\n\t\tReturns the index of the first element `v` within Iterable `it`.\n\n\t\tThis function uses operator `==` to check for equality.\n\n\t\tIf `v` does not exist in `it`, the result is -1.\n\t**/\n\tpublic static function indexOf<T>( it : Iterable<T>, v : T ) : Int {\n\t\tvar i = 0;\n\t\tfor( v2 in it ) {\n\t\t\tif( v == v2 )\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\t/**\n\t\tReturns the first element of `it` for which `f` is true.\n\n\t\tThis function returns as soon as an element is found for which a call to\n\t\t`f` returns true.\n\n\t\tIf no such element is found, the result is null.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function find<T>( it : Iterable<T>, f : T -> Bool ) : Null<T> {\n\t\tfor( v in it ) {\n\t\t\tif(f(v)) return v;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t\tReturns a new List containing all elements of Iterable `a` followed by\n\t\tall elements of Iterable `b`.\n\n\t\tIf `a` or `b` are null, the result is unspecified.\n\t**/\n\tpublic static function concat<T>( a : Iterable<T>, b : Iterable<T> ) : List<T> {\n\t\tvar l = new List();\n\t\tfor( x in a )\n\t\t\tl.add(x);\n\t\tfor( x in b )\n\t\t\tl.add(x);\n\t\treturn l;\n\t}\n\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class Reflect {\n\t@:pure\n\tpublic inline static function hasField(o:Dynamic, field:String):Bool {\n\t\treturn js.lib.Object.prototype.hasOwnProperty.call(o, field);\n\t}\n\n\t@:pure\n\tpublic static function field(o:Dynamic, field:String):Dynamic {\n\t\ttry\n\t\t\treturn o[cast field]\n\t\tcatch (e:Dynamic)\n\t\t\treturn null;\n\t}\n\n\tpublic inline static function setField(o:Dynamic, field:String, value:Dynamic):Void {\n\t\to[cast field] = value;\n\t}\n\n\tpublic static function getProperty(o:Dynamic, field:String):Dynamic\n\t\tuntyped {\n\t\t\tvar tmp;\n\t\t\treturn if (o == null) __define_feature__(\"Reflect.getProperty\",\n\t\t\t\tnull) else if (o.__properties__ && (tmp = o.__properties__[\"get_\" + field])) o[tmp]() else o[field];\n\t\t}\n\n\tpublic static function setProperty(o:Dynamic, field:String, value:Dynamic):Void\n\t\tuntyped {\n\t\t\tvar tmp;\n\t\t\tif (o.__properties__ && (tmp = o.__properties__[\"set_\" + field]))\n\t\t\t\to[tmp](value)\n\t\t\telse\n\t\t\t\to[field] = __define_feature__(\"Reflect.setProperty\", value);\n\t\t}\n\n\tpublic inline static function callMethod(o:Dynamic, func:haxe.Constraints.Function, args:Array<Dynamic>):Dynamic {\n\t\treturn (cast func : js.lib.Function).apply(o, args);\n\t}\n\n\tpublic static function fields(o:Dynamic):Array<String> {\n\t\tvar a = [];\n\t\tif (o != null)\n\t\t\tuntyped {\n\t\t\t\tvar hasOwnProperty = js.lib.Object.prototype.hasOwnProperty;\n\t\t\t\tjs.Syntax.code(\"for( var f in o ) {\");\n\t\t\t\tif (f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f))\n\t\t\t\t\ta.push(f);\n\t\t\t\tjs.Syntax.code(\"}\");\n\t\t\t}\n\t\treturn a;\n\t}\n\n\t@:access(js.Boot)\n\tpublic static function isFunction(f:Dynamic):Bool {\n\t\treturn js.Syntax.typeof(f) == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\n\t}\n\n\tpublic static function compare<T>(a:T, b:T):Int {\n\t\treturn (a == b) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\n\t}\n\n\tpublic static function compareMethods(f1:Dynamic, f2:Dynamic):Bool {\n\t\tif (f1 == f2)\n\t\t\treturn true;\n\t\tif (!isFunction(f1) || !isFunction(f2))\n\t\t\treturn false;\n\t\treturn f1.scope == f2.scope && f1.method == f2.method && f1.method != null;\n\t}\n\n\t@:access(js.Boot)\n\tpublic static function isObject(v:Dynamic):Bool {\n\t\tif (v == null)\n\t\t\treturn false;\n\t\tvar t = js.Syntax.typeof(v);\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null))\n\t\t\t|| (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\n\t}\n\n\tpublic static function isEnumValue(v:Dynamic):Bool {\n\t\treturn v != null && v.__enum__ != null;\n\t}\n\n\tpublic static function deleteField(o:Dynamic, field:String):Bool {\n\t\tif (!hasField(o, field))\n\t\t\treturn false;\n\t\tjs.Syntax.delete(o, field);\n\t\treturn true;\n\t}\n\n\tpublic static function copy<T>(o:Null<T>):Null<T> {\n\t\tif (o == null)\n\t\t\treturn null;\n\t\tvar o2:Dynamic = {};\n\t\tfor (f in Reflect.fields(o))\n\t\t\tReflect.setField(o2, f, Reflect.field(o, f));\n\t\treturn o2;\n\t}\n\n\t@:overload(function(f:Array<Dynamic>->Void):Dynamic {})\n\tpublic static function makeVarArgs(f:Array<Dynamic>->Dynamic):Dynamic {\n\t\treturn function() {\n\t\t\tvar a = untyped Array.prototype.slice.call(js.Syntax.code(\"arguments\"));\n\t\t\treturn f(a);\n\t\t};\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nimport js.Boot;\nimport js.Syntax;\n\n@:keepInit\n@:coreApi class Std {\n\t@:deprecated('Std.is is deprecated. Use Std.isOfType instead.')\n\tpublic static inline function is(v:Dynamic, t:Dynamic):Bool {\n\t\treturn isOfType(v, t);\n\t}\n\n\tpublic static inline function isOfType(v:Dynamic, t:Dynamic):Bool {\n\t\treturn @:privateAccess js.Boot.__instanceof(v, t);\n\t}\n\n\tpublic static inline function downcast<T:{}, S:T>(value:T, c:Class<S>):S@:privateAccess {\n\t\treturn if (js.Boot.__downcastCheck(value, c)) cast value else null;\n\t}\n\n\t@:deprecated('Std.instance() is deprecated. Use Std.downcast() instead.')\n\tpublic static inline function instance<T:{}, S:T>(value:T, c:Class<S>):S {\n\t\treturn downcast(value, c);\n\t}\n\n\t@:pure\n\tpublic static function string(s:Dynamic):String {\n\t\treturn @:privateAccess js.Boot.__string_rec(s, \"\");\n\t}\n\n\tpublic static inline function int(x:Float):Int {\n\t\treturn (cast x) | 0;\n\t}\n\n\t@:pure\n\tpublic static function parseInt(x:String):Null<Int> {\n\t\tif(x != null) {\n\t\t\tfor(i in 0...x.length) {\n\t\t\t\tvar c = StringTools.fastCodeAt(x, i);\n\t\t\t\tif(c <= 8 || (c >= 14 && c != ' '.code && c != '-'.code)) {\n\t\t\t\t\tvar nc = StringTools.fastCodeAt(x, i + 1);\n\t\t\t\t\tvar v = js.Lib.parseInt(x, (nc == \"x\".code || nc == \"X\".code) ? 16 : 10);\n\t\t\t\t\treturn Math.isNaN(v) ? null : cast v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic static inline function parseFloat(x:String):Float {\n\t\treturn js.Syntax.code(\"parseFloat({0})\", x);\n\t}\n\n\tpublic static function random(x:Int):Int {\n\t\treturn x <= 0 ? 0 : Math.floor(Math.random() * x);\n\t}\n\n\tstatic function __init__():Void\n\t\tuntyped {\n\t\t\t__feature__(\"js.Boot.getClass\", String.prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"String\"] = String, String));\n\t\t\t__feature__(\"js.Boot.isClass\", String.__name__ = __feature__(\"Type.getClassName\", \"String\", true));\n\t\t\t__feature__(\"Type.resolveClass\", $hxClasses[\"Array\"] = Array);\n\t\t\t__feature__(\"js.Boot.isClass\", Array.__name__ = __feature__(\"Type.getClassName\", \"Array\", true));\n\t\t\t__feature__(\"Date.*\", {\n\t\t\t\t__feature__(\"js.Boot.getClass\",\n\t\t\t\t\tjs.Syntax.code('Date').prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"Date\"] = js.Syntax.code('Date'), js.Syntax.code('Date')));\n\t\t\t\t__feature__(\"js.Boot.isClass\", js.Syntax.code('Date').__name__ = \"Date\");\n\t\t\t});\n\t\t\t__feature__(\"Int.*\", js.Syntax.code('var Int = { };'));\n\t\t\t__feature__(\"Dynamic.*\", js.Syntax.code('var Dynamic = { };'));\n\t\t\t__feature__(\"Float.*\", js.Syntax.code('var Float = Number'));\n\t\t\t__feature__(\"Bool.*\", js.Syntax.code('var Bool = Boolean'));\n\t\t\t__feature__(\"Class.*\", js.Syntax.code('var Class = { };'));\n\t\t\t__feature__(\"Enum.*\", js.Syntax.code('var Enum = { };'));\n\t\t\t#if (js_es < 5)\n\t\t\t__feature__(\"Array.map\", if (Array.prototype.map == null) Array.prototype.map = function(f) {\n\t\t\t\tvar a = [];\n\t\t\t\tfor (i in 0...__this__.length)\n\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\treturn a;\n\t\t\t});\n\t\t\t__feature__(\"Array.filter\", if (Array.prototype.filter == null) Array.prototype.filter = function(f) {\n\t\t\t\tvar a = [];\n\t\t\t\tfor (i in 0...__this__.length) {\n\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\tif (f(e))\n\t\t\t\t\t\ta.push(e);\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t});\n\t\t\t#end\n\t\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tA String buffer is an efficient way to build a big string by appending small\n\telements together.\n\n\tUnlike String, an instance of StringBuf is not immutable in the sense that\n\tit can be passed as argument to functions which modify it by appending more\n\tvalues.\n**/\nclass StringBuf {\n\tvar b:String;\n\n\t/**\n\t\tThe length of `this` StringBuf in characters.\n\t**/\n\tpublic var length(get, never):Int;\n\n\t/**\n\t\tCreates a new StringBuf instance.\n\n\t\tThis may involve initialization of the internal buffer.\n\t**/\n\tpublic inline function new() {\n\t\tb = \"\";\n\t}\n\n\tinline function get_length():Int {\n\t\treturn b.length;\n\t}\n\n\t/**\n\t\tAppends the representation of `x` to `this` StringBuf.\n\n\t\tThe exact representation of `x` may vary per platform. To get more\n\t\tconsistent behavior, this function should be called with\n\t\tStd.string(x).\n\n\t\tIf `x` is null, the String \"null\" is appended.\n\t**/\n\tpublic inline function add<T>(x:T):Void {\n\t\tb += x;\n\t}\n\n\t/**\n\t\tAppends the character identified by `c` to `this` StringBuf.\n\n\t\tIf `c` is negative or has another invalid value, the result is\n\t\tunspecified.\n\t**/\n\tpublic inline function addChar(c:Int):Void {\n\t\tb += String.fromCharCode(c);\n\t}\n\n\t/**\n\t\tAppends a substring of `s` to `this` StringBuf.\n\n\t\tThis function expects `pos` and `len` to describe a valid substring of\n\t\t`s`, or else the result is unspecified. To get more robust behavior,\n\t\t`this.add(s.substr(pos,len))` can be used instead.\n\n\t\tIf `s` or `pos` are null, the result is unspecified.\n\n\t\tIf `len` is omitted or null, the substring ranges from `pos` to the end\n\t\tof `s`.\n\t**/\n\tpublic inline function addSub(s:String, pos:Int, ?len:Int):Void {\n\t\tb += (len == null ? s.substr(pos) : s.substr(pos, len));\n\t}\n\n\t/**\n\t\tReturns the content of `this` StringBuf as String.\n\n\t\tThe buffer is not emptied by this operation.\n\t**/\n\tpublic inline function toString():String {\n\t\treturn b;\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nimport haxe.iterators.StringIterator;\nimport haxe.iterators.StringKeyValueIterator;\n\n#if cpp\nusing cpp.NativeString;\n#end\n\n/**\n\tThis class provides advanced methods on Strings. It is ideally used with\n\t`using StringTools` and then acts as an [extension](https://haxe.org/manual/lf-static-extension.html)\n\tto the `String` class.\n\n\tIf the first argument to any of the methods is null, the result is\n\tunspecified.\n**/\nclass StringTools {\n\t/**\n\t\tEncode an URL by using the standard format.\n\t**/\n\t#if (!java && !cpp && !lua && !eval) inline #end public static function urlEncode(s:String):String {\n\t\t#if flash\n\t\treturn untyped __global__[\"encodeURIComponent\"](s);\n\t\t#elseif neko\n\t\treturn untyped new String(_urlEncode(s.__s));\n\t\t#elseif js\n\t\treturn untyped encodeURIComponent(s);\n\t\t#elseif cpp\n\t\treturn untyped s.__URLEncode();\n\t\t#elseif java\n\t\treturn postProcessUrlEncode(java.net.URLEncoder.encode(s, \"UTF-8\"));\n\t\t#elseif cs\n\t\treturn untyped cs.system.Uri.EscapeDataString(s);\n\t\t#elseif python\n\t\treturn python.lib.urllib.Parse.quote(s, \"\");\n\t\t#elseif hl\n\t\tvar len = 0;\n\t\tvar b = @:privateAccess s.bytes.urlEncode(len);\n\t\treturn @:privateAccess String.__alloc__(b, len);\n\t\t#elseif lua\n\t\ts = lua.NativeStringTools.gsub(s, \"\\n\", \"\\r\\n\");\n\t\ts = lua.NativeStringTools.gsub(s, \"([^%w %-%_%.%~])\", function(c) {\n\t\t\treturn lua.NativeStringTools.format(\"%%%02X\", lua.NativeStringTools.byte(c) + '');\n\t\t});\n\t\ts = lua.NativeStringTools.gsub(s, \" \", \"+\");\n\t\treturn s;\n\t\t#else\n\t\treturn null;\n\t\t#end\n\t}\n\n\t#if java\n\tprivate static function postProcessUrlEncode(s:String):String {\n\t\tvar ret = new StringBuf();\n\t\tvar i = 0, len = s.length;\n\t\twhile (i < len) {\n\t\t\tswitch (_charAt(s, i++)) {\n\t\t\t\tcase '+'.code:\n\t\t\t\t\tret.add('%20');\n\t\t\t\tcase '%'.code if (i <= len - 2):\n\t\t\t\t\tvar c1 = _charAt(s, i++), c2 = _charAt(s, i++);\n\t\t\t\t\tswitch [c1, c2] {\n\t\t\t\t\t\tcase ['2'.code, '1'.code]:\n\t\t\t\t\t\t\tret.addChar('!'.code);\n\t\t\t\t\t\tcase ['2'.code, '7'.code]:\n\t\t\t\t\t\t\tret.addChar('\\''.code);\n\t\t\t\t\t\tcase ['2'.code, '8'.code]:\n\t\t\t\t\t\t\tret.addChar('('.code);\n\t\t\t\t\t\tcase ['2'.code, '9'.code]:\n\t\t\t\t\t\t\tret.addChar(')'.code);\n\t\t\t\t\t\tcase ['7'.code, 'E'.code] | ['7'.code, 'e'.code]:\n\t\t\t\t\t\t\tret.addChar('~'.code);\n\t\t\t\t\t\tcase _:\n\t\t\t\t\t\t\tret.addChar('%'.code);\n\t\t\t\t\t\t\tret.addChar(cast c1);\n\t\t\t\t\t\t\tret.addChar(cast c2);\n\t\t\t\t\t}\n\t\t\t\tcase var chr:\n\t\t\t\t\tret.addChar(cast chr);\n\t\t\t}\n\t\t}\n\t\treturn ret.toString();\n\t}\n\t#end\n\n\t/**\n\t\tDecode an URL using the standard format.\n\t**/\n\t#if (!java && !cpp && !lua && !eval) inline #end public static function urlDecode(s:String):String {\n\t\t#if flash\n\t\treturn untyped __global__[\"decodeURIComponent\"](s.split(\"+\").join(\" \"));\n\t\t#elseif neko\n\t\treturn untyped new String(_urlDecode(s.__s));\n\t\t#elseif js\n\t\treturn untyped decodeURIComponent(s.split(\"+\").join(\" \"));\n\t\t#elseif cpp\n\t\treturn untyped s.__URLDecode();\n\t\t#elseif java\n\t\ttry\n\t\t\treturn java.net.URLDecoder.decode(s, \"UTF-8\")\n\t\tcatch (e:Dynamic)\n\t\t\tthrow e;\n\t\t#elseif cs\n\t\treturn untyped cs.system.Uri.UnescapeDataString(s);\n\t\t#elseif python\n\t\treturn python.lib.urllib.Parse.unquote(s);\n\t\t#elseif hl\n\t\tvar len = 0;\n\t\tvar b = @:privateAccess s.bytes.urlDecode(len);\n\t\treturn @:privateAccess String.__alloc__(b, len);\n\t\t#elseif lua\n\t\ts = lua.NativeStringTools.gsub(s, \"+\", \" \");\n\t\ts = lua.NativeStringTools.gsub(s, \"%%(%x%x)\", function(h) {\n\t\t\treturn lua.NativeStringTools.char(lua.Lua.tonumber(h, 16));\n\t\t});\n\t\ts = lua.NativeStringTools.gsub(s, \"\\r\\n\", \"\\n\");\n\t\treturn s;\n\t\t#else\n\t\treturn null;\n\t\t#end\n\t}\n\n\t/**\n\t\tEscapes HTML special characters of the string `s`.\n\n\t\tThe following replacements are made:\n\n\t\t- `&` becomes `&amp`;\n\t\t- `<` becomes `&lt`;\n\t\t- `>` becomes `&gt`;\n\n\t\tIf `quotes` is true, the following characters are also replaced:\n\n\t\t- `\"` becomes `&quot`;\n\t\t- `'` becomes `&#039`;\n\t**/\n\tpublic static function htmlEscape(s:String, ?quotes:Bool):String {\n\t\tvar buf = new StringBuf();\n\t\tfor (code in #if neko iterator(s) #else new haxe.iterators.StringIteratorUnicode(s) #end) {\n\t\t\tswitch (code) {\n\t\t\t\tcase '&'.code:\n\t\t\t\t\tbuf.add(\"&amp;\");\n\t\t\t\tcase '<'.code:\n\t\t\t\t\tbuf.add(\"&lt;\");\n\t\t\t\tcase '>'.code:\n\t\t\t\t\tbuf.add(\"&gt;\");\n\t\t\t\tcase '\"'.code if (quotes):\n\t\t\t\t\tbuf.add(\"&quot;\");\n\t\t\t\tcase '\\''.code if (quotes):\n\t\t\t\t\tbuf.add(\"&#039;\");\n\t\t\t\tcase _:\n\t\t\t\t\tbuf.addChar(code);\n\t\t\t}\n\t\t}\n\t\treturn buf.toString();\n\t}\n\n\t/**\n\t\tUnescapes HTML special characters of the string `s`.\n\n\t\tThis is the inverse operation to htmlEscape, i.e. the following always\n\t\tholds: `htmlUnescape(htmlEscape(s)) == s`\n\n\t\tThe replacements follow:\n\n\t\t- `&amp;` becomes `&`\n\t\t- `&lt;` becomes `<`\n\t\t- `&gt;` becomes `>`\n\t\t- `&quot;` becomes `\"`\n\t\t- `&#039;` becomes `'`\n\t**/\n\tpublic static function htmlUnescape(s:String):String {\n\t\treturn s.split(\"&gt;\")\n\t\t\t.join(\">\")\n\t\t\t.split(\"&lt;\")\n\t\t\t.join(\"<\")\n\t\t\t.split(\"&quot;\")\n\t\t\t.join('\"')\n\t\t\t.split(\"&#039;\")\n\t\t\t.join(\"'\")\n\t\t\t.split(\"&amp;\")\n\t\t\t.join(\"&\");\n\t}\n\n\t/**\n\t\tReturns `true` if `s` contains `value` and  `false` otherwise.\n\n\t\tWhen `value` is `null`, the result is unspecified.\n\t**/\n\tpublic static inline function contains(s:String, value:String):Bool {\n\t\t#if (js && js_es >= 6)\n\t\treturn (cast s).includes(value);\n\t\t#else \n\t\treturn s.indexOf(value) != -1;\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the string `s` starts with the string `start`.\n\n\t\tIf `start` is `null`, the result is unspecified.\n\n\t\tIf `start` is the empty String `\"\"`, the result is true.\n\t**/\n\tpublic static #if (cs || java || python || (js && js_es >= 6)) inline #end function startsWith(s:String, start:String):Bool {\n\t\t#if java\n\t\treturn (cast s : java.NativeString).startsWith(start);\n\t\t#elseif cs\n\t\treturn untyped s.StartsWith(start);\n\t\t#elseif hl\n\t\treturn @:privateAccess (s.length >= start.length && s.bytes.compare(0, start.bytes, 0, start.length << 1) == 0);\n\t\t#elseif python\n\t\treturn python.NativeStringTools.startswith(s, start);\n\t\t#elseif (js && js_es >= 6)\n\t\treturn (cast s).startsWith(start);\n\t\t#else\n\t\treturn (s.length >= start.length && s.lastIndexOf(start, 0) == 0);\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the string `s` ends with the string `end`.\n\n\t\tIf `end` is `null`, the result is unspecified.\n\n\t\tIf `end` is the empty String `\"\"`, the result is true.\n\t**/\n\tpublic static #if (cs || java || python || (js && js_es >= 6)) inline #end function endsWith(s:String, end:String):Bool {\n\t\t#if java\n\t\treturn (cast s : java.NativeString).endsWith(end);\n\t\t#elseif cs\n\t\treturn untyped s.EndsWith(end);\n\t\t#elseif hl\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn @:privateAccess (slen >= elen && s.bytes.compare((slen - elen) << 1, end.bytes, 0, elen << 1) == 0);\n\t\t#elseif python\n\t\treturn python.NativeStringTools.endswith(s, end);\n\t\t#elseif (js && js_es >= 6)\n\t\treturn (cast s).endsWith(end);\n\t\t#else\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn (slen >= elen && s.indexOf(end, (slen - elen)) == (slen - elen));\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the character in the string `s` at position `pos` is a space.\n\n\t\tA character is considered to be a space character if its character code\n\t\tis 9,10,11,12,13 or 32.\n\n\t\tIf `s` is the empty String `\"\"`, or if pos is not a valid position within\n\t\t`s`, the result is false.\n\t**/\n\tpublic static function isSpace(s:String, pos:Int):Bool {\n\t\t#if (python || lua)\n\t\tif (s.length == 0 || pos < 0 || pos >= s.length)\n\t\t\treturn false;\n\t\t#end\n\t\tvar c = s.charCodeAt(pos);\n\t\treturn (c > 8 && c < 14) || c == 32;\n\t}\n\n\t/**\n\t\tRemoves leading space characters of `s`.\n\n\t\tThis function internally calls `isSpace()` to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\n\t\tresult is the empty String `\"\"`.\n\t**/\n\tpublic #if cs inline #end static function ltrim(s:String):String {\n\t\t#if cs\n\t\treturn untyped s.TrimStart();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile (r < l && isSpace(s, r)) {\n\t\t\tr++;\n\t\t}\n\t\tif (r > 0)\n\t\t\treturn s.substr(r, l - r);\n\t\telse\n\t\t\treturn s;\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves trailing space characters of `s`.\n\n\t\tThis function internally calls `isSpace()` to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\n\t\tresult is the empty String `\"\"`.\n\t**/\n\tpublic #if cs inline #end static function rtrim(s:String):String {\n\t\t#if cs\n\t\treturn untyped s.TrimEnd();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile (r < l && isSpace(s, l - r - 1)) {\n\t\t\tr++;\n\t\t}\n\t\tif (r > 0) {\n\t\t\treturn s.substr(0, l - r);\n\t\t} else {\n\t\t\treturn s;\n\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves leading and trailing space characters of `s`.\n\n\t\tThis is a convenience function for `ltrim(rtrim(s))`.\n\t**/\n\tpublic #if (cs || java) inline #end static function trim(s:String):String {\n\t\t#if cs\n\t\treturn untyped s.Trim();\n\t\t#elseif java\n\t\treturn (cast s : java.NativeString).trim();\n\t\t#else\n\t\treturn ltrim(rtrim(s));\n\t\t#end\n\t}\n\n\t/**\n\t\tConcatenates `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function lpad(s:String, c:String, l:Int):String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\tvar buf = new StringBuf();\n\t\tl -= s.length;\n\t\twhile (buf.length < l) {\n\t\t\tbuf.add(c);\n\t\t}\n\t\tbuf.add(s);\n\t\treturn buf.toString();\n\t}\n\n\t/**\n\t\tAppends `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function rpad(s:String, c:String, l:Int):String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\tvar buf = new StringBuf();\n\t\tbuf.add(s);\n\t\twhile (buf.length < l) {\n\t\t\tbuf.add(c);\n\t\t}\n\t\treturn buf.toString();\n\t}\n\n\t/**\n\t\tReplace all occurrences of the String `sub` in the String `s` by the\n\t\tString `by`.\n\n\t\tIf `sub` is the empty String `\"\"`, `by` is inserted after each character\n\t\tof `s` except the last one. If `by` is also the empty String `\"\"`, `s`\n\t\tremains unchanged.\n\n\t\tIf `sub` or `by` are null, the result is unspecified.\n\t**/\n\tpublic static function replace(s:String, sub:String, by:String):String {\n\t\t#if java\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn (cast s : java.NativeString).replace(sub, by);\n\t\t#elseif cs\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn untyped s.Replace(sub, by);\n\t\t#else\n\t\treturn s.split(sub).join(by);\n\t\t#end\n\t}\n\n\t/**\n\t\tEncodes `n` into a hexadecimal representation.\n\n\t\tIf `digits` is specified, the resulting String is padded with \"0\" until\n\t\tits `length` equals `digits`.\n\t**/\n\tpublic static function hex(n:Int, ?digits:Int) {\n\t\t#if flash\n\t\tvar n:UInt = n;\n\t\tvar s:String = untyped n.toString(16);\n\t\ts = s.toUpperCase();\n\t\t#else\n\t\tvar s = \"\";\n\t\tvar hexChars = \"0123456789ABCDEF\";\n\t\tdo {\n\t\t\ts = hexChars.charAt(n & 15) + s;\n\t\t\tn >>>= 4;\n\t\t} while (n > 0);\n\t\t#end\n\t\t#if python\n\t\tif (digits != null && s.length < digits) {\n\t\t\tvar diff = digits - s.length;\n\t\t\tfor (_ in 0...diff) {\n\t\t\t\ts = \"0\" + s;\n\t\t\t}\n\t\t}\n\t\t#else\n\t\tif (digits != null)\n\t\t\twhile (s.length < digits)\n\t\t\t\ts = \"0\" + s;\n\t\t#end\n\t\treturn s;\n\t}\n\n\t/**\n\t\tReturns the character code at position `index` of String `s`, or an\n\t\tend-of-file indicator at if `position` equals `s.length`.\n\n\t\tThis method is faster than `String.charCodeAt()` on some platforms, but\n\t\tthe result is unspecified if `index` is negative or greater than\n\t\t`s.length`.\n\n\t\tEnd of file status can be checked by calling `StringTools.isEof()` with\n\t\tthe returned value as argument.\n\n\t\tThis operation is not guaranteed to work if `s` contains the `\\0`\n\t\tcharacter.\n\t**/\n\tpublic static #if !eval inline #end function fastCodeAt(s:String, index:Int):Int {\n\t\t#if neko\n\t\treturn untyped __dollar__sget(s.__s, index);\n\t\t#elseif cpp\n\t\treturn untyped s.cca(index);\n\t\t#elseif flash\n\t\treturn untyped s.cca(index);\n\t\t#elseif java\n\t\treturn (index < s.length) ? cast(_charAt(s, index), Int) : -1;\n\t\t#elseif cs\n\t\treturn (cast(index, UInt) < s.length) ? cast(s[index], Int) : -1;\n\t\t#elseif js\n\t\treturn (cast s).charCodeAt(index);\n\t\t#elseif python\n\t\treturn if (index >= s.length) -1 else python.internal.UBuiltins.ord(python.Syntax.arrayAccess(s, index));\n\t\t#elseif hl\n\t\treturn @:privateAccess s.bytes.getUI16(index << 1);\n\t\t#elseif lua\n\t\t#if lua_vanilla\n\t\treturn lua.NativeStringTools.byte(s, index + 1);\n\t\t#else\n\t\treturn lua.lib.luautf8.Utf8.byte(s, index + 1);\n\t\t#end\n\t\t#else\n\t\treturn untyped s.cca(index);\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns the character code at position `index` of String `s`, or an\n\t\tend-of-file indicator at if `position` equals `s.length`.\n\n\t\tThis method is faster than `String.charCodeAt()` on some platforms, but\n\t\tthe result is unspecified if `index` is negative or greater than\n\t\t`s.length`.\n\n\t\tThis operation is not guaranteed to work if `s` contains the `\\0`\n\t\tcharacter.\n\t**/\n\tpublic static #if !eval inline #end function unsafeCodeAt(s:String, index:Int):Int {\n\t\t#if neko\n\t\treturn untyped __dollar__sget(s.__s, index);\n\t\t#elseif cpp\n\t\treturn untyped s.cca(index);\n\t\t#elseif flash\n\t\treturn untyped s.cca(index);\n\t\t#elseif java\n\t\treturn cast(_charAt(s, index), Int);\n\t\t#elseif cs\n\t\treturn cast(s[index], Int);\n\t\t#elseif js\n\t\treturn (cast s).charCodeAt(index);\n\t\t#elseif python\n\t\treturn python.internal.UBuiltins.ord(python.Syntax.arrayAccess(s, index));\n\t\t#elseif hl\n\t\treturn @:privateAccess s.bytes.getUI16(index << 1);\n\t\t#elseif lua\n\t\t#if lua_vanilla\n\t\treturn lua.NativeStringTools.byte(s, index + 1);\n\t\t#else\n\t\treturn lua.lib.luautf8.Utf8.byte(s, index + 1);\n\t\t#end\n\t\t#else\n\t\treturn untyped s.cca(index);\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns an iterator of the char codes.\n\n\t\tNote that char codes may differ across platforms because of different\n\t\tinternal encoding of strings in different runtimes.\n\t\tFor the consistent cross-platform UTF8 char codes see `haxe.iterators.StringIteratorUnicode`.\n\t**/\n\tpublic static inline function iterator(s:String):StringIterator {\n\t\treturn new StringIterator(s);\n\t}\n\n\t/**\n\t\tReturns an iterator of the char indexes and codes.\n\n\t\tNote that char codes may differ across platforms because of different\n\t\tinternal encoding of strings in different of runtimes.\n\t\tFor the consistent cross-platform UTF8 char codes see `haxe.iterators.StringKeyValueIteratorUnicode`.\n\t**/\n\tpublic static inline function keyValueIterator(s:String):StringKeyValueIterator {\n\t\treturn new StringKeyValueIterator(s);\n\t}\n\n\t/**\n\t\tTells if `c` represents the end-of-file (EOF) character.\n\t**/\n\t@:noUsing public static inline function isEof(c:Int):Bool {\n\t\t#if (flash || cpp || hl)\n\t\treturn c == 0;\n\t\t#elseif js\n\t\treturn c != c; // fast NaN\n\t\t#elseif (neko || lua || eval)\n\t\treturn c == null;\n\t\t#elseif (cs || java || python)\n\t\treturn c == -1;\n\t\t#else\n\t\treturn false;\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns a String that can be used as a single command line argument\n\t\ton Unix.\n\t\tThe input will be quoted, or escaped if necessary.\n\t**/\n\t@:noCompletion\n\t@:deprecated('StringTools.quoteUnixArg() is deprecated. Use haxe.SysTools.quoteUnixArg() instead.')\n\tpublic static function quoteUnixArg(argument:String):String {\n\t\treturn inline haxe.SysTools.quoteUnixArg(argument);\n\t}\n\n\t/**\n\t\tCharacter codes of the characters that will be escaped by `quoteWinArg(_, true)`.\n\t**/\n\t@:noCompletion\n\t@:deprecated('StringTools.winMetaCharacters is deprecated. Use haxe.SysTools.winMetaCharacters instead.')\n\tpublic static var winMetaCharacters:Array<Int> = cast haxe.SysTools.winMetaCharacters;\n\n\t/**\n\t\tReturns a String that can be used as a single command line argument\n\t\ton Windows.\n\t\tThe input will be quoted, or escaped if necessary, such that the output\n\t\twill be parsed as a single argument using the rule specified in\n\t\thttp://msdn.microsoft.com/en-us/library/ms880421\n\n\t\tExamples:\n\t\t```haxe\n\t\tquoteWinArg(\"abc\") == \"abc\";\n\t\tquoteWinArg(\"ab c\") == '\"ab c\"';\n\t\t```\n\t**/\n\t@:noCompletion\n\t@:deprecated('StringTools.quoteWinArg() is deprecated. Use haxe.SysTools.quoteWinArg() instead.')\n\tpublic static function quoteWinArg(argument:String, escapeMetaCharacters:Bool):String {\n\t\treturn inline haxe.SysTools.quoteWinArg(argument, escapeMetaCharacters);\n\t}\n\n\t#if java\n\tprivate static inline function _charAt(str:String, idx:Int):java.StdTypes.Char16\n\t\treturn (cast str : java.NativeString).charAt(idx);\n\t#end\n\n\t#if neko\n\tprivate static var _urlEncode = neko.Lib.load(\"std\", \"url_encode\", 1);\n\tprivate static var _urlDecode = neko.Lib.load(\"std\", \"url_decode\", 1);\n\t#end\n\n\t#if utf16\n\tstatic inline var MIN_SURROGATE_CODE_POINT = 65536;\n\n\tstatic inline function utf16CodePointAt(s:String, index:Int):Int {\n\t\tvar c = StringTools.fastCodeAt(s, index);\n\t\tif (c >= 0xD800 && c <= 0xDBFF) {\n\t\t\tc = ((c - 0xD7C0) << 10) | (StringTools.fastCodeAt(s, index + 1) & 0x3FF);\n\t\t}\n\t\treturn c;\n\t}\n\t#end\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nenum ValueType {\n\tTNull;\n\tTInt;\n\tTFloat;\n\tTBool;\n\tTObject;\n\tTFunction;\n\tTClass(c:Class<Dynamic>);\n\tTEnum(e:Enum<Dynamic>);\n\tTUnknown;\n}\n\n@:coreApi class Type {\n\tpublic static inline function getClass<T>(o:T):Class<T> {\n\t\treturn @:privateAccess js.Boot.getClass(o);\n\t}\n\n\tpublic static function getEnum(o:EnumValue):Enum<Dynamic>\n\t\tuntyped {\n\t\t\tif (o == null)\n\t\t\t\treturn null;\n\t\t\t#if js_enums_as_arrays\n\t\t\treturn o.__enum__;\n\t\t\t#else\n\t\t\treturn $hxEnums[o.__enum__];\n\t\t\t#end\n\t\t}\n\n\tpublic static inline function getSuperClass(c:Class<Dynamic>):Class<Dynamic> {\n\t\treturn untyped __define_feature__(\"Type.getSuperClass\", c.__super__);\n\t}\n\n\tpublic static inline function getClassName(c:Class<Dynamic>):String {\n\t\treturn untyped __define_feature__(\"Type.getClassName\", c.__name__);\n\t}\n\n\tpublic static inline function getEnumName(e:Enum<Dynamic>):String {\n\t\treturn untyped __define_feature__(\"Type.getEnumName\", e.__ename__);\n\t}\n\n\t#if js_enums_as_arrays\n\tpublic static function resolveClass(name:String):Class<Dynamic>\n\t\tuntyped {\n\t\t\tvar cl:Class<Dynamic> = $hxClasses[name];\n\t\t\t// ensure that this is a class\n\t\t\tif (cl == null || !js.Boot.isClass(cl))\n\t\t\t\treturn null;\n\t\t\treturn cl;\n\t\t}\n\n\tpublic static function resolveEnum(name:String):Enum<Dynamic>\n\t\tuntyped {\n\t\t\tvar e:Dynamic = $hxClasses[name];\n\t\t\t// ensure that this is an enum\n\t\t\tif (e == null || !js.Boot.isEnum(e))\n\t\t\t\treturn null;\n\t\t\treturn e;\n\t\t}\n\t#else\n\tpublic static inline function resolveClass(name:String):Class<Dynamic> {\n\t\treturn untyped __define_feature__(\"Type.resolveClass\", $hxClasses[name]);\n\t}\n\n\tpublic static inline function resolveEnum(name:String):Enum<Dynamic> {\n\t\treturn untyped __define_feature__(\"Type.resolveEnum\", $hxEnums[name]);\n\t}\n\t#end\n\n\t#if (js_es < 5)\n\tpublic static function createInstance<T>(cl:Class<T>, args:Array<Dynamic>):T {\n\t\tswitch (args.length) {\n\t\t\tcase 0:\n\t\t\t\treturn js.Syntax.construct(cl);\n\t\t\tcase 1:\n\t\t\t\treturn js.Syntax.construct(cl, args[0]);\n\t\t\tcase 2:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1]);\n\t\t\tcase 3:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2]);\n\t\t\tcase 4:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3]);\n\t\t\tcase 5:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4]);\n\t\t\tcase 6:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5]);\n\t\t\tcase 7:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n\t\t\tcase 8:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7]);\n\t\t\tcase 9:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8]);\n\t\t\tcase 10:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9]);\n\t\t\tcase 11:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10]);\n\t\t\tcase 12:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10], args[11]);\n\t\t\tcase 13:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10], args[11],\n\t\t\t\t\targs[12]);\n\t\t\tcase 14:\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10], args[11],\n\t\t\t\t\targs[12], args[13]);\n\t\t\tdefault:\n\t\t\t\tthrow \"Too many arguments\";\n\t\t}\n\t}\n\n\tpublic static function createEmptyInstance<T>(cl:Class<T>):T\n\t\tuntyped {\n\t\t\tjs.Syntax.code(\"function empty() {}; empty.prototype = cl.prototype\");\n\t\t\treturn js.Syntax.code(\"new empty()\");\n\t\t}\n\t#else\n\tpublic static function createInstance<T>(cl:Class<T>, args:Array<Dynamic>):T {\n\t\tvar ctor = ((cast js.lib.Function).prototype.bind : js.lib.Function).apply(cl, [null].concat(args));\n\t\treturn js.Syntax.code(\"new ({0})\", ctor); // cannot use `js.Syntax.construct` because we need parens if `ctor` is fused in\n\t}\n\n\tpublic static inline function createEmptyInstance<T>(cl:Class<T>):T {\n\t\treturn js.lib.Object.create((cast cl).prototype);\n\t}\n\t#end\n\n\tpublic static function createEnum<T>(e:Enum<T>, constr:String, ?params:Array<Dynamic>):T {\n\t\tvar f:Dynamic = Reflect.field(e, constr);\n\t\tif (f == null)\n\t\t\tthrow \"No such constructor \" + constr;\n\t\tif (Reflect.isFunction(f)) {\n\t\t\tif (params == null)\n\t\t\t\tthrow \"Constructor \" + constr + \" need parameters\";\n\t\t\treturn Reflect.callMethod(e, f, params);\n\t\t}\n\t\tif (params != null && params.length != 0)\n\t\t\tthrow \"Constructor \" + constr + \" does not need parameters\";\n\t\treturn f;\n\t}\n\n\tpublic static function createEnumIndex<T>(e:Enum<T>, index:Int, ?params:Array<Dynamic>):T {\n\t\t#if js_enums_as_arrays\n\t\tvar c:String = (untyped e.__constructs__)[index];\n\t\t#else\n\t\tvar c:String = switch (untyped e.__constructs__)[index] {\n\t\t\tcase null: null;\n\t\t\tcase ctor: ctor._hx_name;\n\t\t}\n\t\t#end\n\t\tif (c == null)\n\t\t\tthrow index + \" is not a valid enum constructor index\";\n\t\treturn createEnum(e, c, params);\n\t}\n\n\t#if (js_es >= 6)\n\tpublic static function getInstanceFields(c:Class<Dynamic>):Array<String> {\n\t\tvar result = [];\n\t\twhile (c != null) {\n\t\t\tfor (name in js.lib.Object.getOwnPropertyNames((cast c).prototype)) {\n\t\t\t\tswitch name {\n\t\t\t\t\tcase \"constructor\" | \"__class__\" | \"__properties__\":\n\t\t\t\t\t// skip special names\n\t\t\t\t\tcase _:\n\t\t\t\t\t\tif (result.indexOf(name) == -1)\n\t\t\t\t\t\t\tresult.push(name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tc = getSuperClass(c);\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic static function getClassFields(c:Class<Dynamic>):Array<String> {\n\t\tvar a = js.lib.Object.getOwnPropertyNames(cast c);\n\t\ta.remove(\"__id__\");\n\t\ta.remove(\"hx__closures__\");\n\t\ta.remove(\"__name__\");\n\t\ta.remove(\"__interfaces__\");\n\t\ta.remove(\"__isInterface__\");\n\t\ta.remove(\"__properties__\");\n\t\ta.remove(\"__instanceFields__\");\n\t\ta.remove(\"__super__\");\n\t\ta.remove(\"__meta__\");\n\t\ta.remove(\"prototype\");\n\t\ta.remove(\"name\");\n\t\ta.remove(\"length\");\n\t\treturn a;\n\t}\n\t#else\n\tpublic static function getInstanceFields(c:Class<Dynamic>):Array<String> {\n\t\tvar a = [];\n\t\tjs.Syntax.code(\"for(var i in c.prototype) a.push(i)\");\n\t\ta.remove(\"__class__\");\n\t\ta.remove(\"__properties__\");\n\t\treturn a;\n\t}\n\n\tpublic static function getClassFields(c:Class<Dynamic>):Array<String> {\n\t\tvar a = Reflect.fields(c);\n\t\ta.remove(\"__name__\");\n\t\ta.remove(\"__interfaces__\");\n\t\ta.remove(\"__properties__\");\n\t\ta.remove(\"__super__\");\n\t\ta.remove(\"__meta__\");\n\t\ta.remove(\"prototype\");\n\t\treturn a;\n\t}\n\t#end\n\n\tpublic static inline function getEnumConstructs(e:Enum<Dynamic>):Array<String> {\n\t\t#if js_enums_as_arrays\n\t\t\treturn ((cast e).__constructs__ : Array<String>).copy();\n\t\t#else\n\t\t\treturn ((cast e).__constructs__ : Array<{_hx_name:String}>).map(c -> c._hx_name);\n\t\t#end\n\t}\n\n\t@:access(js.Boot)\n\tpublic static function typeof(v:Dynamic):ValueType {\n\t\tswitch (js.Syntax.typeof(v)) {\n\t\t\tcase \"boolean\":\n\t\t\t\treturn TBool;\n\t\t\tcase \"string\":\n\t\t\t\treturn TClass(String);\n\t\t\tcase \"number\":\n\t\t\t\t// this should handle all cases : NaN, +/-Inf and Floats outside range\n\t\t\t\tif (Math.ceil(v) == v % 2147483648.0)\n\t\t\t\t\treturn TInt;\n\t\t\t\treturn TFloat;\n\t\t\tcase \"object\":\n\t\t\t\tif (v == null)\n\t\t\t\t\treturn TNull;\n\t\t\t\tvar e = v.__enum__;\n\t\t\t\tif (e != null) {\n\t\t\t\t\t#if js_enums_as_arrays\n\t\t\t\t\treturn TEnum(e);\n\t\t\t\t\t#else\n\t\t\t\t\treturn TEnum(untyped $hxEnums[e]);\n\t\t\t\t\t#end\n\t\t\t\t}\n\t\t\t\tvar c = js.Boot.getClass(v);\n\t\t\t\tif (c != null)\n\t\t\t\t\treturn TClass(c);\n\t\t\t\treturn TObject;\n\t\t\tcase \"function\":\n\t\t\t\tif (js.Boot.isClass(v) || js.Boot.isEnum(v))\n\t\t\t\t\treturn TObject;\n\t\t\t\treturn TFunction;\n\t\t\tcase \"undefined\":\n\t\t\t\treturn TNull;\n\t\t\tdefault:\n\t\t\t\treturn TUnknown;\n\t\t}\n\t}\n\n\tpublic static function enumEq<T:EnumValue>(a:T, b:T):Bool\n\t\tuntyped {\n\t\t\tif (a == b)\n\t\t\t\treturn true;\n\t\t\ttry {\n\t\t\t\tvar e = a.__enum__;\n\t\t\t\tif (e == null || e != b.__enum__)\n\t\t\t\t\treturn false;\n\t\t\t\t#if js_enums_as_arrays\n\t\t\t\tif (a[0] != b[0])\n\t\t\t\t\treturn false;\n\t\t\t\tfor (i in 2...a.length)\n\t\t\t\t\tif (!enumEq(a[i], b[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t#else\n\t\t\t\tif (a._hx_index != b._hx_index)\n\t\t\t\t\treturn false;\n\t\t\t\tvar enm = $hxEnums[e];\n\t\t\t\tvar params:Array<String> = enm.__constructs__[a._hx_index].__params__;\n\t\t\t\tfor (f in params) {\n\t\t\t\t\tif (!enumEq(a[f], b[f])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t#end\n\t\t\t} catch (e:Dynamic) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\tpublic inline static function enumConstructor(e:EnumValue):String {\n\t\t#if js_enums_as_arrays\n\t\treturn untyped e[0];\n\t\t#else\n\t\treturn untyped $hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name;\n\t\t#end\n\t}\n\n\t#if js_enums_as_arrays\n\tpublic inline static function enumParameters(e:EnumValue):Array<Dynamic> {\n\t\treturn untyped e.slice(2);\n\t}\n\t#else\n\tpublic static function enumParameters(e:EnumValue):Array<Dynamic>\n\t\tuntyped {\n\t\t\tvar enm:Enum<Dynamic> = $hxEnums[e.__enum__];\n\t\t\tvar params:Array<String> = enm.__constructs__[e._hx_index].__params__;\n\t\t\treturn params != null ? [for (p in params) e[p]] : [];\n\t\t}\n\t#end\n\n\tpublic inline static function enumIndex(e:EnumValue):Int {\n\t\t#if !js_enums_as_arrays\n\t\treturn untyped e._hx_index;\n\t\t#else\n\t\treturn untyped e[1];\n\t\t#end\n\t}\n\n\tpublic inline static function allEnums<T>(e:Enum<T>):Array<T> {\n\t\treturn untyped __define_feature__(\"Type.allEnums\", e.__empty_constructs__.slice());\n\t}\n}\n","package;\nimport haxe.ds.StringMap;\n\n/**\n * ...\n * @author axel@cunity.me\n */\nclass Util\n{\n\n\tpublic static inline function any2bool(v:Dynamic) :Bool\n\t{\n\t\t#if js\n\t\t//trace(untyped __js__(\"v?true:false\"));\n\t\t//return (untyped __js__(true,v));\n\t\t//return (untyped __strict_neq__(v, true));\n\t\treturn (v != null && v != 0 && v !='');\n\t\t#elseif php\n\t\treturn (v != null && v != 0 && v !='');\n\t\t#end\n\t}\n\t\n\tpublic static function copyStringMap<T>(source:StringMap<T>):StringMap<T>\n\t{\n\t\tvar copy:StringMap<T> = new StringMap();\n\t\tvar keys = source.keys();\n\t\twhile (keys.hasNext())\n\t\t{\n\t\t\tvar k:String = keys.next();\n\t\t\tcopy.set(k, source.get(k));\n\t\t}\n\t\treturn copy;\n\t}\n}","package;\nimport haxe.ds.ObjectMap;\nimport haxe.ds.StringMap;\nimport view.Pager;\n\nimport haxe.Timer;\nimport js.Browser;\nimport js.html.Element;\nimport js.jquery.*;\nimport js.html.Node;\n//import js.html.Rect;\nimport js.html.XMLHttpRequest;\nimport me.cunity.util.Data;\nimport view.ContextMenu;\nimport view.Input;\nimport view.TabBox;\nimport js.jquery.Helper.*;\nimport me.cunity.debug.Out;\n\n\nusing Lambda;\nusing Util;\nusing me.cunity.util.Data;\n\n/**\n * ...\n * @author axel@cunity.me\n */\n\ntypedef  InteractionState =\n{\n\tvar disables:Array<String>;\n\tvar enables:Array<String>;\n}\n\ntypedef   ViewData = \n{\n\tvar action:String;\n\tvar attach2:String;\n\tvar id:String;\n\tvar dbLoaderIndex:Int;\n\t@:optional var fields:Array<String>;\n\t@:optional var hidden:String;\n\t@:optional var parent: String;\n\t@:optional var primary_id: String;\n\t@:optional var parentTab: Int;\n\t@:optional var parentView: View;\n\t@:optional var views:Array<ViewData>;\n}\n\ntypedef DataLoader = \n{\n\tvar callBack:Dynamic->Void;\n\tvar prepare:Void->Dynamic;\n\tvar valid:Bool;\n}\n\nclass View\n{\n\tvar attach2:String; // parentSelector\n\tvar fields:Array<String>;\n\tvar primary_id:String;\n\tvar repaint:Bool;\n\tvar name:String;\n\tvar root:JQuery;\n\tvar vData:Dynamic;\n\tvar template:JQuery;\n\tvar spinner:Dynamic;\n\tvar waiting:Timer;\n\tvar parentView:View;\t\n\tvar parentTab:Int;\n\tvar params:Dynamic;\t\n\tvar loading:Int;\n\tvar listening:ObjectMap<JQuery,String>;\n\tvar suspended:StringMap<JQuery>;\n\tvar interactionStates:StringMap<InteractionState>;\n\tvar dbLoader:Array<StringMap<DataLoader>>;// DATALOADER MAP\n\tvar templ:JQuery;\n\t\n\tpublic var dbLoaderIndex:Int;\n\tpublic var contextMenu:ContextMenu;\t\n\tpublic var id:String;\t\n\tpublic var instancePath:String;\t\n\tpublic var interactionState(default, set):String;\n\tpublic var inputs:StringMap<Input>;\t\n\tpublic var selectedID:String;\n\tpublic var lastFindParam:StringMap<String>;\n\tpublic var reloadID:String;\n\tpublic var views(default, null):StringMap<View>;\n\t\n\t\t\t\n\tpublic function new(?data:Dynamic ) \n\t{\n\t\tviews = new StringMap();\t\t\n\t\t//views = App.getViews();\n\t\tinputs = new StringMap();\n\t\tvData = data;\n\t\tvar data:ViewData = cast data;\n\t\tid = data.id;\n\t\t//parentTab = data.parentTab;\n\t\tparentView = data.parentView;\n\t\tprimary_id = data.primary_id;\n\t\tif (parentView == null)\n\t\t{\n\t\t\tinstancePath = App.appName + '.' + id;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tinstancePath = parentView.instancePath + '.' + id;\n\t\t}\n\t\tdbLoader = new Array();\n\t\tdbLoaderIndex = (data.dbLoaderIndex == null ? 0:data.dbLoaderIndex);\n\t\tif (Std.instance(this, TabBox) == null)\n\t\t\tdbLoader.push(new StringMap());\n\t\tattach2 = data.attach2 == null ? '#' + id : data.attach2;\n\t\tname = Type.getClassName(Type.getClass(this)).split('.').pop();\n\t\troot = J('#' + id).css({opacity:0});\n\t\ttrace(name + ':'  + id + ':' + root.length + ':' + J(attach2).attr('id') + ':' + dbLoaderIndex); \t\t\n\t\tinteractionStates = new StringMap();\n\t\tlistening = new ObjectMap();\n\t\tsuspended = new StringMap();\n\t}\n\t\n\tfunction init()\n\t{\n\t\tloading = 0;\n\t\tif (loadingComplete())\n\t\t\tinitState();\n\t\telse\n\t\t\tTimer.delay(initState, 1000);\n\t}\n\t\n\tpublic function set_interactionState(iState:String):String\n\t{\n\t\tinteractionState = iState;\n\t\tvar iS:InteractionState = interactionStates.get(iState);\n\t\ttrace(id + ':' + iState + ':' + iS);\n\t\tif (iS == null)\n\t\t\treturn null;\n\t\tvar lIt:Iterator<JQuery> = listening.keys();\n\t\twhile (lIt.hasNext())\n\t\t{\n\t\t\tvar aListener:JQuery = lIt.next();\n\t\t\tvar aAction:String = listening.get(aListener);\n\t\t\t//trace(aAction + ':' + aListener.data());\n\t\t\tif (iS.disables.has(aAction))\n\t\t\t{\t\t\t\t\n\t\t\t\taListener.prop('disabled', true);\n\t\t\t\t//trace(aListener.data());\n\t\t\t}\n\t\t\tif (iS.enables.has(aAction))\n\t\t\t\taListener.prop('disabled', false);\n\t\t\t//trace(aListener.closest('.tabContent').attr('id') + ':' + aAction + ' disabled:' + (aListener.prop('disabled') ? 'Y':'N'));\n\t\t}\n\t\ttrace(iState);\n\t\treturn iState;\n\t}\n\t\n\tfunction addInteractionState(name:String, iS:InteractionState):Void\n\t{\n\t\ttrace(id + ':' + name + ':' + iS);\n\t\tinteractionStates.set(name, iS);\n\t}\n\t\n\tfunction addInputs(v:Array<Dynamic>, className:String):Void\n\t{\n\t\t//trace(v.length);\n\t\tfor (aI in v)\n\t\t{\n\t\t\taI.parentView = this;\n\t\t\taI.id = id + '_' + aI.name;\n\t\t\taddInput(aI, className);\n\t\t}\n\t}\n\t\n\tfunction addInput(v:Dynamic, className:String):Input\n\t{\n\t\tvar aI:Input = null;\n\t\t\n\t\tvar iParam:Dynamic = v;\n\t\ttrace(className + ':' + iParam.id);\n\t\tvar cl:Class<Dynamic> = Type.resolveClass('view.' + className);\n\t\tif (cl != null)\n\t\t{\n\t\t\t//trace(cl);\n\t\t\tif (Reflect.hasField(v, 'attach2'))\n\t\t\t\tiParam.attach2 = v.attach2;\n\t\t\tiParam.parentView = this;\n\t\t\t//trace(Std.string(iParam));\n\t\t\taI = Type.createInstance(cl, [iParam]);\n\t\t\tinputs.set(iParam.id, aI);\t\t\t\t\n\t\t\t//trace(\"inputs.set(\" +iParam.id +\")\");\n\t\t\tif (iParam.db == 1)\n\t\t\t\taI.init();\n\t\t}\t\t\n\t\treturn aI;\n\t}\n\t\n\tpublic function addListener(jListener:JQuery)\n\t{\n\t\tjListener.each(function(i, n)\n\t\t{\n\t\t\t//trace(id + ':' + n + ':' + J(n).data('contextaction'));\n\t\t\tlistening.set(J(n), J(n).data('contextaction'));\n\t\t});\n\t}\n\t\n\t@:expose\n\tpublic function addView(v:ViewData):View\n\t{\n\t\tvar av:View = null;\n\t\tvar className:String = Reflect.fields(v)[0];\n\t\tvar iParam:Dynamic = Reflect.field(v, className);\n\t\ttrace(name + ':' + className + ':' + dbLoader.length);\n\t\t//trace(className + ':' + iParam);\n\t\tvar cl:Class<Dynamic> = Type.resolveClass('view.' + className);\n\t\tif (cl != null)\n\t\t{\n\t\t\ttrace(cl);\n\t\t\tif (Reflect.hasField(v, 'attach2'))\n\t\t\t\tiParam.attach2 = v.attach2;\n\t\t\tif (Reflect.hasField(v, 'dbLoaderIndex'))\n\t\t\t\tiParam.dbLoaderIndex = v.dbLoaderIndex;\t\t\t\t\n\t\t\tiParam.parentView = this;\n\t\t\t//trace(Std.string(iParam));\n\t\t\tav = Type.createInstance(cl, [iParam]);\n\t\t\tviews.set(av.instancePath, av);\t\t\t\t\n\t\t\ttrace(\"views.set(\" +av.instancePath +\")\");\n\t\t\t//views.set(iParam.id, av);\t\t\t\t\n\t\t\t//trace(\"views.set(\" +iParam.id +\")\");\n\t\t}\t\t\n\t\treturn av;\n\t}\n\t\n\tpublic function addViews(v2add:Array<ViewData>):Void\n\t{\n\t\tfor (vD in v2add)\n\t\t{\n\t\t\tvD.parentView = this;\n\t\t\taddView(vD);\n\t\t}\n\t\t\n\t}\n\t\n\tfunction initState():Void\n\t{\n\t\ttrace (id +':' + (loadingComplete() ? 'Y':'N') + ' :' + J('button[data-contextaction]').length);\t\n\t\tif (!loadingComplete())\n\t\t{\t\t\t\n\t\t\tTimer.delay(initState, 1000);\n\t\t\treturn;\n\t\t}\n\t\taddListener(J('#$id button[data-contextaction]'));\n\t\tinteractionState = 'init';\n\t\tJ('td').attr('tabindex', -1);\n\t\tvar el:Element = cast J('#' + id).get()[0];\n\t\ttrace(id + ' initState complete - we can show up :)' + ':' + el);\n\t\t//trace(J('#' + id).find('.datepicker').length);\n\t\tJ('#' + id).animate( { opacity:1 }, 300, 'linear', \n\t\t\tfunction() { \n\t\t\t//trace(untyped __js__(\"this\"));\n\t\t\t//trace(J(untyped __js__(\"this\")).attr('id')); \t\t\t\n\t\t\t});\n\t}\n\t\n\tfunction loadingComplete():Bool\n\t{\n\t\t//trace (loading);return true;\n\t\tif (loading > 0)\n\t\t\treturn false;\n\t\tif (!inputs.empty() && !inputs.foreach(function(i:Input) return i.loading == 0))\n\t\t\treturn false;\n\t\telse\n\t\t\treturn views.foreach(function(v:View) return v.loading == 0);\n\t\treturn true;\n\t}\n\t\n\tfunction suspendAll()\n\t{\n\t\t\n\t}\n\t\n\tpublic function addDataLoader(loaderId:String, dL:DataLoader, loaderIndex:Int=0)\n\t{\n\t\tdbLoader[loaderIndex].set(loaderId, dL);\n\t\ttrace(id + ':' + loaderIndex + ':' + loaderId);\n\t}\n\t\n\tpublic function loadAllData(?loaderIndex:Int = 0):Void\n\t{// \tINITIAL LOAD DB DATA\n\n\t\tvar dLoader:StringMap<DataLoader> = dbLoader[loaderIndex];\n\t\tvar keys:Iterator<String> = dLoader.keys();\n\t\ttrace(dLoader.count() + ':' + loaderIndex);\n\t\tfor (k in keys)\n\t\t{\n\t\t\ttrace(k);\n\t\t\tload(k, loaderIndex);\n\t\t}\n\t}\n\t\n\tpublic function load(loaderId:String, loaderIndex:Int = 0):Void\n\t{\n\t\t//INITIAL LOAD DB DATA\n\t\tvar loader:DataLoader = dbLoader[loaderIndex].get(loaderId);\n\t\tif(!loader.valid)\n\t\t\tloadData('server.php', loader.prepare(), \n\t\t\t\tfunction(data:Dynamic)\n\t\t\t\t{ \n\t\t\t\t\tdata.loaderId = loaderId; \n\t\t\t\t\ttrace(id + ':' + data.fields + ':' + data.loaderId);\n\t\t\t\t\tloader.callBack(data); \n\t\t\t\t\tloader.valid = true;\n\t\t\t\t});\t\t\n\t}\n\t\n\tpublic function loadData(url:String, p:Dynamic, callBack:Dynamic->Void):Void\n\t{\n\t\t//trace(Std.string(p));\n\t\tloading++;\n\t\tjs.jquery.JQuery.post(url, p , function(data:Dynamic, textStatus:String, xhr:XMLHttpRequest)\n\t\t{\n\t\t\t//trace(data);\n\t\t\tcallBack(data);\n\t\t\tloading--;\n\t\t}, 'json');\n\t}\n\t\n\tpublic function find(p:StringMap<String>):Void\n\t{\n\t\tlastFindParam = p.copy();\n\t\t//trace(p);\n\t\t//trace(lastFindParam);\n\t\tvar where:String = p.get('where');\n\t\t//trace(id + '|'+where+'|' + (where.any2bool() ? 'Y':'N'));\n\t\t//trace(vData.where);\n\t\tvar fData:Dynamic = { };\n\t\tvar pkeys:Array<String> = 'action,className,fields,primary_id,hidden,limit,order,page,pay_source,filter_tables,table,where,filter'.split(',');\n\t\tfor (f in pkeys)\n\t\t{\n\t\t\tif (Reflect.field(vData, f) != null)\t\t\n\t\t\t{\n\t\t\t\tif (f == 'where' && (where.any2bool() || vData.where.any2bool()))\t\t\t\n\t\t\t\t{\n\t\t\t\t\tfData.where = (vData.where.any2bool() ? vData.where + (where.any2bool() ? ',' + where  : '') : where);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tReflect.setField(fData, f, p.exists(f) ? p.get(f) : Reflect.field(vData, f));\n\t\t\t}\n\t\t\tif (f != 'where' && p.exists(f))\n\t\t\t\tReflect.setField(fData, f, p.get(f));\n\t\t}\n\t\t\n\t\t//trace(vData);\n\t\tresetParams(fData);\n\t\tloadData('server.php', params, update);\n\t}\n\t\n\tpublic function order(j:JQuery):Void\n\t{\n\t\tif (params.order.indexOf(j.data('order')) == 0)//\tCHANGE DIRECTION OF CURRENT ORDER BY FIELD\n\t\t\tparams.order = j.data('order') + (params.order.indexOf( 'ASC') >0  ?  '|DESC' : '|ASC');\n\t\telse\n\t\t\tparams.order = j.data('order') + '|ASC';\t\t\n\t\t//trace( params.order);\n\t\twait();\n\t\tloadData('server.php', params, update);\n\t}\t\n\t\n\tprivate function resetParams(?pData:Dynamic):Dynamic\n\t{\t\t\n\t\tvar pkeys:Array<String> = 'action,className,fields,limit,order,page,table,jointable,filter_tables,pay_source,joincond,joinfields,where,filter'.split(',');\n\t\t//var aData:Dynamic = pData.any2bool() ? pData : vData;\n\t\t//MERGE pData into vData\n\t\t//trace(pData);\n\t\tvar aData:Dynamic = vData.copy();\n\t\tif (pData != null)\n\t\t{\n\t\t\tvar pFields:Array<String> = Reflect.fields(pData);\n\t\t\tfor (f in pFields)\n\t\t\t\tReflect.setField(aData, f, Reflect.field(pData, f));\n\t\t}\n\t\tfields = aData.fields.any2bool()?aData.fields.split(','):null;\n\t\t//trace(fields);\n\t\t//trace(aData.hidden);\n\t\t//trace(aData.joincond);\n\t\tvar order:String = (params == null ? null : params.order);\n\t\tparams = {\n\t\t\taction:'find',\n\t\t\tfirstLoad:App.ist.globals.firstLoad,\n\t\t\tclassName:name,\n\t\t\tinstancePath:instancePath\n\t\t};\n\t\tApp.ist.globals.firstLoad = false;\n\t\t\n\n\t\tfor (f in pkeys)\n\t\t{\n\t\t\tif (Reflect.field(aData, f) != null)\n\t\t\t{//trace(Reflect.field(aData, f));\n\t\t\t\tReflect.setField(params, f, Reflect.field(aData, f));\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tif (order != null)\n\t\t\tparams.order = order;\t\t\n\t\treturn params;\n\t}\n\t\n\tpublic function update(data:Dynamic):Void\n\t{\n\t\t// UPDATE MAIN DATA TABLE\n\t\tif (data.globals != null)\n\t\t{\n\t\t\t//App.ist.globals.users = data.globals.users;\n\t\t\t//trace(App.ist.globals.users);\n\t\t}\n\t\t//trace(params);\n\t\tdata.fields = fields;\n\t\tdata.hidden = vData.hidden;\n\t\tdata.primary_id = primary_id;\n\t\ttrace(id + ':' + data.fields + ':' + data.hidden + ':' + data.primary_id + ':' +  root.length);\n\t\t//trace(data);\n\t\tif ( J('#' + id + '-list').length > 0)\n\t\t\tJ('#' + id + '-list').replaceWith(J('#t-' + id + '-list').tmpl(data));\n\t\telse\n\t\t\tJ('#t-' + id + '-list').tmpl(data).appendTo(J(data.loaderId).first());\t\n\t\t\t\n\t\tJ('#' + id + '-list th').each(function(i, el) { J(el).click(function(_) { order(J(el)); } ); } );\t\n\t\t//remove click handler from all main data list rows td cells  - why???\n\t\tJ('#' + id + '-list tr').first().siblings().click(select).find('td').off('click');\n\t\t//J('td').attr('tabindex', -1);\n\t\tvar limit:Int = (vData.limit > 0? vData.limit : App.limit);\n\t\ttrace('data.count:'+ data.count + ' - limit $limit:' + vData.limit +' _ ' + App.limit);\n\t\tif (limit < data.count)\n\t\t{\n\t\t\t//CREATE PAGER\n\t\t\tvar pager:Pager = new Pager({\n\t\t\t\tcount:data.count,\n\t\t\t\tid:vData.id,\n\t\t\t\tlimit:limit,\n\t\t\t\tpage:data.page,\n\t\t\t\tparentView:this\n\t\t\t});\n\t\t}\n\t\t//if(J('#clients-menu').length>0 && \n\t\ttrace(Std.string( J('#'+id+'-menu').offset().left - 35 ) +' reloadID:' + reloadID);\n\t\tJ('.main-left').width(Std.string( J('#'+id+'-menu').offset().left - 35 ) );\n\t\ttrace(Std.string( J('#'+id+'-menu').offset().left - 35 ) +' reloadID:' + reloadID);\n\t\twait(false);\n\t\tif (reloadID != null)\n\t\t{\n\t\t\ttrace('#' + reloadID + ' : ' + J('#' + reloadID ).length);\n\t\t\tJ('#' + reloadID ).children().first().trigger('click');\n\t\t\ttrace(id +':' + J('#' + id + '-list tr[class~=\"selected\"]').length);\n\t\t\treloadID =  null;\n\t\t}\t\t\n\t}\n\t\n\n\tpublic function runLoaders():Void\n\t{\n\t\ttrace(dbLoaderIndex);\n\t\tloadAllData(dbLoaderIndex);\n\t}\n\t\n\tpublic function select(evt:Event):Void\n\t{\n\t\ttrace('has to be implemented in subclass!');\n\t}\n\t\n\tpublic function wait(start:Bool = true, ?message:String , ?timeout:Int=15000)\n\t{\n\t\tif (!start && waiting != null)\n\t\t{\n\t\t\twaiting.stop();\n\t\t\ttrace(J('#wait').length); \t\t\t\n\t\t\tJ('#wait').animate( { opacity:0.0 }, 300, null, function() { J('#wait').detach();  trace(J('#wait' ).length); } );\n\t\t\tspinner.stop();\n\t\t}\n\t\tif (!start)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (message == null)\n\t\t\tmessage = App.uiMessage.wait;\n\t\tif (timeout == null)\n\t\t\ttimeout = App.waitTime;\n\t\t\t\n\t\tJ('#t-wait' ).tmpl( { wait: message} ).appendTo('#' +id).css({width:J(Browser.window).width(), height:J(Browser.window).height(), zIndex:8000}).animate({opacity:0.8});\n\n\t\tspinner = untyped  Browser.window.spin('wait');\n\t\tif (message == App.uiMessage.retry || message == App.uiMessage.timeout) \n\t\t{\t\t\n\t\t\twaiting = Timer.delay(function() { wait(false);} , timeout);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttrace('set timeout:' + timeout + ':' + message);\n\t\t\twaiting = Timer.delay(function() { wait(true, App.uiMessage.timeout, 3500); } , timeout);\t\n\t\t}\n\t}\n\t\n\n\t\n}","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe;\n\n/**\n\tElements return by `CallStack` methods.\n**/\nenum StackItem {\n\tCFunction;\n\tModule(m:String);\n\tFilePos(s:Null<StackItem>, file:String, line:Int, ?column:Int);\n\tMethod(classname:Null<String>, method:String);\n\tLocalFunction(?v:Int);\n}\n\n/**\n\tGet information about the call stack.\n**/\n@:allow(haxe.Exception)\n@:using(haxe.CallStack)\nabstract CallStack(Array<StackItem>) from Array<StackItem> {\n\t/**\n\t\tThe length of this stack.\n\t**/\n\tpublic var length(get,never):Int;\n\tinline function get_length():Int return this.length;\n\n\t/**\n\t\tReturn the call stack elements, or an empty array if not available.\n\t**/\n\tpublic static function callStack():Array<StackItem> {\n\t\treturn NativeStackTrace.toHaxe(NativeStackTrace.callStack());\n\t}\n\n\t/**\n\t\tReturn the exception stack : this is the stack elements between\n\t\tthe place the last exception was thrown and the place it was\n\t\tcaught, or an empty array if not available.\n\t\tSet `fullStack` parameter to true in order to return the full exception stack.\n\n\t\tMay not work if catch type was a derivative from `haxe.Exception`.\n\t**/\n\tpublic static function exceptionStack( fullStack = false ):Array<StackItem> {\n\t\tvar eStack:CallStack = NativeStackTrace.toHaxe(NativeStackTrace.exceptionStack());\n\t\treturn (fullStack ? eStack : eStack.subtract(callStack())).asArray();\n\t}\n\n\t/**\n\t\tReturns a representation of the stack as a printable string.\n\t**/\n\tstatic public function toString(stack:CallStack):String {\n\t\tvar b = new StringBuf();\n\t\tfor (s in stack.asArray()) {\n\t\t\tb.add('\\nCalled from ');\n\t\t\titemToString(b, s);\n\t\t}\n\t\treturn b.toString();\n\t}\n\n\t/**\n\t\tReturns a range of entries of current stack from the beginning to the the\n\t\tcommon part of this and `stack`.\n\t**/\n\tpublic function subtract(stack:CallStack):CallStack {\n\t\tvar startIndex = -1;\n\t\tvar i = -1;\n\t\twhile(++i < this.length) {\n\t\t\tfor(j in 0...stack.length) {\n\t\t\t\tif(equalItems(this[i], stack[j])) {\n\t\t\t\t\tif(startIndex < 0) {\n\t\t\t\t\t\tstartIndex = i;\n\t\t\t\t\t}\n\t\t\t\t\t++i;\n\t\t\t\t\tif(i >= this.length) break;\n\t\t\t\t} else {\n\t\t\t\t\tstartIndex = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(startIndex >= 0) break;\n\t\t}\n\t\treturn startIndex >= 0 ? this.slice(0, startIndex) : this;\n\t}\n\n\t/**\n\t\tMake a copy of the stack.\n\t**/\n\tpublic inline function copy():CallStack {\n\t\treturn this.copy();\n\t}\n\n\t@:arrayAccess public inline function get(index:Int):StackItem {\n\t\treturn this[index];\n\t}\n\n\tinline function asArray():Array<StackItem> {\n\t\treturn this;\n\t}\n\n\tstatic function equalItems(item1:Null<StackItem>, item2:Null<StackItem>):Bool {\n\t\treturn switch([item1, item2]) {\n\t\t\tcase [null, null]: true;\n\t\t\tcase [CFunction, CFunction]: true;\n\t\t\tcase [Module(m1), Module(m2)]:\n\t\t\t\tm1 == m2;\n\t\t\tcase [FilePos(item1, file1, line1, col1), FilePos(item2, file2, line2, col2)]:\n\t\t\t\tfile1 == file2 && line1 == line2 && col1 == col2 && equalItems(item1, item2);\n\t\t\tcase [Method(class1, method1), Method(class2, method2)]:\n\t\t\t\tclass1 == class2 && method1 == method2;\n\t\t\tcase [LocalFunction(v1), LocalFunction(v2)]:\n\t\t\t\tv1 == v2;\n\t\t\tcase _: false;\n\t\t}\n\t}\n\n\tstatic function exceptionToString(e:Exception):String {\n\t\tif(e.previous == null) {\n\t\t\treturn 'Exception: ${e.toString()}${e.stack}';\n\t\t}\n\t\tvar result = '';\n\t\tvar e:Null<Exception> = e;\n\t\tvar prev:Null<Exception> = null;\n\t\twhile(e != null) {\n\t\t\tif(prev == null) {\n\t\t\t\tresult = 'Exception: ${e.message}${e.stack}' + result;\n\t\t\t} else {\n\t\t\t\tvar prevStack = @:privateAccess e.stack.subtract(prev.stack);\n\t\t\t\tresult = 'Exception: ${e.message}${prevStack}\\n\\nNext ' + result;\n\t\t\t}\n\t\t\tprev = e;\n\t\t\te = e.previous;\n\t\t}\n\t\treturn result;\n\t}\n\n\tstatic function itemToString(b:StringBuf, s) {\n\t\tswitch (s) {\n\t\t\tcase CFunction:\n\t\t\t\tb.add(\"a C function\");\n\t\t\tcase Module(m):\n\t\t\t\tb.add(\"module \");\n\t\t\t\tb.add(m);\n\t\t\tcase FilePos(s, file, line, col):\n\t\t\t\tif (s != null) {\n\t\t\t\t\titemToString(b, s);\n\t\t\t\t\tb.add(\" (\");\n\t\t\t\t}\n\t\t\t\tb.add(file);\n\t\t\t\tb.add(\" line \");\n\t\t\t\tb.add(line);\n\t\t\t\tif (col != null) {\n\t\t\t\t\tb.add(\" column \");\n\t\t\t\t\tb.add(col);\n\t\t\t\t}\n\t\t\t\tif (s != null)\n\t\t\t\t\tb.add(\")\");\n\t\t\tcase Method(cname, meth):\n\t\t\t\tb.add(cname == null ? \"<unknown>\" : cname);\n\t\t\t\tb.add(\".\");\n\t\t\t\tb.add(meth);\n\t\t\tcase LocalFunction(n):\n\t\t\t\tb.add(\"local function #\");\n\t\t\t\tb.add(n);\n\t\t}\n\t}\n}\n","package haxe;\n\nimport js.lib.Error;\n\n@:coreApi\nclass Exception extends NativeException {\n\tpublic var message(get,never):String;\n\tpublic var stack(get,never):CallStack;\n\tpublic var previous(get,never):Null<Exception>;\n\tpublic var native(get,never):Any;\n\n\t@:ifFeature(\"haxe.Exception.get_stack\")\n\t@:noCompletion var __skipStack:Int;\n\t@:noCompletion var __exceptionStack(get,set):Null<CallStack>;\n\t@:noCompletion var __nativeException:Any;\n\t@:noCompletion var __previousException:Null<Exception>;\n\n\tstatic function caught(value:Any):Exception {\n\t\tif(Std.isOfType(value, Exception)) {\n\t\t\treturn value;\n\t\t} else if(Std.isOfType(value, Error)) {\n\t\t\treturn new Exception((cast value:Error).message, null, value);\n\t\t} else {\n\t\t\treturn new ValueException(value, null, value);\n\t\t}\n\t}\n\n\tstatic function thrown(value:Any):Any {\n\t\tif(Std.isOfType(value, Exception)) {\n\t\t\treturn (value:Exception).native;\n\t\t} else if(Std.isOfType(value, Error)) {\n\t\t\treturn value;\n\t\t} else {\n\t\t\tvar e = new ValueException(value);\n\t\t\tuntyped __feature__(\"haxe.Exception.get_stack\", e.__shiftStack());\n\t\t\treturn e;\n\t\t}\n\t}\n\n\tpublic function new(message:String, ?previous:Exception, ?native:Any) {\n\t\tsuper(message);\n\t\t(cast this).message = message;\n\t\t__previousException = previous;\n\t\t__nativeException = native != null ? native : this;\n\t\tuntyped __feature__('haxe.Exception.stack', {\n\t\t\t__skipStack = 0;\n\t\t\tvar old = js.Syntax.code('Error.prepareStackTrace');\n\t\t\tjs.Syntax.code('Error.prepareStackTrace = function(e) { return e.stack; }');\n\t\t\tif(Std.isOfType(native, Error)) {\n\t\t\t\t(cast this).stack = native.stack;\n\t\t\t} else {\n\t\t\t\tvar e:Error = null;\n\t\t\t\tif ((cast Error).captureStackTrace) {\n\t\t\t\t\t(cast Error).captureStackTrace(this, Exception);\n\t\t\t\t\te = cast this;\n\t\t\t\t} else {\n\t\t\t\t\te = new Error();\n\t\t\t\t\t//Internet Explorer provides call stack only if error was thrown\n\t\t\t\t\tif(js.Syntax.typeof(e.stack) == \"undefined\") {\n\t\t\t\t\t\tjs.Syntax.code('try { throw {0}; } catch(_) {}', e);\n\t\t\t\t\t\t__skipStack++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t(cast this).stack = e.stack;\n\t\t\t}\n\t\t\tjs.Syntax.code('Error.prepareStackTrace = {0}', old);\n\t\t});\n\t}\n\n\tfunction unwrap():Any {\n\t\treturn __nativeException;\n\t}\n\n\tpublic function toString():String {\n\t\treturn message;\n\t}\n\n\tpublic function details():String {\n\t\treturn inline CallStack.exceptionToString(this);\n\t}\n\n\t@:noCompletion\n\t@:ifFeature(\"haxe.Exception.get_stack\")\n\tinline function __shiftStack():Void {\n\t\t__skipStack++;\n\t}\n\n\tfunction get_message():String {\n\t\treturn (cast this:Error).message;\n\t}\n\n\tfunction get_previous():Null<Exception> {\n\t\treturn __previousException;\n\t}\n\n\tfinal function get_native():Any {\n\t\treturn __nativeException;\n\t}\n\n\t@:ifFeature('haxe.NativeStackTrace.exceptionStack')\n\tfunction get_stack():CallStack {\n\t\treturn switch __exceptionStack {\n\t\t\tcase null:\n\t\t\t\t__exceptionStack = NativeStackTrace.toHaxe(NativeStackTrace.normalize((cast this).stack), __skipStack);\n\t\t\tcase s: s;\n\t\t}\n\t}\n\n\t@:noCompletion\n\tfunction setProperty(name:String, value:Any):Void {\n\t\ttry {\n\t\t\tjs.lib.Object.defineProperty(this, name, {value:value});\n\t\t} catch(e:Exception) {\n\t\t\tjs.Syntax.code('{0}[{1}] = {2}', this, name, value);\n\t\t}\n\t}\n\n\t@:noCompletion\n\tinline function get___exceptionStack():CallStack {\n\t\treturn (cast this).__exceptionStack;\n\t}\n\n\t@:noCompletion\n\tinline function set___exceptionStack(value:CallStack):CallStack {\n\t\tsetProperty('__exceptionStack', value);\n\t\treturn value;\n\t}\n\n\t@:noCompletion\n\tinline function get___skipStack():Int {\n\t\treturn (cast this).__skipStack;\n\t}\n\n\t@:noCompletion\n\tinline function set___skipStack(value:Int):Int {\n\t\tsetProperty('__skipStack', value);\n\t\treturn value;\n\t}\n\n\t@:noCompletion\n\tinline function get___nativeException():Any {\n\t\treturn (cast this).__nativeException;\n\t}\n\n\t@:noCompletion\n\tinline function set___nativeException(value:Any):Any {\n\t\tsetProperty('__nativeException', value);\n\t\treturn value;\n\t}\n\n\t@:noCompletion\n\tinline function get___previousException():Null<Exception> {\n\t\treturn (cast this).__previousException;\n\t}\n\n\t@:noCompletion\n\tinline function set___previousException(value:Null<Exception>):Null<Exception> {\n\t\tsetProperty('__previousException', value);\n\t\treturn value;\n\t}\n}\n\n@:dox(hide)\n@:noCompletion\n@:native('Error')\nprivate extern class NativeException {\n\t// private var message:String; //redefined in haxe.Exception\n\t// private var stack(default, null):String; //redefined in haxe.Exception\n\n\tfunction new(?message:String);\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe;\n\n/**\n\tLog primarily provides the `trace()` method, which is invoked upon a call to\n\t`trace()` in Haxe code.\n**/\nclass Log {\n\t/**\n\t\tFormat the output of `trace` before printing it.\n\t**/\n\tpublic static function formatOutput(v:Dynamic, infos:PosInfos):String {\n\t\tvar str = Std.string(v);\n\t\tif (infos == null)\n\t\t\treturn str;\n\t\tvar pstr = infos.fileName + \":\" + infos.lineNumber;\n\t\tif (infos.customParams != null)\n\t\t\tfor (v in infos.customParams)\n\t\t\t\tstr += \", \" + Std.string(v);\n\t\treturn pstr + \": \" + str;\n\t}\n\n\t/**\n\t\tOutputs `v` in a platform-dependent way.\n\n\t\tThe second parameter `infos` is injected by the compiler and contains\n\t\tinformation about the position where the `trace()` call was made.\n\n\t\tThis method can be rebound to a custom function:\n\n\t\t\tvar oldTrace = haxe.Log.trace; // store old function\n\t\t\thaxe.Log.trace = function(v, ?infos) {\n\t\t\t  // handle trace\n\t\t\t}\n\t\t\t...\n\t\t\thaxe.Log.trace = oldTrace;\n\n\t\tIf it is bound to null, subsequent calls to `trace()` will cause an\n\t\texception.\n\t**/\n\tpublic static dynamic function trace(v:Dynamic, ?infos:PosInfos):Void {\n\t\tvar str = formatOutput(v, infos);\n\t\t#if js\n\t\tif (js.Syntax.typeof(untyped console) != \"undefined\" && (untyped console).log != null)\n\t\t\t(untyped console).log(str);\n\t\t#elseif lua\n\t\tuntyped __define_feature__(\"use._hx_print\", _hx_print(str));\n\t\t#elseif sys\n\t\tSys.println(str);\n\t\t#else\n\t\tthrow new haxe.exceptions.NotImplementedException()\n\t\t#end\n\t}\n}\n","package haxe;\n\nimport js.Syntax;\nimport js.lib.Error;\nimport haxe.CallStack.StackItem;\n\n// https://v8.dev/docs/stack-trace-api\n@:native(\"Error\")\nprivate extern class V8Error {\n\tstatic var prepareStackTrace:(error:Error, structuredStackTrace:Array<V8CallSite>)->Any;\n}\n\ntypedef V8CallSite = {\n\tfunction getFunctionName():String;\n\tfunction getFileName():String;\n\tfunction getLineNumber():Int;\n\tfunction getColumnNumber():Int;\n}\n\n/**\n\tDo not use manually.\n**/\n@:dox(hide)\n@:noCompletion\n@:allow(haxe.Exception)\nclass NativeStackTrace {\n\tstatic var lastError:Error;\n\n\t// support for source-map-support module\n\t@:noCompletion\n\tpublic static var wrapCallSite:V8CallSite->V8CallSite;\n\n\t@:ifFeature('haxe.NativeStackTrace.exceptionStack')\n\tstatic public inline function saveStack(e:Error):Void {\n\t\tlastError = e;\n\t}\n\n\tstatic public function callStack():Any {\n\t\tvar e:Null<Error> = new Error('');\n\t\tvar stack = tryHaxeStack(e);\n\t\t//Internet Explorer provides call stack only if error was thrown\n\t\tif(Syntax.typeof(stack) == \"undefined\") {\n\t\t\ttry throw e catch(e:Exception) {}\n\t\t\tstack = e.stack;\n\t\t}\n\t\treturn normalize(stack, 2);\n\t}\n\n\tstatic public function exceptionStack():Any {\n\t\treturn normalize(tryHaxeStack(lastError));\n\t}\n\n\tstatic public function toHaxe(s:Null<Any>, skip:Int = 0):Array<StackItem> {\n\t\tif (s == null) {\n\t\t\treturn [];\n\t\t} else if (Syntax.typeof(s) == \"string\") {\n\t\t\t// Return the raw lines in browsers that don't support prepareStackTrace\n\t\t\tvar stack:Array<String> = (s:String).split(\"\\n\");\n\t\t\tif (stack[0] == \"Error\")\n\t\t\t\tstack.shift();\n\t\t\tvar m = [];\n\t\t\tfor (i in 0...stack.length) {\n\t\t\t\tif(skip > i) continue;\n\t\t\t\tvar line = stack[i];\n\t\t\t\tvar matched:Null<Array<String>> = Syntax.code('{0}.match(/^    at ([A-Za-z0-9_. ]+) \\\\(([^)]+):([0-9]+):([0-9]+)\\\\)$/)', line);\n\t\t\t\tif (matched != null) {\n\t\t\t\t\tvar path = matched[1].split(\".\");\n\t\t\t\t\tif(path[0] == \"$hxClasses\") {\n\t\t\t\t\t\tpath.shift();\n\t\t\t\t\t}\n\t\t\t\t\tvar meth = path.pop();\n\t\t\t\t\tvar file = matched[2];\n\t\t\t\t\tvar line = Std.parseInt(matched[3]);\n\t\t\t\t\tvar column = Std.parseInt(matched[4]);\n\t\t\t\t\tm.push(FilePos(meth == \"Anonymous function\" ? LocalFunction() : meth == \"Global code\" ? null : Method(path.join(\".\"), meth), file, line,\n\t\t\t\t\t\tcolumn));\n\t\t\t\t} else {\n\t\t\t\t\tm.push(Module(StringTools.trim(line))); // A little weird, but better than nothing\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn m;\n\t\t} else if(skip > 0 && Syntax.code('Array.isArray({0})', s)) {\n\t\t\treturn (s:Array<StackItem>).slice(skip);\n\t\t} else {\n\t\t\treturn cast s;\n\t\t}\n\t}\n\n\tstatic function tryHaxeStack(e:Null<Error>):Any {\n\t\tif (e == null) {\n\t\t\treturn [];\n\t\t}\n\t\t// https://v8.dev/docs/stack-trace-api\n\t\tvar oldValue = V8Error.prepareStackTrace;\n\t\tV8Error.prepareStackTrace = prepareHxStackTrace;\n\t\tvar stack = e.stack;\n\t\tV8Error.prepareStackTrace = oldValue;\n\t\treturn stack;\n\t}\n\n\tstatic function prepareHxStackTrace(e:Error, callsites:Array<V8CallSite>):Any {\n\t\tvar stack = [];\n\t\tfor (site in callsites) {\n\t\t\tif (wrapCallSite != null)\n\t\t\t\tsite = wrapCallSite(site);\n\t\t\tvar method = null;\n\t\t\tvar fullName = site.getFunctionName();\n\t\t\tif (fullName != null) {\n\t\t\t\tvar idx = fullName.lastIndexOf(\".\");\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tvar className = fullName.substring(0, idx);\n\t\t\t\t\tvar methodName = fullName.substring(idx + 1);\n\t\t\t\t\tmethod = Method(className, methodName);\n\t\t\t\t} else {\n\t\t\t\t\tmethod = Method(null, fullName);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar fileName = site.getFileName();\n\t\t\tvar fileAddr = fileName == null ? -1 : fileName.indexOf(\"file:\");\n\t\t\tif (wrapCallSite != null && fileAddr > 0)\n\t\t\t\tfileName = fileName.substring(fileAddr + 6);\n\t\t\tstack.push(FilePos(method, fileName, site.getLineNumber(), site.getColumnNumber()));\n\t\t}\n\t\treturn stack;\n\t}\n\n\tstatic function normalize(stack:Any, skipItems:Int = 0):Any {\n\t\tif(Syntax.code('Array.isArray({0})', stack) && skipItems > 0) {\n\t\t\treturn (stack:Array<StackItem>).slice(skipItems);\n\t\t} else if(Syntax.typeof(stack) == \"string\") {\n\t\t\tswitch (stack:String).substring(0, 6) {\n\t\t\t\tcase 'Error:' | 'Error\\n': skipItems += 1;\n\t\t\t\tcase _:\n\t\t\t}\n\t\t\treturn skipLines(stack, skipItems);\n\t\t} else {\n\t\t\t//nothing we can do\n\t\t\treturn stack;\n\t\t}\n\t}\n\n\tstatic function skipLines(stack:String, skip:Int, pos:Int = 0):String {\n\t\treturn if(skip > 0) {\n\t\t\tpos = stack.indexOf('\\n', pos);\n\t\t\treturn pos < 0 ? '' : skipLines(stack, --skip, pos + 1);\n\t\t} else {\n\t\t\treturn stack.substring(pos);\n\t\t}\n\t}\n}","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe;\n\n#if (target.threaded && !cppia)\nimport sys.thread.Thread;\nimport sys.thread.EventLoop;\n#end\n\n/**\n\tThe `Timer` class allows you to create asynchronous timers on platforms that\n\tsupport events.\n\n\tThe intended usage is to create an instance of the `Timer` class with a given\n\tinterval, set its `run()` method to a custom function to be invoked and\n\teventually call `stop()` to stop the `Timer`.\n\n\tNote that a running `Timer` may or may not prevent the program to exit\n\tautomatically when `main()` returns.\n\n\tIt is also possible to extend this class and override its `run()` method in\n\tthe child class.\n**/\nclass Timer {\n\t#if (flash || js)\n\tprivate var id:Null<Int>;\n\t#elseif (target.threaded && !cppia)\n\tvar thread:Thread;\n\tvar eventHandler:EventHandler;\n\t#else\n\tprivate var event:MainLoop.MainEvent;\n\t#end\n\n\t/**\n\t\tCreates a new timer that will run every `time_ms` milliseconds.\n\n\t\tAfter creating the Timer instance, it calls `this.run` repeatedly,\n\t\twith delays of `time_ms` milliseconds, until `this.stop` is called.\n\n\t\tThe first invocation occurs after `time_ms` milliseconds, not\n\t\timmediately.\n\n\t\tThe accuracy of this may be platform-dependent.\n\t**/\n\tpublic function new(time_ms:Int) {\n\t\t#if flash\n\t\tvar me = this;\n\t\tid = untyped __global__[\"flash.utils.setInterval\"](function() {\n\t\t\tme.run();\n\t\t}, time_ms);\n\t\t#elseif js\n\t\tvar me = this;\n\t\tid = untyped setInterval(function() me.run(), time_ms);\n\t\t#elseif (target.threaded && !cppia)\n\t\tthread = Thread.current();\n\t\teventHandler = thread.events.repeat(() -> this.run(), time_ms);\n\t\t#else\n\t\tvar dt = time_ms / 1000;\n\t\tevent = MainLoop.add(function() {\n\t\t\t@:privateAccess event.nextRun += dt;\n\t\t\trun();\n\t\t});\n\t\tevent.delay(dt);\n\t\t#end\n\t}\n\n\t/**\n\t\tStops `this` Timer.\n\n\t\tAfter calling this method, no additional invocations of `this.run`\n\t\twill occur.\n\n\t\tIt is not possible to restart `this` Timer once stopped.\n\t**/\n\tpublic function stop() {\n\t\t#if (flash || js)\n\t\tif (id == null)\n\t\t\treturn;\n\t\t#if flash\n\t\tuntyped __global__[\"flash.utils.clearInterval\"](id);\n\t\t#elseif js\n\t\tuntyped clearInterval(id);\n\t\t#end\n\t\tid = null;\n\t\t#elseif (target.threaded && !cppia)\n\t\tthread.events.cancel(eventHandler);\n\t\t#else\n\t\tif (event != null) {\n\t\t\tevent.stop();\n\t\t\tevent = null;\n\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tThis method is invoked repeatedly on `this` Timer.\n\n\t\tIt can be overridden in a subclass, or rebound directly to a custom\n\t\tfunction:\n\n\t\t```haxe\n\t\tvar timer = new haxe.Timer(1000); // 1000ms delay\n\t\ttimer.run = function() { ... }\n\t\t```\n\n\t\tOnce bound, it can still be rebound to different functions until `this`\n\t\tTimer is stopped through a call to `this.stop`.\n\t**/\n\tpublic dynamic function run() {}\n\n\t/**\n\t\tInvokes `f` after `time_ms` milliseconds.\n\n\t\tThis is a convenience function for creating a new Timer instance with\n\t\t`time_ms` as argument, binding its `run()` method to `f` and then stopping\n\t\t`this` Timer upon the first invocation.\n\n\t\tIf `f` is `null`, the result is unspecified.\n\t**/\n\tpublic static function delay(f:Void->Void, time_ms:Int) {\n\t\tvar t = new haxe.Timer(time_ms);\n\t\tt.run = function() {\n\t\t\tt.stop();\n\t\t\tf();\n\t\t};\n\t\treturn t;\n\t}\n\n\t/**\n\t\tMeasures the time it takes to execute `f`, in seconds with fractions.\n\n\t\tThis is a convenience function for calculating the difference between\n\t\t`Timer.stamp()` before and after the invocation of `f`.\n\n\t\tThe difference is passed as argument to `Log.trace()`, with `\"s\"` appended\n\t\tto denote the unit. The optional `pos` argument is passed through.\n\n\t\tIf `f` is `null`, the result is unspecified.\n\t**/\n\tpublic static function measure<T>(f:Void->T, ?pos:PosInfos):T {\n\t\tvar t0 = stamp();\n\t\tvar r = f();\n\t\tLog.trace((stamp() - t0) + \"s\", pos);\n\t\treturn r;\n\t}\n\n\t/**\n\t\tReturns a timestamp, in seconds with fractions.\n\n\t\tThe value itself might differ depending on platforms, only differences\n\t\tbetween two values make sense.\n\t**/\n\tpublic static inline function stamp():Float {\n\t\t#if flash\n\t\treturn flash.Lib.getTimer() / 1000;\n\t\t#elseif js\n\t\t#if nodejs\n\t\tvar hrtime = js.Syntax.code('process.hrtime()'); // [seconds, remaining nanoseconds]\n\t\treturn hrtime[0] + hrtime[1] / 1e9;\n\t\t#else\n\t\treturn @:privateAccess HxOverrides.now() / 1000;\n\t\t#end\n\t\t#elseif cpp\n\t\treturn untyped __global__.__time_stamp();\n\t\t#elseif python\n\t\treturn Sys.cpuTime();\n\t\t#elseif sys\n\t\treturn Sys.time();\n\t\t#else\n\t\treturn 0;\n\t\t#end\n\t}\n}","package haxe;\n\n/**\n\tAn exception containing arbitrary value.\n\n\tThis class is automatically used for throwing values, which don't extend `haxe.Exception`\n\tor native exception type.\n\tFor example:\n\t```haxe\n\tthrow \"Terrible error\";\n\t```\n\twill be compiled to\n\t```haxe\n\tthrow new ValueException(\"Terrible error\");\n\t```\n**/\nclass ValueException extends Exception {\n\t/**\n\t\tThrown value.\n\t**/\n\tpublic var value(default,null):Any;\n\n\tpublic function new(value:Any, ?previous:Exception, ?native:Any):Void {\n\t\tsuper(#if js js.Syntax.code('String({0})', value) #else Std.string(value) #end, previous, native);\n\t\tthis.value = value;\n\t}\n\n\t/**\n\t\tExtract an originally thrown value.\n\n\t\tThis method must return the same value on subsequent calls.\n\t\tUsed internally for catching non-native exceptions.\n\t\tDo _not_ override unless you know what you are doing.\n\t**/\n\toverride function unwrap():Any {\n\t\treturn value;\n\t}\n}","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.ds;\n\n/**\n\tA linked-list of elements. The list is composed of element container objects\n\tthat are chained together. It is optimized so that adding or removing an\n\telement does not imply copying the whole list content every time.\n\n\t@see https://haxe.org/manual/std-List.html\n**/\nclass List<T> {\n\tprivate var h:ListNode<T>;\n\tprivate var q:ListNode<T>;\n\n\t/**\n\t\tThe length of `this` List.\n\t**/\n\tpublic var length(default, null):Int;\n\n\t/**\n\t\tCreates a new empty list.\n\t**/\n\tpublic function new() {\n\t\tlength = 0;\n\t}\n\n\t/**\n\t\tAdds element `item` at the end of `this` List.\n\n\t\t`this.length` increases by 1.\n\t**/\n\tpublic function add(item:T) {\n\t\tvar x = ListNode.create(item, null);\n\t\tif (h == null)\n\t\t\th = x;\n\t\telse\n\t\t\tq.next = x;\n\t\tq = x;\n\t\tlength++;\n\t}\n\n\t/**\n\t\tAdds element `item` at the beginning of `this` List.\n\n\t\t`this.length` increases by 1.\n\t**/\n\tpublic function push(item:T) {\n\t\tvar x = ListNode.create(item, h);\n\t\th = x;\n\t\tif (q == null)\n\t\t\tq = x;\n\t\tlength++;\n\t}\n\n\t/**\n\t\tReturns the first element of `this` List, or null if no elements exist.\n\n\t\tThis function does not modify `this` List.\n\t**/\n\tpublic function first():Null<T> {\n\t\treturn if (h == null) null else h.item;\n\t}\n\n\t/**\n\t\tReturns the last element of `this` List, or null if no elements exist.\n\n\t\tThis function does not modify `this` List.\n\t**/\n\tpublic function last():Null<T> {\n\t\treturn if (q == null) null else q.item;\n\t}\n\n\t/**\n\t\tReturns the first element of `this` List, or null if no elements exist.\n\n\t\tThe element is removed from `this` List.\n\t**/\n\tpublic function pop():Null<T> {\n\t\tif (h == null)\n\t\t\treturn null;\n\t\tvar x = h.item;\n\t\th = h.next;\n\t\tif (h == null)\n\t\t\tq = null;\n\t\tlength--;\n\t\treturn x;\n\t}\n\n\t/**\n\t\tTells if `this` List is empty.\n\t**/\n\tpublic function isEmpty():Bool {\n\t\treturn (h == null);\n\t}\n\n\t/**\n\t\tEmpties `this` List.\n\n\t\tThis function does not traverse the elements, but simply sets the\n\t\tinternal references to null and `this.length` to 0.\n\t**/\n\tpublic function clear():Void {\n\t\th = null;\n\t\tq = null;\n\t\tlength = 0;\n\t}\n\n\t/**\n\t\tRemoves the first occurrence of `v` in `this` List.\n\n\t\tIf `v` is found by checking standard equality, it is removed from `this`\n\t\tList and the function returns true.\n\n\t\tOtherwise, false is returned.\n\t**/\n\tpublic function remove(v:T):Bool {\n\t\tvar prev:ListNode<T> = null;\n\t\tvar l = h;\n\t\twhile (l != null) {\n\t\t\tif (l.item == v) {\n\t\t\t\tif (prev == null)\n\t\t\t\t\th = l.next;\n\t\t\t\telse\n\t\t\t\t\tprev.next = l.next;\n\t\t\t\tif (q == l)\n\t\t\t\t\tq = prev;\n\t\t\t\tlength--;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tprev = l;\n\t\t\tl = l.next;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t\tReturns an iterator on the elements of the list.\n\t**/\n\tpublic inline function iterator():ListIterator<T> {\n\t\treturn new ListIterator<T>(h);\n\t}\n\n\t/**\n\t\tReturns an iterator of the List indices and values.\n\t**/\n\t@:pure @:runtime public inline function keyValueIterator():ListKeyValueIterator<T> {\n\t\treturn new ListKeyValueIterator(h);\n\t}\n\n\t/**\n\t\tReturns a string representation of `this` List.\n\n\t\tThe result is enclosed in { } with the individual elements being\n\t\tseparated by a comma.\n\t**/\n\tpublic function toString() {\n\t\tvar s = new StringBuf();\n\t\tvar first = true;\n\t\tvar l = h;\n\t\ts.add(\"{\");\n\t\twhile (l != null) {\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\ts.add(\", \");\n\t\t\ts.add(Std.string(l.item));\n\t\t\tl = l.next;\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns a string representation of `this` List, with `sep` separating\n\t\teach element.\n\t**/\n\tpublic function join(sep:String) {\n\t\tvar s = new StringBuf();\n\t\tvar first = true;\n\t\tvar l = h;\n\t\twhile (l != null) {\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\ts.add(sep);\n\t\t\ts.add(l.item);\n\t\t\tl = l.next;\n\t\t}\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns a list filtered with `f`. The returned list will contain all\n\t\telements for which `f(x) == true`.\n\t**/\n\tpublic function filter(f:T->Bool) {\n\t\tvar l2 = new List();\n\t\tvar l = h;\n\t\twhile (l != null) {\n\t\t\tvar v = l.item;\n\t\t\tl = l.next;\n\t\t\tif (f(v))\n\t\t\t\tl2.add(v);\n\t\t}\n\t\treturn l2;\n\t}\n\n\t/**\n\t\tReturns a new list where all elements have been converted by the\n\t\tfunction `f`.\n\t**/\n\tpublic function map<X>(f:T->X):List<X> {\n\t\tvar b = new List();\n\t\tvar l = h;\n\t\twhile (l != null) {\n\t\t\tvar v = l.item;\n\t\t\tl = l.next;\n\t\t\tb.add(f(v));\n\t\t}\n\t\treturn b;\n\t}\n}\n\n#if neko\nprivate extern class ListNode<T> extends neko.NativeArray<Dynamic> {\n\tvar item(get, set):T;\n\tvar next(get, set):ListNode<T>;\n\tprivate inline function get_item():T\n\t\treturn this[0];\n\tprivate inline function set_item(v:T):T\n\t\treturn this[0] = v;\n\tprivate inline function get_next():ListNode<T>\n\t\treturn this[1];\n\tprivate inline function set_next(v:ListNode<T>):ListNode<T>\n\t\treturn this[1] = v;\n\tinline static function create<T>(item:T, next:ListNode<T>):ListNode<T> {\n\t\treturn untyped __dollar__array(item, next);\n\t}\n}\n#else\nprivate class ListNode<T> {\n\tpublic var item:T;\n\tpublic var next:ListNode<T>;\n\n\tpublic function new(item:T, next:ListNode<T>) {\n\t\tthis.item = item;\n\t\tthis.next = next;\n\t}\n\n\textern public inline static function create<T>(item:T, next:ListNode<T>):ListNode<T> {\n\t\treturn new ListNode(item, next);\n\t}\n}\n#end\n\nprivate class ListIterator<T> {\n\tvar head:ListNode<T>;\n\n\tpublic inline function new(head:ListNode<T>) {\n\t\tthis.head = head;\n\t}\n\n\tpublic inline function hasNext():Bool {\n\t\treturn head != null;\n\t}\n\n\tpublic inline function next():T {\n\t\tvar val = head.item;\n\t\thead = head.next;\n\t\treturn val;\n\t}\n}\n\nprivate class ListKeyValueIterator<T> {\n\tvar idx:Int;\n\tvar head:ListNode<T>;\n\n\tpublic inline function new(head:ListNode<T>) {\n\t\tthis.head = head;\n\t\tthis.idx = 0;\n\t}\n\n\tpublic inline function hasNext():Bool {\n\t\treturn head != null;\n\t}\n\n\tpublic inline function next():{key:Int, value:T} {\n\t\tvar val = head.item;\n\t\thead = head.next;\n\t\treturn {value: val, key: idx++};\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of h software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and h permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.ds;\n\nimport js.Syntax;\nimport js.Lib;\n\n@:coreApi\nclass ObjectMap<K:{}, V> implements haxe.Constraints.IMap<K, V> {\n\tstatic var count:Int;\n\n\t// initialize count through __init__ magic, because these are generated\n\t// before normal static initializations for which ObjectMap should be ready to use\n\t// see https://github.com/HaxeFoundation/haxe/issues/6792\n\tstatic inline function __init__():Void\n\t\tcount = 0;\n\n\tstatic inline function assignId(obj:{}):Int {\n\t\treturn Syntax.code('({0}.__id__ = {1})', obj, Lib.getNextHaxeUID());\n\t}\n\n\tstatic inline function getId(obj:{}):Int {\n\t\treturn untyped obj.__id__;\n\t}\n\n\tvar h:{__keys__:{}};\n\n\tpublic function new():Void {\n\t\th = {__keys__: {}};\n\t}\n\n\tpublic function set(key:K, value:V):Void {\n\t\tvar id = getId(key);\n\t\tif(id == null) {\n\t\t\tid = assignId(key);\n\t\t}\n\t\tSyntax.code('{0}[{1}] = {2}', h, id, value);\n\t\tSyntax.code('{0}[{1}] = {2}', h.__keys__, id, key);\n\t}\n\n\tpublic inline function get(key:K):Null<V> {\n\t\treturn untyped h[getId(key)];\n\t}\n\n\tpublic inline function exists(key:K):Bool {\n\t\treturn untyped h.__keys__[getId(key)] != null;\n\t}\n\n\tpublic function remove(key:K):Bool {\n\t\tvar id = getId(key);\n\t\tif (untyped h.__keys__[id] == null)\n\t\t\treturn false;\n\t\tjs.Syntax.delete(h, id);\n\t\tjs.Syntax.delete(h.__keys__, id);\n\t\treturn true;\n\t}\n\n\tpublic function keys():Iterator<K> {\n\t\tvar a = [];\n\t\tuntyped {\n\t\t\tjs.Syntax.code(\"for( var key in this.h.__keys__ ) {\");\n\t\t\tif (h.hasOwnProperty(key))\n\t\t\t\ta.push(h.__keys__[key]);\n\t\t\tjs.Syntax.code(\"}\");\n\t\t}\n\t\treturn a.iterator();\n\t}\n\n\tpublic function iterator():Iterator<V> {\n\t\treturn untyped {\n\t\t\tref: h,\n\t\t\tit: keys(),\n\t\t\thasNext: function() {\n\t\t\t\treturn __this__.it.hasNext();\n\t\t\t},\n\t\t\tnext: function() {\n\t\t\t\tvar i = __this__.it.next();\n\t\t\t\treturn __this__.ref[getId(i)];\n\t\t\t}\n\t\t};\n\t}\n\n\t@:runtime public inline function keyValueIterator():KeyValueIterator<K, V> {\n\t\treturn new haxe.iterators.MapKeyValueIterator(this);\n\t}\n\n\tpublic function copy():ObjectMap<K, V> {\n\t\tvar copied = new ObjectMap();\n\t\tfor (key in keys())\n\t\t\tcopied.set(key, get(key));\n\t\treturn copied;\n\t}\n\n\tpublic function toString():String {\n\t\tvar s = new StringBuf();\n\t\ts.add(\"{\");\n\t\tvar it = keys();\n\t\tfor (i in it) {\n\t\t\ts.add(Std.string(i));\n\t\t\ts.add(\" => \");\n\t\t\ts.add(Std.string(get(i)));\n\t\t\tif (it.hasNext())\n\t\t\t\ts.add(\", \");\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n\tpublic inline function clear():Void {\n\t\th = {__keys__: {}};\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.ds;\n\nimport js.lib.Object;\nimport haxe.Constraints.IMap;\nimport haxe.DynamicAccess;\n\n#if (js_es >= 5)\n@:coreApi class StringMap<T> implements IMap<String, T> {\n\tvar h:Dynamic;\n\n\tpublic inline function new() {\n\t\th = Object.create(null);\n\t}\n\n\tpublic inline function exists(key:String):Bool {\n\t\treturn Object.prototype.hasOwnProperty.call(h, key);\n\t}\n\n\tpublic inline function get(key:String):Null<T> {\n\t\treturn h[cast key];\n\t}\n\n\tpublic inline function set(key:String, value:T):Void {\n\t\th[cast key] = value;\n\t}\n\n\tpublic inline function remove(key:String):Bool {\n\t\treturn if (exists(key)) {\n\t\t\tjs.Syntax.delete(h, key); true;\n\t\t} else {\n\t\t\tfalse;\n\t\t}\n\t}\n\n\tpublic inline function keys():Iterator<String> {\n\t\treturn new StringMapKeyIterator(h);\n\t}\n\n\tpublic inline function iterator():Iterator<T> {\n\t\treturn new StringMapValueIterator(h);\n\t}\n\n\tpublic inline function keyValueIterator():KeyValueIterator<String, T> {\n\t\treturn new StringMapKeyValueIterator(h);\n\t}\n\n\tpublic inline function copy():StringMap<T> {\n\t\treturn createCopy(h);\n\t}\n\n\tpublic inline function clear():Void {\n\t\th = Object.create(null);\n\t}\n\n\tpublic inline function toString():String {\n\t\treturn stringify(h);\n\t}\n\n\t// impl\n\tstatic function createCopy<T>(h:Dynamic):StringMap<T> {\n\t\tvar copy = new StringMap();\n\t\tjs.Syntax.code(\"for (var key in {0}) {1}[key] = {0}[key]\", h, copy.h);\n\t\treturn copy;\n\t}\n\n\t@:analyzer(no_optimize)\n\tstatic function stringify(h:Dynamic):String {\n\t\tvar s = \"{\", first = true;\n\t\tjs.Syntax.code(\"for (var key in {0}) {\", h);\n\t\tjs.Syntax.code(\"\\tif ({0}) {0} = false; else {1} += ',';\", first, s);\n\t\tjs.Syntax.code(\"\\t{0} += key + ' => ' + {1}({2}[key]);\", s, Std.string, h);\n\t\tjs.Syntax.code(\"}\");\n\t\treturn s + \"}\";\n\t}\n}\n\nprivate class StringMapKeyIterator {\n\tfinal h:Dynamic;\n\tfinal keys:Array<String>;\n\tfinal length:Int;\n\tvar current:Int;\n\n\tpublic inline function new(h:Dynamic) {\n\t\tthis.h = h;\n\t\tkeys = Object.keys(h);\n\t\tlength = keys.length;\n\t\tcurrent = 0;\n\t}\n\n\tpublic inline function hasNext():Bool {\n\t\treturn current < length;\n\t}\n\n\tpublic inline function next():String {\n\t\treturn keys[current++];\n\t}\n}\n\nprivate class StringMapValueIterator<T> {\n\tfinal h:Dynamic;\n\tfinal keys:Array<String>;\n\tfinal length:Int;\n\tvar current:Int;\n\n\tpublic inline function new(h:Dynamic) {\n\t\tthis.h = h;\n\t\tkeys = Object.keys(h);\n\t\tlength = keys.length;\n\t\tcurrent = 0;\n\t}\n\n\tpublic inline function hasNext():Bool {\n\t\treturn current < length;\n\t}\n\n\tpublic inline function next():T {\n\t\treturn h[cast keys[current++]];\n\t}\n}\n\nprivate class StringMapKeyValueIterator<T> {\n\tfinal h:Dynamic;\n\tfinal keys:Array<String>;\n\tfinal length:Int;\n\tvar current:Int;\n\n\tpublic inline function new(h:Dynamic) {\n\t\tthis.h = h;\n\t\tkeys = Object.keys(h);\n\t\tlength = keys.length;\n\t\tcurrent = 0;\n\t}\n\n\tpublic inline function hasNext():Bool {\n\t\treturn current < length;\n\t}\n\n\tpublic inline function next():{key:String, value:T} {\n\t\tvar key = keys[current++];\n\t\treturn {key: key, value: h[cast key]};\n\t}\n}\n#else\nprivate class StringMapIterator<T> {\n\tvar map:StringMap<T>;\n\tvar keys:Array<String>;\n\tvar index:Int;\n\tvar count:Int;\n\n\tpublic inline function new(map:StringMap<T>, keys:Array<String>) {\n\t\tthis.map = map;\n\t\tthis.keys = keys;\n\t\tthis.index = 0;\n\t\tthis.count = keys.length;\n\t}\n\n\tpublic inline function hasNext() {\n\t\treturn index < count;\n\t}\n\n\tpublic inline function next() {\n\t\treturn map.get(keys[index++]);\n\t}\n}\n\n@:coreApi class StringMap<T> implements haxe.Constraints.IMap<String, T> {\n\tprivate var h:Dynamic;\n\tprivate var rh:Dynamic;\n\n\tpublic inline function new():Void {\n\t\th = {};\n\t}\n\n\tinline function isReserved(key:String):Bool {\n\t\treturn js.Syntax.code(\"__map_reserved[{0}]\", key) != null;\n\t}\n\n\tpublic inline function set(key:String, value:T):Void {\n\t\tif (isReserved(key))\n\t\t\tsetReserved(key, value);\n\t\telse\n\t\t\th[cast key] = value;\n\t}\n\n\tpublic inline function get(key:String):Null<T> {\n\t\tif (isReserved(key))\n\t\t\treturn getReserved(key);\n\t\treturn h[cast key];\n\t}\n\n\tpublic inline function exists(key:String):Bool {\n\t\tif (isReserved(key))\n\t\t\treturn existsReserved(key);\n\t\treturn h.hasOwnProperty(key);\n\t}\n\n\tfunction setReserved(key:String, value:T):Void {\n\t\tif (rh == null)\n\t\t\trh = {};\n\t\trh[cast \"$\" + key] = value;\n\t}\n\n\tfunction getReserved(key:String):Null<T> {\n\t\treturn rh == null ? null : rh[cast \"$\" + key];\n\t}\n\n\tfunction existsReserved(key:String):Bool {\n\t\tif (rh == null)\n\t\t\treturn false;\n\t\treturn (cast rh).hasOwnProperty(\"$\" + key);\n\t}\n\n\tpublic function remove(key:String):Bool {\n\t\tif (isReserved(key)) {\n\t\t\tkey = \"$\" + key;\n\t\t\tif (rh == null || !rh.hasOwnProperty(key))\n\t\t\t\treturn false;\n\t\t\tjs.Syntax.delete(rh, key);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (!h.hasOwnProperty(key))\n\t\t\t\treturn false;\n\t\t\tjs.Syntax.delete(h, key);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic function keys():Iterator<String> {\n\t\treturn arrayKeys().iterator();\n\t}\n\n\tfunction arrayKeys():Array<String> {\n\t\tvar out = [];\n\t\tuntyped {\n\t\t\tjs.Syntax.code(\"for( var key in this.h ) {\");\n\t\t\tif (h.hasOwnProperty(key))\n\t\t\t\tout.push(key);\n\t\t\tjs.Syntax.code(\"}\");\n\t\t}\n\t\tif (rh != null)\n\t\t\tuntyped {\n\t\t\t\tjs.Syntax.code(\"for( var key in this.rh ) {\");\n\t\t\t\tif (key.charCodeAt(0) == \"$\".code)\n\t\t\t\t\tout.push(key.substr(1));\n\t\t\t\tjs.Syntax.code(\"}\");\n\t\t\t}\n\t\treturn out;\n\t}\n\n\tpublic inline function iterator():Iterator<T> {\n\t\treturn new StringMapIterator(this, arrayKeys());\n\t}\n\n\t@:runtime public inline function keyValueIterator():KeyValueIterator<String, T> {\n\t\treturn new haxe.iterators.MapKeyValueIterator(this);\n\t}\n\n\tpublic function copy():StringMap<T> {\n\t\tvar copied = new StringMap();\n\t\tfor (key in keys())\n\t\t\tcopied.set(key, get(key));\n\t\treturn copied;\n\t}\n\n\tpublic function toString():String {\n\t\tvar s = new StringBuf();\n\t\ts.add(\"{\");\n\t\tvar keys = arrayKeys();\n\t\tfor (i in 0...keys.length) {\n\t\t\tvar k = keys[i];\n\t\t\ts.add(k);\n\t\t\ts.add(\" => \");\n\t\t\ts.add(Std.string(get(k)));\n\t\t\tif (i < keys.length - 1)\n\t\t\t\ts.add(\", \");\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n\tpublic inline function clear():Void {\n\t\th = {};\n\t\trh = null;\n\t}\n\n\tstatic function __init__():Void {\n\t\tjs.Syntax.code(\"var __map_reserved = {};\");\n\t}\n}\n#end\n","package haxe.exceptions;\n\n/**\n\tAn exception that carry position information of a place where it was created.\n**/\nclass PosException extends Exception {\n\t/**\n\t\tPosition where this exception was created.\n\t**/\n\tpublic final posInfos:PosInfos;\n\n\tpublic function new(message:String, ?previous:Exception, ?pos:PosInfos):Void {\n\t\tsuper(message, previous);\n\t\tif (pos == null) {\n\t\t\tposInfos = { fileName:'(unknown)', lineNumber:0, className:'(unknown)', methodName:'(unknown)' }\n\t\t} else {\n\t\t\tposInfos = pos;\n\t\t}\n\t}\n\n\t/**\n\t\tReturns exception message.\n\t**/\n\toverride function toString():String {\n\t\treturn '${super.toString()} in ${posInfos.className}.${posInfos.methodName} at ${posInfos.fileName}:${posInfos.lineNumber}';\n\t}\n}","package haxe.exceptions;\n\n/**\n\tAn exception that is thrown when requested function or operation does not have an implementation.\n**/\nclass NotImplementedException extends PosException {\n\tpublic function new(message:String = 'Not implemented', ?previous:Exception, ?pos:PosInfos):Void {\n\t\tsuper(message, previous, pos);\n\t}\n}","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.http;\n\nimport haxe.io.Bytes;\n\nprivate typedef StringKeyValue = {\n\tvar name:String;\n\tvar value:String;\n}\n\n/**\n\tThis class can be used to handle Http requests consistently across\n\tplatforms. There are two intended usages:\n\n\t- call `haxe.Http.requestUrl(url)` and receive the result as a `String`\n\t(only available on `sys` targets)\n\t- create a `new haxe.Http(url)`, register your callbacks for `onData`,\n\t`onError` and `onStatus`, then call `request()`.\n**/\nclass HttpBase {\n\t/**\n\t\tThe url of `this` request. It is used only by the `request()` method and\n\t\tcan be changed in order to send the same request to different target\n\t\tUrls.\n\t**/\n\tpublic var url:String;\n\n\tpublic var responseData(get,never):Null<String>;\n\tpublic var responseBytes(default,null):Null<Bytes>;\n\n\tvar responseAsString:Null<String>;\n\tvar postData:Null<String>;\n\tvar postBytes:Null<Bytes>;\n\tvar headers:Array<StringKeyValue>;\n\tvar params:Array<StringKeyValue>;\n\n\tfinal emptyOnData:(String)->Void;\n\n\t/**\n\t\tCreates a new Http instance with `url` as parameter.\n\n\t\tThis does not do a request until `request()` is called.\n\n\t\tIf `url` is null, the field url must be set to a value before making the\n\t\tcall to `request()`, or the result is unspecified.\n\n\t\t(Php) Https (SSL) connections are allowed only if the OpenSSL extension\n\t\tis enabled.\n\t**/\n\tpublic function new(url:String) {\n\t\tthis.url = url;\n\t\theaders = [];\n\t\tparams = [];\n\t\temptyOnData = onData;\n\t}\n\n\t/**\n\t\tSets the header identified as `name` to value `value`.\n\n\t\tIf `name` or `value` are null, the result is unspecified.\n\n\t\tThis method provides a fluent interface.\n\t**/\n\tpublic function setHeader(name:String, value:String) {\n\t\tfor (i in 0...headers.length) {\n\t\t\tif (headers[i].name == name) {\n\t\t\t\theaders[i] = {name: name, value: value};\n\t\t\t\treturn #if hx3compat this #end;\n\t\t\t}\n\t\t}\n\t\theaders.push({name: name, value: value});\n\t\t#if hx3compat\n\t\treturn this;\n\t\t#end\n\t}\n\n\tpublic function addHeader(header:String, value:String) {\n\t\theaders.push({name: header, value: value});\n\t\t#if hx3compat\n\t\treturn this;\n\t\t#end\n\t}\n\n\t/**\n\t\tSets the parameter identified as `name` to value `value`.\n\n\t\tIf `name` or `value` are null, the result is unspecified.\n\n\t\tThis method provides a fluent interface.\n\t**/\n\tpublic function setParameter(name:String, value:String) {\n\t\tfor (i in 0...params.length) {\n\t\t\tif (params[i].name == name) {\n\t\t\t\tparams[i] = {name: name, value: value};\n\t\t\t\treturn #if hx3compat this #end;\n\t\t\t}\n\t\t}\n\t\tparams.push({name: name, value: value});\n\t\t#if hx3compat\n\t\treturn this;\n\t\t#end\n\t}\n\n\tpublic function addParameter(name:String, value:String) {\n\t\tparams.push({name: name, value: value});\n\t\t#if hx3compat\n\t\treturn this;\n\t\t#end\n\t}\n\n\t/**\n\t\tSets the post data of `this` Http request to `data` string.\n\n\t\tThere can only be one post data per request. Subsequent calls to\n\t\tthis method or to `setPostBytes()` overwrite the previously set value.\n\n\t\tIf `data` is null, the post data is considered to be absent.\n\n\t\tThis method provides a fluent interface.\n\t**/\n\tpublic function setPostData(data:Null<String>) {\n\t\tpostData = data;\n\t\tpostBytes = null;\n\t\t#if hx3compat\n\t\treturn this;\n\t\t#end\n\t}\n\n\t/**\n\t\tSets the post data of `this` Http request to `data` bytes.\n\n\t\tThere can only be one post data per request. Subsequent calls to\n\t\tthis method or to `setPostData()` overwrite the previously set value.\n\n\t\tIf `data` is null, the post data is considered to be absent.\n\n\t\tThis method provides a fluent interface.\n\t**/\n\tpublic function setPostBytes(data:Null<Bytes>) {\n\t\tpostBytes = data;\n\t\tpostData = null;\n\t\t#if hx3compat\n\t\treturn this;\n\t\t#end\n\t}\n\n\t/**\n\t\tSends `this` Http request to the Url specified by `this.url`.\n\n\t\tIf `post` is true, the request is sent as POST request, otherwise it is\n\t\tsent as GET request.\n\n\t\tDepending on the outcome of the request, this method calls the\n\t\t`onStatus()`, `onError()`, `onData()` or `onBytes()` callback functions.\n\n\t\tIf `this.url` is null, the result is unspecified.\n\n\t\tIf `this.url` is an invalid or inaccessible Url, the `onError()` callback\n\t\tfunction is called.\n\n\t\t[js] If `this.async` is false, the callback functions are called before\n\t\tthis method returns.\n\t**/\n\tpublic function request(?post:Bool):Void {\n\t\tthrow new haxe.exceptions.NotImplementedException();\n\t}\n\n\t/**\n\t\tThis method is called upon a successful request, with `data` containing\n\t\tthe result String.\n\n\t\tThe intended usage is to bind it to a custom function:\n\t\t`httpInstance.onData = function(data) { // handle result }`\n\t**/\n\tpublic dynamic function onData(data:String) {}\n\n\t/**\n\t\tThis method is called upon a successful request, with `data` containing\n\t\tthe result String.\n\n\t\tThe intended usage is to bind it to a custom function:\n\t\t`httpInstance.onBytes = function(data) { // handle result }`\n\t**/\n\tpublic dynamic function onBytes(data:Bytes) {}\n\n\t/**\n\t\tThis method is called upon a request error, with `msg` containing the\n\t\terror description.\n\n\t\tThe intended usage is to bind it to a custom function:\n\t\t`httpInstance.onError = function(msg) { // handle error }`\n\t**/\n\tpublic dynamic function onError(msg:String) {}\n\n\t/**\n\t\tThis method is called upon a Http status change, with `status` being the\n\t\tnew status.\n\n\t\tThe intended usage is to bind it to a custom function:\n\t\t`httpInstance.onStatus = function(status) { // handle status }`\n\t**/\n\tpublic dynamic function onStatus(status:Int) {}\n\n\t/**\n\t\tOverride this if extending `haxe.Http` with overriding `onData`\n\t**/\n\tfunction hasOnData():Bool {\n\t\treturn !Reflect.compareMethods(onData, emptyOnData);\n\t}\n\n\tfunction success(data:Bytes) {\n\t\tresponseBytes = data;\n\t\tresponseAsString = null;\n\t\tif (hasOnData()) {\n\t\t\tonData(responseData);\n\t\t}\n\t\tonBytes(responseBytes);\n\t}\n\n\tfunction get_responseData() {\n\t\tif (responseAsString == null && responseBytes != null) {\n\t\t\t#if neko\n\t\t\tresponseAsString = neko.Lib.stringReference(responseBytes);\n\t\t\t#else\n\t\t\tresponseAsString = responseBytes.getString(0, responseBytes.length, UTF8);\n\t\t\t#end\n\t\t}\n\t\treturn responseAsString;\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.http;\n\n#if js\nimport js.html.XMLHttpRequestResponseType;\nimport js.html.Blob;\nimport haxe.io.Bytes;\n\nclass HttpJs extends haxe.http.HttpBase {\n\tpublic var async:Bool;\n\tpublic var withCredentials:Bool;\n\n\tvar req:js.html.XMLHttpRequest;\n\n\tpublic function new(url:String) {\n\t\tasync = true;\n\t\twithCredentials = false;\n\t\tsuper(url);\n\t}\n\n\t/**\n\t\tCancels `this` Http request if `request` has been called and a response\n\t\thas not yet been received.\n\t**/\n\tpublic function cancel() {\n\t\tif (req == null)\n\t\t\treturn;\n\t\treq.abort();\n\t\treq = null;\n\t}\n\n\tpublic override function request(?post:Bool) {\n\t\tthis.responseAsString = null;\n\t\tthis.responseBytes = null;\n\t\tvar r = req = js.Browser.createXMLHttpRequest();\n\t\tvar onreadystatechange = function(_) {\n\t\t\tif (r.readyState != 4)\n\t\t\t\treturn;\n\t\t\tvar s = try r.status catch (e:Dynamic) null;\n\t\t\tif (s == 0 && js.Browser.supported && js.Browser.location != null) {\n\t\t\t\t// If the request is local and we have data: assume a success (jQuery approach):\n\t\t\t\tvar protocol = js.Browser.location.protocol.toLowerCase();\n\t\t\t\tvar rlocalProtocol = ~/^(?:about|app|app-storage|.+-extension|file|res|widget):$/;\n\t\t\t\tvar isLocal = rlocalProtocol.match(protocol);\n\t\t\t\tif (isLocal) {\n\t\t\t\t\ts = r.response != null ? 200 : 404;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (s == js.Lib.undefined)\n\t\t\t\ts = null;\n\t\t\tif (s != null)\n\t\t\t\tonStatus(s);\n\t\t\tif (s != null && s >= 200 && s < 400) {\n\t\t\t\treq = null;\n\t\t\t\tsuccess(Bytes.ofData(r.response));\n\t\t\t} else if (s == null || (s == 0 && r.response == null)) {\n\t\t\t\treq = null;\n\t\t\t\tonError(\"Failed to connect or resolve host\");\n\t\t\t} else\n\t\t\t\tswitch (s) {\n\t\t\t\t\tcase 12029:\n\t\t\t\t\t\treq = null;\n\t\t\t\t\t\tonError(\"Failed to connect to host\");\n\t\t\t\t\tcase 12007:\n\t\t\t\t\t\treq = null;\n\t\t\t\t\t\tonError(\"Unknown host\");\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treq = null;\n\t\t\t\t\t\tresponseBytes = r.response != null ? Bytes.ofData(r.response) : null;\n\t\t\t\t\t\tonError(\"Http Error #\" + r.status);\n\t\t\t\t}\n\t\t};\n\t\tif (async)\n\t\t\tr.onreadystatechange = onreadystatechange;\n\t\tvar uri:Null<Any> = switch [postData, postBytes] {\n\t\t\tcase [null, null]: null;\n\t\t\tcase [str, null]: str;\n\t\t\tcase [null, bytes]: new Blob([bytes.getData()]);\n\t\t\tcase _: null;\n\t\t}\n\t\tif (uri != null)\n\t\t\tpost = true;\n\t\telse\n\t\t\tfor (p in params) {\n\t\t\t\tif (uri == null)\n\t\t\t\t\turi = \"\";\n\t\t\t\telse\n\t\t\t\t\turi = uri + \"&\";\n\t\t\t\turi = uri + StringTools.urlEncode(p.name) + \"=\" + StringTools.urlEncode(p.value);\n\t\t\t}\n\t\ttry {\n\t\t\tif (post)\n\t\t\t\tr.open(\"POST\", url, async);\n\t\t\telse if (uri != null) {\n\t\t\t\tvar question = url.split(\"?\").length <= 1;\n\t\t\t\tr.open(\"GET\", url + (if (question) \"?\" else \"&\") + uri, async);\n\t\t\t\turi = null;\n\t\t\t} else\n\t\t\t\tr.open(\"GET\", url, async);\n\t\t\tr.responseType = ARRAYBUFFER;\n\t\t} catch (e:Dynamic) {\n\t\t\treq = null;\n\t\t\tonError(e.toString());\n\t\t\treturn;\n\t\t}\n\t\tr.withCredentials = withCredentials;\n\t\tif (!Lambda.exists(headers, function(h) return h.name == \"Content-Type\") && post && postData == null)\n\t\t\tr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n\t\tfor (h in headers)\n\t\t\tr.setRequestHeader(h.name, h.value);\n\t\tr.send(uri);\n\t\tif (!async)\n\t\t\tonreadystatechange(null);\n\t}\n\n\t/**\n\t\tMakes a synchronous request to `url`.\n\n\t\tThis creates a new Http instance and makes a GET request by calling its\n\t\t`request(false)` method.\n\n\t\tIf `url` is null, the result is unspecified.\n\t**/\n\tpublic static function requestUrl(url:String):String {\n\t\tvar h = new Http(url);\n\t\th.async = false;\n\t\tvar r = null;\n\t\th.onData = function(d) {\n\t\t\tr = d;\n\t\t}\n\t\th.onError = function(e) {\n\t\t\tthrow e;\n\t\t}\n\t\th.request(false);\n\t\treturn r;\n\t}\n}\n#end\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.io;\n\n@:coreApi\nclass Bytes {\n\tpublic var length(default, null):Int;\n\n\tvar b:js.lib.Uint8Array;\n\tvar data:js.lib.DataView;\n\n\tfunction new(data:BytesData) {\n\t\tthis.length = data.byteLength;\n\t\tthis.b = new js.lib.Uint8Array(data);\n\t\tuntyped {\n\t\t\tb.bufferValue = data; // some impl does not return the same instance in .buffer\n\t\t\tdata.hxBytes = this;\n\t\t\tdata.bytes = this.b;\n\t\t}\n\t}\n\n\tpublic inline function get(pos:Int):Int {\n\t\treturn b[pos];\n\t}\n\n\tpublic inline function set(pos:Int, v:Int):Void {\n\t\tb[pos] = v;\n\t}\n\n\tpublic function blit(pos:Int, src:Bytes, srcpos:Int, len:Int):Void {\n\t\tif (pos < 0 || srcpos < 0 || len < 0 || pos + len > length || srcpos + len > src.length)\n\t\t\tthrow Error.OutsideBounds;\n\t\tif (srcpos == 0 && len == src.b.byteLength)\n\t\t\tb.set(src.b, pos);\n\t\telse\n\t\t\tb.set(src.b.subarray(srcpos, srcpos + len), pos);\n\t}\n\n\tpublic function fill(pos:Int, len:Int, value:Int):Void {\n\t\tfor (i in 0...len)\n\t\t\tset(pos++, value);\n\t}\n\n\tpublic function sub(pos:Int, len:Int):Bytes {\n\t\tif (pos < 0 || len < 0 || pos + len > length)\n\t\t\tthrow Error.OutsideBounds;\n\t\treturn new Bytes(b.buffer.slice(pos + b.byteOffset, pos + b.byteOffset + len));\n\t}\n\n\tpublic function compare(other:Bytes):Int {\n\t\tvar b1 = b;\n\t\tvar b2 = other.b;\n\t\tvar len = (length < other.length) ? length : other.length;\n\t\tfor (i in 0...len)\n\t\t\tif (b1[i] != b2[i])\n\t\t\t\treturn b1[i] - b2[i];\n\t\treturn length - other.length;\n\t}\n\n\tinline function initData():Void {\n\t\tif (data == null)\n\t\t\tdata = new js.lib.DataView(b.buffer, b.byteOffset, b.byteLength);\n\t}\n\n\tpublic function getDouble(pos:Int):Float {\n\t\tinitData();\n\t\treturn data.getFloat64(pos, true);\n\t}\n\n\tpublic function getFloat(pos:Int):Float {\n\t\tinitData();\n\t\treturn data.getFloat32(pos, true);\n\t}\n\n\tpublic function setDouble(pos:Int, v:Float):Void {\n\t\tinitData();\n\t\tdata.setFloat64(pos, v, true);\n\t}\n\n\tpublic function setFloat(pos:Int, v:Float):Void {\n\t\tinitData();\n\t\tdata.setFloat32(pos, v, true);\n\t}\n\n\tpublic function getUInt16(pos:Int):Int {\n\t\tinitData();\n\t\treturn data.getUint16(pos, true);\n\t}\n\n\tpublic function setUInt16(pos:Int, v:Int):Void {\n\t\tinitData();\n\t\tdata.setUint16(pos, v, true);\n\t}\n\n\tpublic function getInt32(pos:Int):Int {\n\t\tinitData();\n\t\treturn data.getInt32(pos, true);\n\t}\n\n\tpublic function setInt32(pos:Int, v:Int):Void {\n\t\tinitData();\n\t\tdata.setInt32(pos, v, true);\n\t}\n\n\tpublic function getInt64(pos:Int):haxe.Int64 {\n\t\treturn Int64.make(getInt32(pos + 4), getInt32(pos));\n\t}\n\n\tpublic function setInt64(pos:Int, v:haxe.Int64):Void {\n\t\tsetInt32(pos, v.low);\n\t\tsetInt32(pos + 4, v.high);\n\t}\n\n\tpublic function getString(pos:Int, len:Int, ?encoding:Encoding):String {\n\t\tif (pos < 0 || len < 0 || pos + len > length)\n\t\t\tthrow Error.OutsideBounds;\n\t\tif (encoding == null)\n\t\t\tencoding = UTF8;\n\t\tvar s = \"\";\n\t\tvar b = b;\n\t\tvar i = pos;\n\t\tvar max = pos + len;\n\t\tswitch (encoding) {\n\t\t\tcase UTF8:\n\t\t\t\tvar debug = pos > 0;\n\t\t\t\t// utf8-decode and utf16-encode\n\t\t\t\twhile (i < max) {\n\t\t\t\t\tvar c = b[i++];\n\t\t\t\t\tif (c < 0x80) {\n\t\t\t\t\t\tif (c == 0)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\ts += String.fromCharCode(c);\n\t\t\t\t\t} else if (c < 0xE0)\n\t\t\t\t\t\ts += String.fromCharCode(((c & 0x3F) << 6) | (b[i++] & 0x7F));\n\t\t\t\t\telse if (c < 0xF0) {\n\t\t\t\t\t\tvar c2 = b[i++];\n\t\t\t\t\t\ts += String.fromCharCode(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (b[i++] & 0x7F));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar c2 = b[i++];\n\t\t\t\t\t\tvar c3 = b[i++];\n\t\t\t\t\t\tvar u = ((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 & 0x7F) << 6) | (b[i++] & 0x7F);\n\t\t\t\t\t\ts += String.fromCharCode(u);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tcase RawNative:\n\t\t\t\twhile (i < max) {\n\t\t\t\t\tvar c = b[i++] | (b[i++] << 8);\n\t\t\t\t\ts += String.fromCharCode(c);\n\t\t\t\t}\n\t\t}\n\t\treturn s;\n\t}\n\n\t@:deprecated(\"readString is deprecated, use getString instead\")\n\t@:noCompletion\n\tpublic inline function readString(pos:Int, len:Int):String {\n\t\treturn getString(pos, len);\n\t}\n\n\tpublic function toString():String {\n\t\treturn getString(0, length);\n\t}\n\n\tpublic function toHex():String {\n\t\tvar s = new StringBuf();\n\t\tvar chars = [];\n\t\tvar str = \"0123456789abcdef\";\n\t\tfor (i in 0...str.length)\n\t\t\tchars.push(str.charCodeAt(i));\n\t\tfor (i in 0...length) {\n\t\t\tvar c = get(i);\n\t\t\ts.addChar(chars[c >> 4]);\n\t\t\ts.addChar(chars[c & 15]);\n\t\t}\n\t\treturn s.toString();\n\t}\n\n\tpublic inline function getData():BytesData {\n\t\treturn untyped b.bufferValue;\n\t}\n\n\tpublic static inline function alloc(length:Int):Bytes {\n\t\treturn new Bytes(new BytesData(length));\n\t}\n\n\tpublic static function ofString(s:String, ?encoding:Encoding):Bytes {\n\t\tif (encoding == RawNative) {\n\t\t\tvar buf = new js.lib.Uint8Array(s.length << 1);\n\t\t\tfor (i in 0...s.length) {\n\t\t\t\tvar c:Int = StringTools.fastCodeAt(s, i);\n\t\t\t\tbuf[i << 1] = c & 0xFF;\n\t\t\t\tbuf[(i << 1) | 1] = c >> 8;\n\t\t\t}\n\t\t\treturn new Bytes(buf.buffer);\n\t\t}\n\t\tvar a = new Array();\n\t\t// utf16-decode and utf8-encode\n\t\tvar i = 0;\n\t\twhile (i < s.length) {\n\t\t\tvar c:Int = StringTools.fastCodeAt(s, i++);\n\t\t\t// surrogate pair\n\t\t\tif (0xD800 <= c && c <= 0xDBFF)\n\t\t\t\tc = (c - 0xD7C0 << 10) | (StringTools.fastCodeAt(s, i++) & 0x3FF);\n\t\t\tif (c <= 0x7F)\n\t\t\t\ta.push(c);\n\t\t\telse if (c <= 0x7FF) {\n\t\t\t\ta.push(0xC0 | (c >> 6));\n\t\t\t\ta.push(0x80 | (c & 63));\n\t\t\t} else if (c <= 0xFFFF) {\n\t\t\t\ta.push(0xE0 | (c >> 12));\n\t\t\t\ta.push(0x80 | ((c >> 6) & 63));\n\t\t\t\ta.push(0x80 | (c & 63));\n\t\t\t} else {\n\t\t\t\ta.push(0xF0 | (c >> 18));\n\t\t\t\ta.push(0x80 | ((c >> 12) & 63));\n\t\t\t\ta.push(0x80 | ((c >> 6) & 63));\n\t\t\t\ta.push(0x80 | (c & 63));\n\t\t\t}\n\t\t}\n\t\treturn new Bytes(new js.lib.Uint8Array(a).buffer);\n\t}\n\n\tpublic static function ofData(b:BytesData):Bytes {\n\t\tvar hb = untyped b.hxBytes;\n\t\tif (hb != null)\n\t\t\treturn hb;\n\t\treturn new Bytes(b);\n\t}\n\n\tpublic static function ofHex(s:String):Bytes {\n\t\tif ((s.length & 1) != 0)\n\t\t\tthrow \"Not a hex string (odd number of digits)\";\n\t\tvar a = new Array();\n\t\tvar i = 0;\n\t\tvar len = s.length >> 1;\n\t\twhile (i < len) {\n\t\t\tvar high = StringTools.fastCodeAt(s, i * 2);\n\t\t\tvar low = StringTools.fastCodeAt(s, i * 2 + 1);\n\t\t\thigh = (high & 0xF) + ((high & 0x40) >> 6) * 9;\n\t\t\tlow = (low & 0xF) + ((low & 0x40) >> 6) * 9;\n\t\t\ta.push(((high << 4) | low) & 0xFF);\n\t\t\ti++;\n\t\t}\n\n\t\treturn new Bytes(new js.lib.Uint8Array(a).buffer);\n\t}\n\n\tpublic inline static function fastGet(b:BytesData, pos:Int):Int {\n\t\t// this requires that we have wrapped it with haxe.io.Bytes beforehand\n\t\treturn untyped b.bytes[pos];\n\t}\n}\n","/*\n * Copyright (C)2005-2018 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.iterators;\n\n/**\n\tThis iterator is used only when `Array<T>` is passed to `Iterable<T>`\n**/\nclass ArrayIterator<T> {\n\tfinal array:Array<T>;\n\tvar current:Int = 0;\n\n\t/**\n\t\tCreate a new `ArrayIterator`.\n\t**/\n\t#if !hl inline #end\n\tpublic function new(array:Array<T>) {\n\t\tthis.array = array;\n\t}\n\n\t/**\n\t\tSee `Iterator.hasNext`\n\t**/\n\t#if !hl inline #end\n\tpublic function hasNext() {\n\t\treturn current < array.length;\n\t}\n\n\t/**\n\t\tSee `Iterator.next`\n\t**/\n\t#if !hl inline #end\n\tpublic function next() {\n\t\treturn array[current++];\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage js;\n\nimport js.Syntax; // import it here so it's always available in the compiler\n\n@:dox(hide)\nclass Boot {\n\tstatic inline function isClass(o:Dynamic):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\n\t}\n\n\tstatic inline function isInterface(o:Class<Dynamic>):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isInterface\", o.__isInterface__);\n\t}\n\n\tstatic inline function isEnum(e:Dynamic):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\n\t}\n\n\t@:pure static function getClass(o:Null<Dynamic>):Null<Dynamic> {\n\t\tif (o == null) {\n\t\t\treturn null;\n\t\t} else if (Std.isOfType(o, Array)) {\n\t\t\treturn Array;\n\t\t} else {\n\t\t\tvar cl = untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\n\t\t\tif (cl != null)\n\t\t\t\treturn cl;\n\t\t\tvar name = __nativeClassName(o);\n\t\t\tif (name != null)\n\t\t\t\treturn __resolveNativeClass(name);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t@:ifFeature(\"has_enum\")\n\tprivate static function __string_rec(o, s:String) {\n\t\tuntyped {\n\t\t\tif (o == null)\n\t\t\t\treturn \"null\";\n\t\t\tif (s.length >= 5)\n\t\t\t\treturn \"<...>\"; // too much deep recursion\n\t\t\tvar t = js.Syntax.typeof(o);\n\t\t\tif (t == \"function\" && (isClass(o) || isEnum(o)))\n\t\t\t\tt = \"object\";\n\t\t\tswitch (t) {\n\t\t\t\tcase \"object\":\n\t\t\t\t\t#if !js_enums_as_arrays\n\t\t\t\t\t__feature__(\"has_enum\", if (o.__enum__) {\n\t\t\t\t\t\tvar e = $hxEnums[o.__enum__];\n\t\t\t\t\t\tvar con = e.__constructs__[o._hx_index];\n\t\t\t\t\t\tvar n = con._hx_name;\n\t\t\t\t\t\tif (con.__params__) {\n\t\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\t\treturn n + \"(\" + [for (p in (con.__params__ : Array<String>)) __string_rec(o[p], s)].join(\",\") + \")\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t#end\n\t\t\t\t\tif (js.Syntax.instanceof(o, Array)) {\n\t\t\t\t\t\t#if js_enums_as_arrays\n\t\t\t\t\t\t__feature__(\"has_enum\", if (o.__enum__) {\n\t\t\t\t\t\t\tif (o.length == 2)\n\t\t\t\t\t\t\t\treturn o[0];\n\t\t\t\t\t\t\tvar str = o[0] + \"(\";\n\t\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\t\tfor (i in 2...o.length) {\n\t\t\t\t\t\t\t\tif (i != 2)\n\t\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i], s);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tstr += __string_rec(o[i], s);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn str + \")\";\n\t\t\t\t\t\t});\n\t\t\t\t\t\t#end\n\t\t\t\t\t\tvar str = \"[\";\n\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\tfor (i in 0...o.length)\n\t\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\") + __string_rec(o[i], s);\n\t\t\t\t\t\tstr += \"]\";\n\t\t\t\t\t\treturn str;\n\t\t\t\t\t}\n\t\t\t\t\tvar tostr;\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttostr = untyped o.toString;\n\t\t\t\t\t} catch (e:Dynamic) {\n\t\t\t\t\t\t// strange error on IE\n\t\t\t\t\t\treturn \"???\";\n\t\t\t\t\t}\n\t\t\t\t\tif (tostr != null && tostr != js.Syntax.code(\"Object.toString\") && js.Syntax.typeof(tostr) == \"function\") {\n\t\t\t\t\t\tvar s2 = o.toString();\n\t\t\t\t\t\tif (s2 != \"[object Object]\")\n\t\t\t\t\t\t\treturn s2;\n\t\t\t\t\t}\n\t\t\t\t\tvar str = \"{\\n\";\n\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\tvar hasp = (o.hasOwnProperty != null);\n\t\t\t\t\tvar k:String = null;\n\t\t\t\t\tjs.Syntax.code(\"for( {0} in {1} ) {\", k, o);\n\t\t\t\t\tif (hasp && !o.hasOwnProperty(k))\n\t\t\t\t\t\tjs.Syntax.code(\"continue\");\n\t\t\t\t\tif (k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\")\n\t\t\t\t\t\tjs.Syntax.code(\"continue\");\n\t\t\t\t\tif (str.length != 2)\n\t\t\t\t\t\tstr += \", \\n\";\n\t\t\t\t\tstr += s + k + \" : \" + __string_rec(o[k], s);\n\t\t\t\t\tjs.Syntax.code(\"}\");\n\t\t\t\t\ts = s.substring(1);\n\t\t\t\t\tstr += \"\\n\" + s + \"}\";\n\t\t\t\t\treturn str;\n\t\t\t\tcase \"function\":\n\t\t\t\t\treturn \"<function>\";\n\t\t\t\tcase \"string\":\n\t\t\t\t\treturn o;\n\t\t\t\tdefault:\n\t\t\t\t\treturn String(o);\n\t\t\t}\n\t\t}\n\t}\n\n\t@:pure private static function __interfLoop(cc:Dynamic, cl:Dynamic) {\n\t\tif (cc == null)\n\t\t\treturn false;\n\t\tif (cc == cl)\n\t\t\treturn true;\n\t\tvar intf:Dynamic = cc.__interfaces__;\n\t\tif (intf != null\n\t\t\t// ES6 classes inherit statics, so we want to avoid accessing inherited `__interfaces__`\n\t\t\t#if (js_es >= 6) && (cc.__super__ == null || cc.__super__.__interfaces__ != intf) #end\n\t\t) {\n\t\t\tfor (i in 0...intf.length) {\n\t\t\t\tvar i:Dynamic = intf[i];\n\t\t\t\tif (i == cl || __interfLoop(i, cl))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn __interfLoop(cc.__super__, cl);\n\t}\n\n\t@:pure private static function __instanceof(o:Dynamic, cl:Dynamic) {\n\t\tif (cl == null)\n\t\t\treturn false;\n\t\tswitch (cl) {\n\t\t\tcase Int:\n\t\t\t\treturn js.Syntax.typeof(o) == \"number\" && js.Syntax.strictEq(o | 0, o);\n\t\t\tcase Float:\n\t\t\t\treturn js.Syntax.typeof(o) == \"number\";\n\t\t\tcase Bool:\n\t\t\t\treturn js.Syntax.typeof(o) == \"boolean\";\n\t\t\tcase String:\n\t\t\t\treturn js.Syntax.typeof(o) == \"string\";\n\t\t\tcase Array:\n\t\t\t\treturn js.Syntax.instanceof(o, Array) #if js_enums_as_arrays && o.__enum__ == null #end;\n\t\t\tcase Dynamic:\n\t\t\t\treturn o != null;\n\t\t\tdefault:\n\t\t\t\tif (o != null) {\n\t\t\t\t\t// Check if o is an instance of a Haxe class or a native JS object\n\t\t\t\t\tif (js.Syntax.typeof(cl) == \"function\") {\n\t\t\t\t\t\tif (__downcastCheck(o, cl))\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (js.Syntax.typeof(cl) == \"object\" && __isNativeObj(cl)) {\n\t\t\t\t\t\tif (js.Syntax.instanceof(o, cl))\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// do not use isClass/isEnum here\n\t\t\t\tuntyped __feature__(\"Class.*\", if (cl == Class && o.__name__ != null) return true);\n\t\t\t\tuntyped __feature__(\"Enum.*\", if (cl == Enum && o.__ename__ != null) return true);\n\t\t\t\t#if js_enums_as_arrays\n\t\t\t\treturn o.__enum__ == cl;\n\t\t\t\t#else\n\t\t\t\treturn untyped __feature__(\n\t\t\t\t\t\"has_enum\",\n\t\t\t\t\tif (o.__enum__ != null) ($hxEnums[o.__enum__]) == cl else false,\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t\t#end\n\t\t}\n\t}\n\n\tstatic function __downcastCheck(o:Dynamic, cl:Class<Dynamic>):Bool {\n\t\treturn js.Syntax.instanceof(o, cl) || (isInterface(cl) && inline __implements(o, cl));\n\t}\n\n\tstatic function __implements(o:Dynamic, iface:Class<Dynamic>):Bool {\n\t\treturn __interfLoop(getClass(o), iface);\n\t}\n\n\t@:ifFeature(\"typed_cast\") private static function __cast(o:Dynamic, t:Dynamic) {\n\t\tif (o == null || __instanceof(o, t))\n\t\t\treturn o;\n\t\telse\n\t\t\tthrow \"Cannot cast \" + Std.string(o) + \" to \" + Std.string(t);\n\t}\n\n\tstatic var __toStr:js.lib.Function;\n\n\tstatic function __init__() {\n\t\tBoot.__toStr = (cast {}).toString;\n\t}\n\n\t// get native JS [[Class]]\n\tstatic function __nativeClassName(o:Dynamic):String {\n\t\tvar name:String = __toStr.call(o).slice(8, -1);\n\t\t// exclude general Object and Function\n\t\t// also exclude Math and JSON, because instanceof cannot be called on them\n\t\tif (name == \"Object\" || name == \"Function\" || name == \"Math\" || name == \"JSON\")\n\t\t\treturn null;\n\t\treturn name;\n\t}\n\n\t// check for usable native JS object\n\tstatic function __isNativeObj(o:Dynamic):Bool {\n\t\treturn __nativeClassName(o) != null;\n\t}\n\n\t// resolve native JS class in the global scope:\n\tstatic function __resolveNativeClass(name:String) {\n\t\treturn js.Lib.global[cast name];\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage js;\n\nimport js.html.Storage;\nimport js.html.XMLHttpRequest;\n\nclass Browser {\n\t/** The global scope typed with fields available only in a worker context. */\n\tpublic static var self(get, never):js.html.WorkerGlobalScope;\n\n\tstatic inline function get_self():js.html.WorkerGlobalScope {\n\t\treturn js.Lib.global;\n\t}\n\n\t/** The global window object. */\n\tpublic static var window(get, never):js.html.Window;\n\n\textern inline static function get_window()\n\t\treturn js.Syntax.code(\"window\");\n\n\t/** Shortcut to Window.document. */\n\tpublic static var document(get, never):js.html.HTMLDocument;\n\n\textern inline static function get_document()\n\t\treturn window.document;\n\n\t/** Shortcut to Window.location. */\n\tpublic static var location(get, never):js.html.Location;\n\n\textern inline static function get_location()\n\t\treturn js.Lib.global.location;\n\n\t/** Shortcut to Window.navigator. */\n\tpublic static var navigator(get, never):js.html.Navigator;\n\n\textern inline static function get_navigator()\n\t\treturn js.Lib.global.navigator;\n\n\t/** Shortcut to Window.console. */\n\tpublic static var console(get, never):js.html.ConsoleInstance;\n\n\textern inline static function get_console()\n\t\treturn js.Lib.global.console;\n\n\t/**\n\t * True if a window object exists, false otherwise.\n\t *\n\t * This can be used to check if the code is being executed in a non-browser\n\t * environment such as node.js.\n\t */\n\tpublic static var supported(get, never):Bool;\n\n\tstatic function get_supported()\n\t\treturn\n\t\t\tjs.Syntax.typeof(window) != \"undefined\" &&\n\t\t\tjs.Syntax.typeof(window.location) != \"undefined\" &&\n\t\t\tjs.Syntax.typeof(window.location.protocol) == \"string\";\n\t/**\n\t * Safely gets the browser's local storage, or returns null if localStorage is unsupported or\n\t * disabled.\n\t */\n\tpublic static function getLocalStorage():Null<Storage> {\n\t\ttry {\n\t\t\tvar s = window.localStorage;\n\t\t\ts.getItem(\"\");\n\t\t\tif (s.length == 0) {\n\t\t\t\tvar key = \"_hx_\" + Math.random();\n\t\t\t\ts.setItem(key, key);\n\t\t\t\ts.removeItem(key);\n\t\t\t}\n\t\t\treturn s;\n\t\t} catch (e:Dynamic) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Safely gets the browser's session storage, or returns null if sessionStorage is unsupported\n\t * or disabled.\n\t */\n\tpublic static function getSessionStorage():Storage {\n\t\ttry {\n\t\t\tvar s = window.sessionStorage;\n\t\t\ts.getItem(\"\");\n\t\t\tif (s.length == 0) {\n\t\t\t\tvar key = \"_hx_\" + Math.random();\n\t\t\t\ts.setItem(key, key);\n\t\t\t\ts.removeItem(key);\n\t\t\t}\n\t\t\treturn s;\n\t\t} catch (e:Dynamic) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Creates an XMLHttpRequest, with a fallback to ActiveXObject for ancient versions of Internet\n\t * Explorer.\n\t */\n\tpublic static function createXMLHttpRequest():XMLHttpRequest {\n\t\tif (js.Syntax.code(\"typeof XMLHttpRequest\") != \"undefined\") {\n\t\t\treturn new XMLHttpRequest();\n\t\t}\n\t\tif (js.Syntax.code(\"typeof ActiveXObject\") != \"undefined\") {\n\t\t\treturn js.Syntax.construct(\"ActiveXObject\", \"Microsoft.XMLHTTP\");\n\t\t}\n\t\tthrow \"Unable to create XMLHttpRequest object.\";\n\t}\n\n\t/**\n\t\tDisplay an alert message box containing the given message. See also `Window.alert()`.\n\t**/\n\tpublic static inline function alert(v:Dynamic) {\n\t\twindow.alert(Std.string(v));\n\t}\n}\n","package js.jquery;\n\nclass JqEltsIterator {\n\tvar j:JQuery;\n\tvar i:Int;\n\tinline public function new(j:JQuery):Void {\n\t\tthis.i = 0;\n\t\tthis.j = j;\n\t}\n\tinline public function hasNext():Bool {\n\t\treturn i < j.length;\n\t}\n\tinline public function next():JQuery {\n\t\treturn new JQuery(this.j[i++]);\n\t}\n\n\tstatic function __init__() {\n\t\tvar typeofJQuery = #if (haxe_ver < 4) untyped __typeof__(JQuery) #else js.Syntax.typeof(JQuery) #end ;\n\t\tif (typeofJQuery != 'undefined' && JQuery.fn != null)\n\t\t\tJQuery.fn.elements = function() return new JqEltsIterator(js.Lib.nativeThis);\n\t}\n}","package js.jquery;\n\nclass JqIterator {\n\tvar j:JQuery;\n\tvar i:Int;\n\tinline public function new(j:JQuery):Void {\n\t\tthis.i = 0;\n\t\tthis.j = j;\n\t}\n\tinline public function hasNext():Bool {\n\t\treturn i < j.length;\n\t}\n\tinline public function next():js.html.Element {\n\t\treturn this.j[i++];\n\t}\n\n\tstatic function __init__() {\n\t\tvar typeofJQuery = #if (haxe_ver < 4) untyped __typeof__(JQuery) #else js.Syntax.typeof(JQuery) #end ;\n\t\tif (typeofJQuery != 'undefined' && JQuery.fn != null)\n\t\t\tJQuery.fn.iterator = function() return new JqIterator(js.Lib.nativeThis);\n\t}\n}","package me.cunity.debug;\r\n\r\nimport haxe.Http;\r\nimport haxe.Log;\r\nimport haxe.PosInfos;\r\nimport haxe.CallStack;\r\nimport Type; \r\n#if (haxe_ver >= 4)\r\nimport #if js js.Syntax #elseif php php.Syntax #end;\r\n#end\r\n\r\n#if flash\r\nimport flash.Boot;\r\nimport flash.display.DisplayObject;\r\nimport flash.display.DisplayObjectContainer;\r\nimport flash.display.Sprite;\r\nimport flash.external.ExternalInterface;\r\nimport flash.Lib;\r\n#elseif !js\r\nimport sys.io.File;\r\nimport sys.io.FileOutput;\r\n#end\r\n#if php\r\nimport php.Lib;\r\nimport php.Syntax;\r\n#elseif neko\r\nimport neko.Lib;\r\n#end\r\n#if js\r\n\r\nimport js.Boot;\r\n\r\n#if !(nodejs || js_kit)\r\n//import js.jq.JHelper;\r\nimport js.html.Window;\r\nimport js.Browser;\r\nimport js.html.Element;\r\nimport js.jquery.*;\r\n//import js.jq.JHelper.J;\r\n#else\r\nimport me.cunity.debug.Tracer;\r\nimport js.Node;\r\n#end\r\n#end\r\n\r\n//using me.cunity.tools.ArrayTools;\r\nusing Lambda;\r\n\r\nenum DebugOutput {\r\n\tCONSOLE;\r\n\tHAXE;\r\n\tNATIVE;\r\n\t//LOG;\r\n}\r\n\r\n@:keep \r\n@:expose(\"Out\")\r\nclass Out{\r\n\t\r\n\tpublic static var suspended:Bool = #if noTrace true #else false #end; \r\n\tpublic static var skipFields:Array<String> = [];\r\n\tpublic static var skipFunctions:Bool = true;\r\n\tpublic static var traceToConsole:Bool = false;\r\n\tpublic static var traceTarget:DebugOutput = NATIVE;\r\n\tpublic static var aStack:Void->Array<StackItem> = CallStack.callStack;\r\n\tpublic static var logg:Tracer;\r\n\tpublic static var dumpedObjects:Array<Dynamic>;\r\n#if php\r\n\tpublic static var log:FileOutput;\r\n\tpublic static var once:Bool = false;\r\n\t\r\n\tpublic static function init() {\r\n\t\tFile.saveContent('log.txt', '');\r\n\t\tlog = File.write('log.txt', true);\r\n\t\tlog.flush();\r\n\t\tLog.trace = Out._trace;\r\n\t}\r\n\t\r\n#elseif js_kit\r\n\t\r\n\tpublic static function init() { \r\n\t\ttraceTarget = DebugOutput.CONSOLE;\r\n\t\tLog.trace = Out._trace;\r\n\t\tlogg =  Node.require('tracer').console( {\r\n\t\t\t//format : '{{timestamp}}({{file}}:{{line}}) <{{title}}> {{message}} ',\r\n\t\t\tformat : '{{timestamp}} {{title}} {{message}} ',\r\n\t\t\tdateformat : 'HH:MM:ss.L'\r\n\t\t});\r\n\t\t\r\n\t\tlogg.log('Hello World :)');\r\n\t}\r\n\tpublic static function dailyfile()\r\n\t{\r\n\t\tLog.trace = Out._trace;\r\n\t\ttraceTarget = DebugOutput.CONSOLE;\r\n\t\tlogg = Tracer.dailyfile( { \r\n\t\t\troot:'.', \r\n\t\t\tformat : '{{timestamp}}:{{title}} {{message}} ',\r\n\t\t\tdateformat : 'HH:MM:ss.L'\r\n\t\t} );\r\n\r\n\t\tlogg.trace('dailyfile initialized');\t\r\n\t}\r\n#end\t\r\n\r\n\r\n\tpublic static function _trace(v :Dynamic, ?i :haxe.PosInfos ) :Void {\r\n\t\tif (suspended)\r\n\t\t\treturn;\r\n\t\tvar warned = false;\r\n\t\tif(i != null && Reflect.hasField(i ,'customParams')){\r\n\t\t\ti = i.customParams[0];\r\n\t\t}\r\n\r\n\t\tvar msg = if( i != null ) i.fileName+\":\"+i.methodName +\":\"+i.lineNumber+\":\" else \"\";\t\t\r\n\t\tmsg += v;\r\n\r\n\t\t#if php\r\n\t\tif (log != null) {\r\n\t\t\tlog.writeString(msg+'\\n');\r\n\t\t\tlog.flush();\t\t\t\t\r\n\t\t}\r\n\t\telse\r\n\t\tswitch(traceTarget)\r\n\t\t{\t\t\t\t\r\n\t\t\tcase NATIVE:\r\n\t\t\t\tSyntax.call(\"error_log({0})\", msg);\r\n\t\t\tcase CONSOLE:\r\n\t\t\t\tLib.print(msg + \"\\r\\n\");\r\n\t\t\tcase HAXE:\t\t\t\t\t\t\t\t\r\n\t\t\t\tphp.Lib.print(StringTools.htmlEscape(msg) + '<br/>');\r\n\t\t\t//case LOG:\r\n\t\t}\t\t\t\t\r\n\r\n\t\tif (once)\r\n\t\t{\r\n\t\t\tonce = false;\r\n\t\t\t_trace('i:' + Type.typeof(i));\r\n\t\t\tdumpObject(i);\r\n\t\t}\r\n\r\n\t\t#elseif neko\r\n\t\thaxe.Log.trace(msg + \"\\n\", i);\r\n\t\t#elseif flash\r\n\t\tswitch(traceTarget)\r\n\t\t{\r\n\t\t\tcase CONSOLE:\r\n\t\t\t\tExternalInterface.call(\"debug\",  msg + \"\\n\");\r\n\t\t\tcase HAXE:\r\n\t\t\t\tExternalInterface.call(\"trace\",  msg + \"<br/>\");\r\n\t\t\t\t//Boot.__trace(v + \"\", i);\r\n\t\t\tcase NATIVE:\r\n\t\t\tuntyped __global__['trace'](msg);\r\n\r\n\t\t}\t\r\n\t\t#elseif (js || html5)\r\n\t\tswitch(traceTarget){\r\n\t\t\tcase NATIVE:\r\n\t\t\t\tuntyped console.log(msg);\r\n\t\t\tcase CONSOLE:\r\n\t\t\t\t#if js_kit\r\n\t\t\t\tlogg.trace(msg);\r\n\t\t\t\t#else\r\n\t\t\t\tuntyped debug(msg);\r\n\t\t\t\t#end\r\n\t\t\t//Browser.window.console.log(msg);\r\n\t\t\tcase HAXE:\r\n\t\t\t\tuntyped {\r\n\t\t\t\t\tvar msg = if( i != null ) i.fileName+\":\"+i.lineNumber+\":\"+i.methodName+\":\" else \"\";\r\n\t\t\t\t\t#if jsfl\r\n\t\t\t\t\tmsg += __string_rec(v,\"\");\r\n\t\t\t\t\tfl.trace(msg);\r\n\t\t\t\t\t#else\r\n\t\t\t\t\tmsg += Std.string(v)+\"<br/>\";\r\n\t\t\t\t\tvar d = Browser.document.getElementById(\"haxe:trace\");\r\n\t\t\t\t\tif ( d == null && !warned)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twarned = true;\r\n\t\t\t\t\t\talert(\"No haxe:trace element defined\\n\"+msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\td.innerHTML += msg;\r\n\t\t\t\t\t#end\r\n\t\t\t\t}\r\n\t\t\t/*case LOG:\r\n\t\t\t\t#if js\r\n\t\t\t\t#if !(nodejs||js_kit)\r\n\t\t\t\tJQuery.post(Browser.window.location.protocol + '//' + Browser.window.location.host + '/inc/functions.php',{log:1,m:msg});\r\n\t\t\t\t#end\r\n\t\t\t\t#else\r\n\t\t\t\t#end\t\t\t\t\r\n*/\r\n\t\t}\r\n\t\t#end\t\t\t\r\n\t}\r\n\t\r\n\tpublic static function log2(v, ?i :haxe.PosInfos)\r\n\t{\r\n\t\t#if !nodejs\r\n\t\tvar msg = if ( i != null ) i.fileName+\":\" + i.lineNumber + \":\" + i.methodName+\":\" else \"\";\r\n\t\tmsg += Std.string(v);\r\n\t\tvar http:Http = new Http('http://localhost/devel/php/jsLog.php');\r\n\t\thttp.setParameter('log', msg);\r\n\t\t#if js\r\n\t\thttp.async = true;\r\n\t\t#end\r\n\t\thttp.onData = function(data) { if (data != 'OK') trace(data); };\r\n\t\thttp.request(true);\t\t\r\n\t\t#end\r\n\t}\r\n\r\n#if flash\t\r\n\r\n\tpublic static function dumpLayout(dI:DisplayObject, ?recursive:Null<Bool> = false, ?i :haxe.PosInfos) {\r\n\t\t//var m = if( i != null ) i.className+\":\"+i.methodName +\":\"+i.lineNumber+\":\" else \"\";\r\n\t\tvar m = \"\\n\";\r\n\t\ttry {\r\n\t\tm += dI.name + ' depth:' + dI.parent.getChildIndex(dI) + ' alpha:' + dI.alpha + ' x:' + dI.x + ' y:' + dI.y + ' width:' + dI.width + \r\n\t\t' height:' + dI.height + '\\nrotation:' + dI.rotation + ' scaleX:' + dI.scaleX + ' scaleY:' + dI.scaleY;\r\n\t\tm += ' visible:' + dI.visible;\r\n\t\tm += '\\n parentBox:' + Std.string(dI.getBounds(dI.parent));\r\n\t\tm += '\\n rootBox:' + Std.string(dI.getBounds(flash.Lib.current));\r\n\t\t}\r\n\t\tcatch (ex:Dynamic) {\r\n\t\t\tm += Std.string(ex);\r\n\t\t}\r\n\t\t//ExternalInterface.call(\"debug\", m);\r\n\t\t_trace(m, i);\r\n\t\tif (dI != dI.root && recursive) {\r\n\t\t\ttry{\r\n\t\t\t\tif (recursive && dI.parent != dI && dI.parent != null){\r\n\t\t\t\t\tdumpLayout(dI.parent, recursive, i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (ex:Dynamic) {\r\n\t\t\t\ttrace(Std.string(ex), i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static function dump(msg:String, ?i :haxe.PosInfos) {\r\n\t\t\r\n\t\tExternalInterface.call(\"dump\", msg + '\\n');\r\n\t}\r\n#elseif (js && !(nodejs || js_kit))\r\n//\tBROWSER WINDOW ONLY\r\n\t#if JQ\r\n\tpublic static function dumpLayout(dI:Element, ?recursive:Null<Bool> = false, ?i :haxe.PosInfos)\r\n\t{\r\n\t\tdumpJLayout(new JQuery(dI), recursive, i);\r\n\t}\r\n\t\r\n\tpublic static function dumpJLayout(jQ:JQuery, ?recursive:Null<Bool> = false, ?i :haxe.PosInfos)\r\n\t{\r\n\t\t//trace(jQ.length);\r\n\t\tif (jQ.length == 0)\r\n\t\t\treturn;\r\n\t\tvar m:String = jQ.attr('id') + ' left:' + jQ.position().left + ' top:' + jQ.position().top +' width:' + jQ.width() + \r\n\t\t' height:' + jQ.height() + ' visibility:' + jQ.css('visibility') + ' display:' + jQ.css('display') + ' position:' + jQ.css('position') \r\n\t\t+ ' class:' + jQ.attr('class') +' overflow:' + jQ.css('overflow') + ' zIndex:' + jQ.css('z-index') + ' opacity:' + jQ.css('opacity');\r\n\t\t_trace(m, i);\r\n\t\tif (recursive && jQ.parent().attr('id') != 'bgBox')\r\n\t\t\tdumpJLayout(jQ.parent(), true, i);\r\n\t}\r\n\t#end\r\n\t\r\n\tpublic static function dumpObjectRSafe(root:Dynamic, recursive:Bool = false, ?i:PosInfos)\r\n\t{\r\n\t\tvar oCopy:Dynamic = {};\r\n\t\tfor (f in Reflect.fields(root))\r\n\t\t{\r\n\t\t\tif (f == 'parentView')\r\n\t\t\t{\r\n\t\t\t\toCopy.parentView = root.parentView.instancePath;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tReflect.setField(oCopy,f, Reflect.field(root, f));\r\n\t\t}\r\n\t\tdumpObject(oCopy, i);\r\n\t}\r\n\t\r\n\t@:keep\r\n\t@:expose\r\n\tpublic static function dumpObjectTree(root:Dynamic, recursive:Bool = false, ?i:PosInfos)\r\n\t{\r\n\t\tdumpedObjects = new Array();\r\n\t\t_dumpObjectTree(root, Type.typeof(root), recursive, i);\r\n\t}\r\n\t\r\n\tstatic function _dumpObjectTree(root:Dynamic, parent:ValueType, recursive:Bool, ?i:PosInfos)\r\n\t{\r\n\t\tvar m:String = ((Type.getClass(root) != null) \r\n\t\t\t? Type.getClassName(Type.getClass(root))\r\n\t\t\t: Type.typeof(root).getName());\r\n\t\tvar fields:Array<String> = (Type.getClass(root) != null) ?\r\n\t\t\tType.getInstanceFields(Type.getClass(root)):\r\n\t\t\tReflect.fields(root);\r\n\t\tif (m == 'String')\r\n\t\t{\r\n\t\t\t_trace(root + ' len:' + root.length, i);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t//don't save Strings\r\n\t\t\tdumpedObjects.push(root);\r\n\t\t\t_trace(m + ' fields:' + fields.length + ':' + fields.slice(0, 5).toString(),i);\r\n\t\t}\r\n\t\t//dumpedObjects.push(parent);\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tfor (f in fields)\r\n\t\t\t{\r\n\t\t\t\ttrace(f,i);\r\n\t\t\t\tif (recursive)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (dumpedObjects.length > 1000)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t_trace(dumpedObjects.toString(),i);\r\n\t\t\t\t\t\tthrow('oops');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar _o = untyped js.Syntax.code(\"root[f]\");\r\n\t\t\t\t\t\tif ( ! Lambda.has(dumpedObjects, _o))\r\n\t\t\t\t\t\t{\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t_dumpObjectTree( _o, Type.typeof(_o), true, i);\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tcatch(ex:Dynamic){\r\n\t\t\ttrace(ex);\r\n\t\t}\r\n\t\t//_trace(fields, i);\r\n\t}\r\n#elseif php\r\n\tpublic static function printCDATA(data:String, ?i:PosInfos) {\r\n\t\t_trace('<pre>' + Syntax.call(\"htmlspecialchars({0})\", data) + '</pre>', i);\r\n\t}\r\n\t\r\n\tpublic static function dumpVar(v:Dynamic, ?i:PosInfos)\r\n\t{\r\n\t\tvar ret:String = '';\r\n\t\tSyntax.code(\"\r\n\t\t\tob_start();\r\n\t\t\tprint_r({0});\r\n\t\t\t$ret =  ob_get_clean();\r\n\t\t\", v);\r\n\t\t_trace(ret);\r\n\t}\r\n#end\r\n\r\n\r\n\tpublic static function dumpObject(ob:Dynamic, ?i:haxe.PosInfos) \r\n\t{\r\n\t\tvar tClass = Type.getClass(ob);\r\n\t\tvar m:String = 'dumpObject:' + ( ob != null ? Type.getClass(ob) :ob) + '\\n';\r\n\t\tvar names:Array<String> = new Array();\r\n\t\t//trace(names.toString());\r\n\t\tnames = (Type.getClass(ob) != null) ?\r\n\t\t\tType.getInstanceFields(Type.getClass(ob)):\r\n\t\t\tReflect.fields(ob);\r\n\t\tif (Type.getClass(ob) != null)\r\n\t\t//{\r\n\t\t\tm =  Type.getClassName(Type.getClass(ob))+':\\n';\r\n\t\t\t//untyped{\r\n\t\t\tfor (name in names) {\r\n\t\t\t\tif (skipFields.has(name))\r\n\t\t\t\t{\r\n\t\t\t\t\tm += '$name:skipped\\n';\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar t = Std.string(Type.typeof(Reflect.field(ob, name)));\r\n\t\t\t\t\tif ( skipFunctions && t == 'TFunction')\r\n\t\t\t\t\tnull;\r\n\t\t\t\t\tm += name + ':' +Reflect.field(ob,name) + ':' + t + '\\n';\r\n\t\t\t\t}\r\n\t\t\t\tcatch (ex:Dynamic) {\r\n\t\t\t\t\tm += name + ':' + ex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t//}\r\n\t\t//else\r\n\t\t\t//m = Std.string(ob);\r\n\t\t\r\n\t\t_trace(m, i);\r\n\t}\r\n\t\r\n\tpublic static function dumpStack(sA:Array<StackItem>,  ?i:PosInfos):Void\r\n\t{\r\n\t\tvar b:StringBuf = new StringBuf();\r\n\t\tb.add(\"StackDump:\" + #if php sA.length + \"<br/>\" #else'\\n'#end);\r\n\t\tfor (item in sA)\r\n\t\t{\t\t\t\r\n\t\t\titemToString(item, b);\r\n\t\t\tb.add(#if php \"<br/>\" #else'\\n'#end);\r\n\t\t}\r\n\t\t//_trace(#if php ~/\\n|\\r\\n/g.replace(b.toString(), \"<br/>\") #else b.toString()#end, i);\r\n\t\t//_trace(~/<br\\/>$/.replace(b.toString(),''), i);\r\n\t\ttrace(b.toString(), i);\r\n\t}\r\n\t\t\r\n\tstatic function itemToString(s:StackItem, b :StringBuf)\r\n\t{\r\n\t\tswitch( s ) {\r\n\t\tcase CFunction:\r\n\t\t\tb.add(\"a C function\");\r\n\t\tcase LocalFunction(v):\r\n\t\t\tb.add(\"LocalFunction:\" + v);\r\n\t\tcase Module(m):\r\n\t\t\tb.add(\"module \");\r\n\t\t\tb.add(m);\r\n\t\tcase FilePos(s,file,line):\r\n\t\t\tif( s != null ) {\r\n\t\t\t\titemToString(s, b);\r\n\t\t\t\tb.add(\" (\");\r\n\t\t\t}\r\n\t\t\tb.add(file);\r\n\t\t\tb.add(\" line \");\r\n\t\t\tb.add(line);\r\n\t\t\tif( s != null ) b.add(#if php \")<br/>\" #else \")\\n\"#end);\r\n\t\tcase Method(cname,meth):\r\n\t\t\tb.add(cname);\r\n\t\t\tb.add(\".\");\r\n\t\t\tb.add(meth);\r\n\t\t\tb.add(#if php \"<br/>\" #else \"\\n\"#end);\r\n\t\t/*case Lambda(n):\r\n\t\t\tb.add(\"local function #\");\r\n\t\t\tb.add(n);*/\r\n\t\t}\r\n\t}\r\n\t#if flash\r\n\tpublic static function isChildOf(di:DisplayObject, p:DisplayObjectContainer = null):Bool\r\n\t{\r\n\t\tif (p == null)\r\n\t\t\tp = Lib.current;\r\n\t\twhile (di.parent != null)\r\n\t\t{\r\n\t\t\tif (di.parent == p)\r\n\t\t\t\treturn true;\r\n\t\t\tdi = di.parent;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t#end\r\n\t\r\n\tpublic static function fTrace (str:String, arr:Array<Dynamic>, ?i :haxe.PosInfos) \r\n\t{\r\n\t\tvar str_arr = str.split (\" @\");\r\n\t\tvar str_buf :StringBuf = new StringBuf();\r\n\t\t\t\r\n\t\tfor (i in 0...str_arr.length) {\r\n\t\t\tstr_buf.add ( str_arr[i] );\r\n\t\t\tif (arr[i] != null)\r\n\t\t\tstr_buf.add ( arr[i] );\r\n\t\t}\r\n\t\t_trace( str_buf.toString(), i);\r\n\t}\r\n}","package me.cunity.js.data;\n\n/**\n * ...\n * @author axel@cunity.me\n */\n\n typedef IbanError = \n {\n\tvar type:String;\n\tvar message:String;\n }\n \n typedef IbanSuccess =\n {\n\tvar iban:String;\n\tvar iban_print:String;\n\tvar iban_format:Dynamic;\n }\n\nclass IBAN\n{\n\n\tpublic static function buildIBAN(account:String, bankCode:String, onSuccess:IbanSuccess->Void, onError:IbanError->Void):Void\n\t{\n\t\treturn (untyped __js__('buildIBAN'))(account,bankCode,onSuccess,onError);\n\t}\n\t\n\tpublic static function checkIBAN(iban:String):Bool\n\t{\n\t\t//trace(iban +':' + (untyped __js__('checkIBAN'))(iban));\n\t\treturn (untyped __js__('checkIBAN'))(iban);\n\t}\n\t\n}","package me.cunity.util;\nimport haxe.ds.StringMap;\n\n/**\n * ...\n * @author axel@cunity.me\n */\n//@:keep\n class Data\n{\n\n\t public static function copy(source:Dynamic) \n\t{\n\t\tvar c:Dynamic = { };\n\t\tvar fields:Array<String> = Reflect.fields(source);\n\t\tfor (f in fields)\n\t\t\tReflect.setField(c, f, Reflect.field(source, f));\n\t\treturn c;\n\t}\n\t\n\tpublic static function mcopy<T>(source:StringMap<T>, ?target:StringMap<T>):StringMap<T>\n\t{\n\t\tvar c:StringMap<T> = (target == null ?new StringMap() : target);\n\t\tfor (k in source.keys())\n\t\t\tc.set(k, source.get(k));\n\t\treturn c;\n\t}\n\t\n\tpublic static function copy2map<T>(source:Dynamic):StringMap<T>\n\t{\n\t\tvar c:StringMap<T> = new StringMap();\n\t\tfor (k in Reflect.fields(source))\n\t\t\tc.set(k, Reflect.field(source,k));\n\t\treturn c;\n\t}\n\t\n}","/****\n* Copyright (c) 2013 Jason O'Neil\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*\n****/\n\npackage pushstate;\n\nimport js.Browser.*;\nimport js.html.*;\nusing StringTools;\n\n/**\nPushState\n\nThis class is used to access, trigger and listen to the HTML5 History API.\nThis allows you to trigger changes to the pages content using Javascript,\nand update the URL of the page so that browser features such as bookmarking,\nclicking \"back\" or \"forward\", and sharing links still work.\n\nThis library is accessed using static methods, and accesses only part\nof the History API for simplicity.\n\nOn top of interacting with the History API and listening to history events,\nmethods are provided for intercepting link clicks or form submissions to trigger\nURL changes (See `init()`), and to trigger URL changes manually (See `push()`,\n`replace()` and `silentReplace()`).\n\nThis library does not fix any cross-browser issues or provide a #hash fallback\nfor older browsers.\n**/\nclass PushState {\n\tstatic var ignoreAnchors:Bool = true;\n\tstatic var basePath:String;\n\tstatic var preventers:Array<Preventer>;\n\tstatic var listeners:Array<Listener>;\n\tstatic var uploadCache:Map<String,Dynamic<FileList>>;\n\n\t/** The URL of the current history item (what is showing in the URL bar currently). **/\n\tpublic static var currentPath(default,null):String;\n\t/** The state object of the current history item. **/\n\tpublic static var currentState(default,null):Dynamic;\n\t/** The uploads object (if any) of the current history item. **/\n\tpublic static var currentUploads(default,null):Null<Dynamic<FileList>>;\n\n\t/**\n\tInitialize the PushState API for the current page.\n\n\tThis will:\n\n\t - Initialize the internal state.\n\t - Listen to the `onpopstate` event, so we can detect browser history changes (\"Back\" / \"Forward\" etc).\n\t - Intercept link clicks for links with `rel=\"pushstate\"` or `class=\"pushstate\"`, and use the PushState API to set the new URL.\n\t - Intercept form submissions for forms with `class=\"pushstate\"` and use the PushState API to set the URL, the state and uploads.\n\t - If `triggerFirst` is true, launches an initial `onStateChange` event so you can load your first page.\n\n\tYou should call `init()` before using any other part of the API.\n\n\t@param basePath - The base path of the app, this will be stripped from the raw URL value, with the shortened (stripped) URL being passed to the event listeners.\n\t@param triggerFirst - If true, trigger an initial event to render the page.  Default is true.\n\t@param ignorAnchors - Will clicking an anchor link (or switching between anchors using history) be ignored (true) or trigger the usual events (false)? Default is true (ignore).\n\t**/\n\tpublic static function init(?basePath = \"\", ?triggerFirst:Bool=true, ?ignoreAnchors:Bool=true):Void {\n\t\tlisteners = [];\n\t\tpreventers = [];\n\t\tuploadCache = new Map();\n\t\tPushState.basePath = basePath;\n\t\tPushState.ignoreAnchors = ignoreAnchors;\n\n\t\t// This event if not supported by IE8, but then neither is the History.pushstate API.\n\t\tdocument.addEventListener(\"DOMContentLoaded\", function(event) {\n\t\t\t// Intercept <a href=\"...\" rel=\"pushstate\"> clicks.\n\t\t\t// TODO: check, does this break keyboard navigation?\n\t\t\tdocument.addEventListener(\"click\",function(e:MouseEvent) {\n\t\t\t\tif (e.button==0 && !e.metaKey && !e.ctrlKey) {\n\t\t\t\t\tvar link:AnchorElement = null,\n\t\t\t\t\t    node:Node = Std.instance(e.target,Node);\n\t\t\t\t\twhile (link==null && node!=null) {\n\t\t\t\t\t\tlink = Std.instance(node,AnchorElement);\n\t\t\t\t\t\tnode = node.parentNode;\n\t\t\t\t\t}\n\t\t\t\t\tif (link!=null && (link.rel==\"pushstate\" || hasClass(link,\"pushstate\"))) {\n\t\t\t\t\t\tpush(link.pathname+link.search+link.hash);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Intercept <form rel=\"pushstate\"> submits.\n\t\t\tdocument.addEventListener(\"submit\",function (e:Event) {\n\t\t\t\tvar form = Std.instance(e.target,FormElement);\n\t\t\t\tif (hasClass(form,\"pushstate\")) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tinterceptFormSubmit(form);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Listen to the onpopstate event.\n\t\t\twindow.onpopstate = handleOnPopState;\n\n\t\t\t// Trigger an initial load.\n\t\t\tif (triggerFirst) {\n\t\t\t\thandleOnPopState(null);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcurrentPath = stripURL(document.location.pathname+document.location.search+document.location.hash);\n\t\t\t\tcurrentState = null;\n\t\t\t\tcurrentUploads = null;\n\t\t\t}\n\t\t});\n\t}\n\n\tinline static function hasClass(elm:Element, className:String) {\n\t\treturn elm.classList.contains( className );\n\t}\n\n\tstatic function interceptFormSubmit(form:FormElement) {\n\t\tvar params = [];\n\t\tvar uploads:Dynamic<FileList> = null;\n\t\tfunction addParam(name:String, val:String) {\n\t\t\tif (name==null || name==\"\")\n\t\t\t\treturn;\n\t\t\tparams.push({ name:name, val:val });\n\t\t}\n\t\tfunction addUpload(name:String, files:FileList) {\n\t\t\tfor (i in 0...files.length) {\n\t\t\t\taddParam(name, files[i].name);\n\t\t\t}\n\t\t\tif (uploads==null)\n\t\t\t\tuploads = {};\n\t\t\tReflect.setField( uploads, name, files );\n\t\t}\n\t\t// Serialization method adapted from http://stackoverflow.com/a/11661219/180995\n\t\t// Note we can't use FormData because it cannot be inspected / iterated over.\n\t\tfor (i in 0...form.elements.length) {\n\t\t\tvar elm = form.elements.item(i);\n\t\t\tswitch elm.nodeName.toUpperCase() {\n\t\t\t\tcase 'INPUT':\n\t\t\t\t\tvar input = Std.instance(elm,InputElement);\n\t\t\t\t\tswitch input.type {\n\t\t\t\t\t\tcase 'text','hidden','password','search','email','url','tel','number','range','date','month','week','time','datetime','datetime-local','color': addParam(input.name, input.value);\n\t\t\t\t\t\tcase 'checkbox','radio' if (input.checked): addParam(input.name, input.value);\n\t\t\t\t\t\tcase 'file':\n\t\t\t\t\t\t\tif (input.files!=null && input.files.length>0)\n\t\t\t\t\t\t\t\taddUpload(input.name, input.files);\n\t\t\t\t\t}\n\t\t\t\tcase 'TEXTAREA':\n\t\t\t\t\tvar ta = Std.instance(elm,TextAreaElement);\n\t\t\t\t\taddParam(ta.name, ta.value);\n\t\t\t\tcase 'SELECT':\n\t\t\t\t\tvar select = Std.instance(elm,SelectElement);\n\t\t\t\t\tswitch select.type {\n\t\t\t\t\t\tcase 'select-one': addParam(select.name, select.value);\n\t\t\t\t\t\tcase 'select-multiple':\n\t\t\t\t\t\t\tfor (j in 0...select.options.length) {\n\t\t\t\t\t\t\t\tvar option:OptionElement = cast select.options[j];\n\t\t\t\t\t\t\t\tif (option.selected) {\n\t\t\t\t\t\t\t\t\taddParam(select.name, option.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Check if there was a submit button value:\n\t\tvar activeInput = Std.instance( document.activeElement, InputElement );\n\t\tvar activeBtn = Std.instance( document.activeElement, ButtonElement );\n\t\tif ( activeInput!=null && activeInput.type==\"submit\" ) addParam( activeInput.name, activeInput.value );\n\t\telse if ( activeBtn!=null && activeBtn.type==\"submit\" ) addParam( activeBtn.name, activeBtn.value );\n\t\telse {\n\t\t\tvar defaultSubmit = form.querySelector( \"input[type=submit], button[type=submit]\" );\n\t\t\tvar defaultInput = Std.instance( defaultSubmit, InputElement );\n\t\t\tvar defaultBtn = Std.instance( defaultSubmit, ButtonElement );\n\t\t\tif ( defaultInput!=null ) addParam( defaultInput.name, defaultInput.value );\n\t\t\telse if ( defaultBtn!=null ) addParam( defaultBtn.name, defaultBtn.value );\n\t\t}\n\t\t// Push the new URL (and if it is a POST request, also the data).\n\t\tvar paramString = params.map(function(p) return '${p.name}=${p.val.urlEncode()}').join(\"&\");\n\t\tif ( form.method.toUpperCase()==\"POST\" ) {\n\t\t\tvar paramsObj = {};\n\t\t\tfor (p in params) {\n\t\t\t\tif (Reflect.hasField(paramsObj,p.name))\n\t\t\t\t\t(Reflect.field(paramsObj,p.name):Array<String>).push(p.val);\n\t\t\t\telse\n\t\t\t\t\tReflect.setField(paramsObj, p.name, [p.val]);\n\t\t\t}\n\t\t\tReflect.setField( paramsObj, \"__postData\", paramString );\n\t\t\tif (uploads!=null)\n\t\t\t\tsetUploadsForState( form.action, paramsObj, uploads );\n\t\t\tpush(form.action,paramsObj,uploads);\n\t\t}\n\t\telse {\n\t\t\tpush(form.action+\"?\"+paramString,null);\n\t\t}\n\t}\n\n\tstatic function setUploadsForState(url:String, state:Dynamic, uploads:Null<Dynamic<FileList>>) {\n\t\tvar timestamp = Date.now().toString();\n\t\tvar random = Math.random();\n\t\tvar uploadCacheID = '$url-$timestamp-$random';\n\t\tuploadCache[uploadCacheID] = uploads;\n\t\tReflect.setField(state, \"__postFilesCacheID\", uploadCacheID);\n\t}\n\n\tstatic function getUploadsForState(state:Dynamic):Null<Dynamic<FileList>> {\n\t\tif (state==null || Reflect.hasField(state,\"__postFilesCacheID\")==false)\n\t\t\treturn null;\n\t\tvar uploadCacheID:String = state.__postFilesCacheID;\n\t\tif ( uploadCache.exists(uploadCacheID)==false ) {\n\t\t\ttrace( 'Upload files with cache ID $uploadCacheID is not available anymore' );\n\t\t\treturn null;\n\t\t}\n\t\telse return uploadCache[uploadCacheID];\n\t}\n\n\tstatic function handleOnPopState(e:PopStateEvent) {\n\t\t// Read the path from the document location\n\t\tvar path = stripURL(document.location.pathname+document.location.search+document.location.hash);\n\t\tvar state = (e!=null) ? e.state : null;\n\t\tvar uploads =\n\t\t\tif (state!=null && state.__postFilesCacheID!=null) uploadCache[state.__postFilesCacheID]\n\t\t\telse null;\n\n\t\t// If this is just a hash change, and we're ignoring anchors, then don't trigger anything.\n\t\tif (ignoreAnchors && path==currentPath) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check that no preventers are blocking us\n\t\tif (e!=null) {\n\t\t\tfor (p in preventers) {\n\t\t\t\tif ( !p(path, state, uploads) ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t// The uploads should already be cached for this state, so just calling `relaceState` without affecting the uploadCache should be sufficient.\n\t\t\t\t\twindow.history.replaceState( currentState, \"\", currentPath );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcurrentPath = path;\n\t\tcurrentState = state;\n\t\tcurrentUploads = getUploadsForState(state);\n\n\t\tdispatch(currentPath, currentState, currentUploads);\n\t\treturn;\n\t}\n\n\tstatic function stripURL(path:String) {\n\t\t// strip the basePath from the path, if it is present\n\t\tif (path.substr(0,basePath.length) == basePath)\n\t\t\tpath = path.substr(basePath.length);\n\t\t// Strip the anchor if we are ignoring them.\n\t\tif (ignoreAnchors && path.indexOf(\"#\")>-1)\n\t\t\tpath = path.substr(0,path.indexOf(\"#\"));\n\t\treturn path;\n\t}\n\n\t/**\n\tAdd event listener to be run every time the page URL changes.\n\n\tEvent listeners can take one of the following forms:\n\n\t- `function( url:String, state:Dynamic, files:Dynamic<FileList> ):Void`\n\t- `function( url:String, state:Dynamic ):Void`\n\t- `function( url:String ):Void`\n\n\tThe shorter listener forms will be wrapped in a function compatible with `PathStateUploadsListener`.\n\tThe wrapped listener will be returned, and can be used with `removeEventListener` to remove this specific listener at a later time.\n\t**/\n\tpublic static function addEventListener(?l1:PathStateUploadsListener, ?l2:PathStateListener, ?l3:PathListener):Listener {\n\t\tvar l =\n\t\t\tif ( l1!=null ) l1\n\t\t\telse if ( l2!=null ) function( url, state, _ ) l2( url, state )\n\t\t\telse if ( l3!=null ) function( url, _, _ ) l3( url )\n\t\t\telse throw 'No listener provided';\n\t\tlisteners.push( l );\n\t\treturn l;\n\t}\n\n\t/**\n\tRemove a specific event listener.\n\n\tYou should use the Listener returned by `addEventListener` to make sure this works with wrapped functions.\n\t**/\n\tpublic static function removeEventListener(l:Listener):Void {\n\t\tlisteners.remove(l);\n\t}\n\n\t/**\n\tRemove all event listeners.\n\t**/\n\tpublic static function clearEventListeners():Void {\n\t\twhile (listeners.length > 0) {\n\t\t\tlisteners.pop();\n\t\t}\n\t}\n\n\t/**\n\tAdd a preventer to check if a user is allowed to navigate away from the current URL.\n\n\tA preventer function can take the following forms:\n\n\t- `function( url:String, state:Dynamic, files:Dynamic<FileList> ):Bool`\n\t- `function( url:String, state:Dynamic ):Bool`\n\t- `function( url:String ):Bool`\n\n\tIf a preventer returns false, PushState will prevent the page history from being changed and any listeners from being fired.\n\n\tThis is useful for things like ensuring a user has saved their progress before leaving the page.\n\n\tIf you wish merely to defer the change in state, you can keep the url and state data and use it again with:\n\t  `Pushstate.push( url, state, uploads );`\n\tat a later time.\n\n\t**Note**: If a preventer cancels a \"popstate\" event from the browser (eg. they clicked 'back'), your history can get messed up.\n\tWe can't cancel the event properly, so we prevent the handlers from firing and we use `history.replaceState` to reset the URL.\n\tThis will overwrite that URL in the history, which may not be the behaviour you want.\n\tIf you have a suggested workaround, please let us know!\n\n\tThe shorter preventer forms will be wrapped in a function compatible with `PathStateUploadsPreventer`.\n\tThe wrapped preventer will be returned, and can be used with `removePreventer` to remove this specific preventer at a later time.\n\t**/\n\tpublic static function addPreventer(?p1:PathStateUploadsPreventer, ?p2:PathStatePreventer, ?p3:PathPreventer):Preventer {\n\t\tvar p =\n\t\t\tif ( p1!=null ) p1\n\t\t\telse if ( p2!=null ) function( url, state, _ ) return p2( url, state )\n\t\t\telse if ( p3!=null ) function( url, _, _ ) return p3( url )\n\t\t\telse throw 'No preventer provided';\n\t\tpreventers.push( p );\n\t\treturn p;\n\t}\n\n\t/** Remove a specific preventer. */\n\tpublic static function removePreventer(p:Preventer):Void {\n\t\tpreventers.remove(p);\n\t}\n\n\t/** Remove all preventers. */\n\tpublic static function clearPreventers():Void {\n\t\twhile (preventers.length > 0) {\n\t\t\tpreventers.pop();\n\t\t}\n\t}\n\n\tstatic function dispatch(url:String, state:Null<Dynamic>, uploads:Null<Dynamic<FileList>>) {\n\t\tfor (l in listeners) {\n\t\t\tl(url, state, uploads);\n\t\t}\n\t}\n\n\t/**\n\tManually change the URL of the browser window, adding a new history item and triggering all listeners.\n\n\tIf any preventer functions you have added return `false`, the push will be cancelled and the URL will remain unchanged.\n\n\tOtherwise, the URL, state and uploads will be updated, a new history item created, and each of the listeners will be executed.\n\n\tWhile this will not trigger a HTTP request to a new URL, it is possible that one will be executed by the browser in future.\n\tFor example, if the user reloads the tab after a `push()` call has been made, a GET request to that URL will be executed.\n\n\t@param url The new history entry's URL. If this includes the `basePath` it will be filtered before triggering listeners. If this includes an anchor link (following a `#`) and we ignoring anchors, this will also be filtered before triggering listeners.\n\t@param state (optional) An object to be serialized and associated with this page in history. This is useful for saving page state, saving form data, etc.  The object must be serializable, so simple anonymous objects which can be serialized to JSON are preferred. See [this Mozilla tutorial for details](https://developer.mozilla.org/en-US/docs/Web/API/History_API#The_pushState%28%29_method). The default value is an empty anonymous object.\n\t@param uploads (optional) Any `FileList` references to be associated with this page in history. The default value is null (no uploads).\n\t@return `true` if the push was successful (not prevented), or `false` if it was prevented.\n\t**/\n\tpublic static function push(url:String, ?state:Dynamic, ?uploads:Dynamic<FileList>):Bool {\n\t\tvar strippedURL = stripURL(url);\n\t\tif (state==null) state = {};\n\t\tfor (p in preventers) {\n\t\t\tif (!p(strippedURL,state,uploads)) return false;\n\t\t}\n\t\tsetUploadsForState(strippedURL, state, uploads);\n\t\twindow.history.pushState(state, \"\", url);\n\t\tcurrentPath = strippedURL;\n\t\tcurrentState = state;\n\t\tcurrentUploads = uploads;\n\t\tdispatch(strippedURL,state,uploads);\n\t\treturn true;\n\t}\n\n\t/**\n\tIdentical to `push()` except this changes the URL of the page without creating a new History item.\n\n\tFor example:\n\n\t - You are on the page \"/kittens\"\n\t - You use PushState.push(\"/puppies\")\n\t - You are now on \"/puppies\", if you were to press back you would be on \"kittens\"\n\t - You now use PushState.replace(\"/aliens\")\n\t - The URL is not \"/aliens\", but if you were to press back it would go to \"/kittens\" (NOT \"/puppies\"), because a new History item was not created.\n\n\tIf any preventers return false, the history item will not be replaced and no event listeners will be fired.\n\n\tSee `push()` for details on each parameter and the return value.\n\t**/\n\tpublic static function replace(url:String, ?state:Dynamic, ?uploads:Dynamic<FileList>):Bool {\n\t\tvar strippedURL = stripURL(url);\n\t\tif (state==null) state = {};\n\t\tfor (p in preventers) {\n\t\t\tif (!p(strippedURL,state,uploads)) return false;\n\t\t}\n\t\tsilentReplace(url, state, uploads);\n\t\tdispatch(strippedURL, state, uploads);\n\t\treturn true;\n\t}\n\n\t/**\n\tReplace the current history item without checking any preventers or dispatching any events.\n\n\tThis is useful for updating some page state without affecting the appearance of navigating to a new page.\n\tFor example, you could save some internal data about the state of the page, such as form field values or scroll position, to restore the page more completely when the user clicks \"back\" at a later time.\n\n\tSee `push()` for details on each parameter.\n\t**/\n\tpublic static function silentReplace(url:String, ?state:Dynamic, ?uploads:Dynamic<FileList>):Void {\n\t\tvar strippedURL = stripURL(url);\n\t\tif (state==null) state = {};\n\t\tsetUploadsForState(strippedURL, state, uploads);\n\t\twindow.history.replaceState(state, \"\", url);\n\t\tcurrentPath = strippedURL;\n\t\tcurrentState = state;\n\t\tcurrentUploads = uploads;\n\t}\n}\n\n/**\nA `PushState` listener that will respond to changes in the browser history.\n\nFor example:\n\n- if the user clicks a `rel=\"pushstate\"` or `class=\"pushstate\"` link\n- submits a `class=\"pushstate\"` form\n- calls `PushState.push()` or `PushState.replace()`\n- or clicks \"back\" and \"forward\" in the browser.\n\nWhen using `PushState.addEventListener()`, you can also use the shortened functions `PathStateListener` and `PathListener`, and they will be wrapped into the full form `PathStateUploadsListener`.  The wrapped function will be returned and can be used with `PushState.removeEventListener()`.\n**/\ntypedef Listener = PathStateUploadsListener;\n/**\nA `PushState` preventer that will check if the user is allowed to navigate away from the current page.\n\nThese will be checked before a URL change is permitted.\nIf they return false, the page history will not be updated, and no event listeners will be executed.\n\nWhen using `PushState.addPreventer()`, you can also use the shortened functions `PathStatePreventer` and `PathPreventer`, and they will be wrapped into the full form `PathStateUploadsPreventer`.  The wrapped function will be returned and can be used with `PushState.removePreventer()`.\n**/\ntypedef Preventer = PathStateUploadsPreventer;\n/** A `PushState` listener that listens for the new URL, the new state object and the new uploads. **/\ntypedef PathStateUploadsListener = String->Dynamic->Dynamic<FileList>->Void;\n/** A `PushState` preventer that checks against the new URL, the new state object and the new uploads. **/\ntypedef PathStateUploadsPreventer = String->Dynamic->Dynamic<FileList>->Bool;\n/** A `PushState` listener that listens for the new URL and the new state object. **/\ntypedef PathStateListener = String->Dynamic->Void;\n/** A `PushState` preventer that checks against the new URL and the new state object. **/\ntypedef PathStatePreventer = String->Dynamic->Bool;\n/** A `PushState` listener that only listens for the new URL. **/\ntypedef PathListener = String->Void;\n/** A `PushState` preventer that only checks against the new URL. **/\ntypedef PathPreventer = String->Bool;\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nimport haxe.iterators.ArrayKeyValueIterator;\n\n@:coreApi\nextern class Array<T> {\n\tvar length(default, null):Int;\n\n\tfunction new():Void;\n\tfunction concat(a:Array<T>):Array<T>;\n\tfunction join(sep:String):String;\n\tfunction pop():Null<T>;\n\tfunction push(x:T):Int;\n\tfunction reverse():Void;\n\tfunction shift():Null<T>;\n\tfunction slice(pos:Int, ?end:Int):Array<T>;\n\tfunction sort(f:T->T->Int):Void;\n\tfunction splice(pos:Int, len:Int):Array<T>;\n\tfunction toString():String;\n\tfunction unshift(x:T):Void;\n\n\tinline function insert(pos:Int, x:T):Void {\n\t\t(cast this).splice(pos, 0, x);\n\t}\n\n\tinline function remove(x:T):Bool {\n\t\treturn @:privateAccess HxOverrides.remove(this, x);\n\t}\n\n\tinline function contains(x:T):Bool {\n\t\t#if (js_es >= 6)\n\t\treturn (cast this).includes(x);\n\t\t#else\n\t\treturn this.indexOf(x) != -1;\n\t\t#end\n\t}\n\n\t#if (js_es >= 5)\n\t@:pure function indexOf(x:T, ?fromIndex:Int):Int;\n\t@:pure function lastIndexOf(x:T, ?fromIndex:Int):Int;\n\t#else\n\tinline function indexOf(x:T, ?fromIndex:Int):Int {\n\t\treturn @:privateAccess HxOverrides.indexOf(this, x, (fromIndex != null) ? fromIndex : 0);\n\t}\n\n\tinline function lastIndexOf(x:T, ?fromIndex:Int):Int {\n\t\treturn @:privateAccess HxOverrides.lastIndexOf(this, x, (fromIndex != null) ? fromIndex : length - 1);\n\t}\n\t#end\n\n\t@:pure\n\tinline function copy():Array<T> {\n\t\treturn (cast this).slice();\n\t}\n\n\t@:runtime inline function map<S>(f:T->S):Array<S> {\n\t\tvar result:Array<S> = js.Syntax.construct(Array, length);\n\t\tfor(i in 0...length) {\n\t\t\tresult[i] = f(this[i]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t@:runtime inline function filter(f:T->Bool):Array<T> {\n\t\treturn [for (v in this) if (f(v)) v];\n\t}\n\n\t@:runtime inline function iterator():haxe.iterators.ArrayIterator<T> {\n\t\treturn new haxe.iterators.ArrayIterator(this);\n\t}\n\n\t@:runtime inline function keyValueIterator():ArrayKeyValueIterator<T> {\n\t\treturn new ArrayKeyValueIterator(this);\n\t}\n\n\tinline function resize(len:Int):Void {\n\t\tthis.length = len;\n\t}\n}\n","package view;\nimport haxe.ds.StringMap;\nimport haxe.Timer;\n//import FormData.FData;\nimport js.jquery.*;\nimport js.html.Element;\nimport js.html.HtmlElement;\nimport js.html.Node;\nimport js.jquery.Helper.*;\nimport me.cunity.debug.Out;\nimport View;\n\nusing Lambda;\n\n//typedef Accordion = Dynamic;\n\ntypedef MenuItem =\n{\n\tvar link:String;\n\tvar action:Event->Void;\n}\n\ntypedef ContextMenuData = \n{>ViewData,\n\tvar context:String;\n\tvar items:Array<Dynamic>;\n\tvar tableData:StringMap<Array<String>>;\n\t@:optional var heightStyle:String;\n}\n\n/**\n * ...\n * @author axel@cunity.me\n */\n\n@:keep class ContextMenu extends View\n{\n\tvar accordion:JQuery;\n\tvar contextData:ContextMenuData;\n\tvar action:String;\n\tpublic var active(get,set):Int;\n\tpublic var activePanel:JQuery;\n\t\n\tpublic function new(?data:Dynamic) \n\t{\n\t\tsuper(data);\n\t\tparentView.contextMenu = this;\n\t\tcontextData = cast data;\n\t\tcontextData.tableData = new StringMap();\n\t\ttrace(id+ ' heightStyle:' + contextData.heightStyle + ' attach2:' + data.attach2);\n\t\tif (contextData.heightStyle == null)\n\t\t\tcontextData.heightStyle = 'auto';\n\t\t//Out.dumpObjectTree(data);\n\t\t//trace(data);\n\t\tdata.optionsMap = App.ist.globals.optionsMap.h;\n\t\tdata.typeMap = App.ist.globals.typeMap.h;\n\t\tif (id == 'qc-menu')\n\t\t{\n\t\t\tdata.optionsMap.owner = App.ist.prepareAgentMap();\n\t\t\tdata.typeMap.owner = 'SELECT';\n\t\t}\n\t\telse\n\t\tdata.optionsMap.agent = App.ist.prepareAgentMap();\n\t\t//{ agent:App.ist.prepareAgentMap() };\n\t\t//trace(data.optionsMap);\n\t\tvar tmp = J('#t-' + id).tmpl(data);// .appendTo(J(data.attach2)) ;\n\t\t//trace('OK:' + tmp.html());\n\t\ttmp.appendTo(J(data.attach2)) ;\n\t\t//J('#t-' + id).tmpl(data).appendTo(J(data.attach2)) ;\n\t\tcreateInputs();\n\t\t//active = 0;\n\t\t//trace(active);\n\t\troot = J('#' + id).accordion( \n\t\t{ \n\t\t\tactive:0,\n\t\t\tactivate:activate,\t\n\t\t\t\"autoHeight\": false,\n\t\t\tbeforeActivate:function(event:Event, ui) {\n\t\t\t\tif(root.data('disabled'))\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\t\t\t\t\t\n\t\t\t\t\tactivePanel = J(ui.newPanel[0]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreate:create,\n\t\t\tfillSpace: true,\n\t\t\theightStyle:contextData.heightStyle\n\t\t});\n\t\taccordion = root.accordion('instance');\n\t\t//trace(accordion);\n\t\t//active = 0;\n\t\ttrace(J('#' + id).find('.datepicker').length );\n\t\tJ('#' + id).find('.datepicker').datepicker( { \n\t\t\tbeforeShow: function(el, ui) {\n\t\t\t\tvar jq:JQuery = J(el);  \n\t\t\t\tif(jq.val()=='')\n\t\t\t\t\tjq.val(jq.attr('placeholder'));\n\t\t\t}\n\t\t});\t\t\n\t\tJ('#' + id + ' button[data-contextaction]').click(run);\n\t\tinit();\n\t}\n\t\n\tpublic function get_active():Int\n\t{\n\t\ttrace(root.accordion('option', 'active'));\n\t\treturn cast(root.accordion('option', 'active'),Int);\n\t}\n\t\n\tpublic function set_active(act:Int):Int\n\t{\n\t\ttrace(active + ' => ' + act);\n\t\troot.accordion('option','active', act);\n\t\t//root.data('disabled', 1);\n\t\treturn act;\n\t}\n\t\n\tfunction activate( event:Event, ui ) \n\t{\n\t\t//trace(ui);\n\t\taction = J(ui.newPanel[0]).find('input[name=\"action\"]').first().val();\n\t\tactive = getIndexOf(action);\n\t\t//activePanel = parentView.root.find('.ui-accordion-content [style^=\"display: block\"]');// J(ui.newPanel[0]);\n\t\t//activePanel = J(ui.newPanel[0]);\n\t\ttrace(action + ':' + activePanel.attr('id') + ' == ' + J(ui.newPanel[0]).attr('id'));\n\t}\n\t\n\n\tpublic function call(editor:Editor, ?onComplete:Void->Void)\n\t{\n\t\ttrace('parentView.interactionState:' + parentView.interactionState + ' agent:' + editor.agent + ' editor.leadID:' + editor.leadID);\n\t\tif (parentView.interactionState == 'call')\n\t\t{// HANG UP\n\t\t\thangup(editor, onComplete);\n\t\t\treturn;\n\t\t}//DO CALL\n\t\tvar p:Dynamic = \n\t\t{\n\t\t\tclassName:'AgcApi',\n\t\t\taction:'external_dial',\n\t\t\tlead_id:editor.leadID,\n\t\t\tagent_user:editor.agent\n\t\t};\n\t\t//parentView.interactionState = 'call'; activePanel.find('button[data-contextaction=\"call\"]').html('Auflegen');return;\n\t\tparentView.loadData('server.php', p, function(data:Dynamic) { \n\t\t\ttrace(data);\n\t\t\tif (data.response == 'OK') {\n\t\t\t\ttrace('OK');// ACTIVE CALL\n\t\t\t\t//parentView.vData.call = 1;\n\t\t\t\tparentView.interactionState = 'call';\n\t\t\t\ttrace(activePanel.find('button[data-contextaction=\"call\"]').length);\n\t\t\t\tactivePanel.find('button[data-contextaction=\"call\"]').html('Auflegen');\n\t\t\t}\n\t\t});\t\t\t\t\t\t\t\t\t\t\n\t}\t\n\t\n\tfunction createInputs():Void\n\t{\n\t\tvar cData:ContextMenuData = cast vData;\n\t\t//var i:Int = 0;\n\t\tfor (aI in cData.items)\n\t\t{\n\t\t\t//trace(aI.Select);\n\t\t\t//TODO: USE REFLECTION TO ITERATE ALL FIELDS AND CREATE MATCHING INPUT CLASS\n\t\t\tif (aI.Select != null)\n\t\t\t{\n\t\t\t\t/*var aiS:Array<Dynamic> = aI.Select;\n\t\t\t\taiS.iter(function(sel:Dynamic) sel.action = aI.action);*/\n\t\t\t\t//trace(aI.Select);\n\t\t\t\taddInputs(aI.Select, 'Select');\n\t\t\t}\n\t\t}\n\t\t//trace(cData);\n\t}\t\n\t\n\tfunction create( event:Event, ui ) \n\t{ \t\n\t\taction = J(ui.panel[0]).find('input[name=\"action\"]').first().val();\n\t\tif(ui.panel.length>0)\n\t\tactivePanel = J(ui.panel[0]);\n\t\ttrace(action);\n\t}\n\t\n\tpublic function getIndexOf(act:String):Int\n\t{\n\t\tvar index:Int = null;\n\t\tcontextData.items.mapi(function(i:Int,  item:Dynamic):Dynamic\n\t\t{\n\t\t\tif (item.action == act)\n\t\t\t{\n\t\t\t\ttrace(i + ':' + act);\n\t\t\t\tindex = i;\t\t\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\ttrace(index);\n\t\treturn index;\n\t}\n\t\n\tpublic function hangup(editor:Editor, ?onCompletion:Void->Void )\n\t{\t\n\t\ttrace('OK');\n\t\t//api.php?source=test&user=6666&pass=1234&function=update_fields&agent_user=6666&vendor_lead_code=1234567&address1=\n\t\t//var fData:Array<FData> = FormData.save(J('#' + parentView.id + '-edit-form'));\n\t\tvar p:Dynamic = \n\t\t{\n\t\t\tclassName:'AgcApi',\n\t\t\t//className:'Clients',\n\t\t\t//action:'update_fields_x',\n\t\t\taction:'external_pause',\n\t\t\tlead_id:editor.leadID,\n\t\t\tagent_user:editor.agent,\n\t\t\tvalue:'PAUSE'\n\t\t};\n\t\t\n\t\tparentView.loadData('server.php', p, function(data:Dynamic) { \n\t\t\t//trace(data);\n\t\t\tif (data.response == 'OK') \n\t\t\t{//state CLEARED\n\t\t\t\ttrace('OK state CLEARED');\n\t\t\t\tvar p:Dynamic = {\n\t\t\t\t\tclassName:'AgcApi',\n\t\t\t\t\taction:'external_hangup',\n\t\t\t\t\tlead_id:editor.leadID,\n\t\t\t\t\tagent_user:editor.agent\n\t\t\t\t};\t\t\n\t\t\t\t\n\t\t\t\tparentView.loadData('server.php', p, function(data:Dynamic) { \n\t\t\t\t\t//trace(data);\n\t\t\t\t\tif (data.response == 'OK') \n\t\t\t\t\t{//HUNG UP - SET DISPO STATUS\n\t\t\t\t\t\ttrace('OK');\t\t\n\t\t\t\t\t\t//trace(data.choice);\t\n\t\t\t\t\t\tsetCallStatus(editor, onCompletion);\n\t\t\t\t\t\t//SHOW DISPO CHOICE DIALOG\n\t\t\t\t\t\t//parentView.interactionState = 'init';\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tApp.choice( { header:data.response, id:parentView.id } );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tApp.choice( { header:data.response, id:parentView.id } );\n\t\t\t}\t\n\t\t});\n\t}\n\t\n\tpublic function layout()\n\t{\n\t\tvar maxWidth:Float = 0;\n\t\tvar maxHeight:Float = 0;\n\t\tvar jP:Array<HtmlElement> = accordion.panels;\n\t\tvar p:Int = 0;\n\t\tfor (p in 0...jP.length)\n\t\t{\n\t\t\tvar jEl:JQuery = J(jP[p]);\n\t\t\tif (p != active)\n\t\t\t\tjEl.css('visibility', 'hidden').show();\n\t\t\tmaxWidth =   Math.max(jEl.width(), maxWidth);\n\t\t\tmaxHeight = Math.max(jEl.height(), maxHeight);\n\t\t\tif (p != active)\n\t\t\t\tjEl.hide(0).css('visibility','visible');\n\t\t}\n\t\troot.find('table').width(maxWidth);\n\t\troot.accordion(\"option\", \"active\", active);\n\t}\n\t\n\tpublic function findPage(page:String, limit:String)\n\t{\n\t\taction = 'find';\n\t\tvar items:Array<Dynamic> = vData.items;\n\t\t//trace(items);\n\t\titems.mapi(function(i:Int, item:Dynamic) {if (item.action == action){ active = i; } return item;});\n\t\ttrace(action + ':' + active);\n\t\tvar findFields:Array<String> = vData.items[active].fields;\t\t\n\t\ttrace(findFields);\n\t\tif (findFields != null && findFields.length > 0)/*READ FIND FORM*/\n\t\t{\n\t\t\tvar tables:Iterator<String> = contextData.tableData.keys();\n\t\t\tvar tableNames:Array<String> = new Array();\n\t\t\twhile (tables.hasNext())\n\t\t\t{\n\t\t\t\tvar table:String = tables.next();\n\t\t\t\ttableNames.push(table);\n\t\t\t\ttrace(table);\n\t\t\t\t//fields = fields.concat(contextData.tableData.get(table));// .map(function(f:String) return table + '.' + f));\n\t\t\t}\t\t\t\t\t\n\t\t\tvar form:JQuery = J('#' + parentView.id + '-menu .ui-accordion-content-active form');\n\t\t\tvar where:String = FormData.where(form, findFields);\n\t\t\ttrace(where);\n\t\t\tvar wM:StringMap<String> = new StringMap();\n\t\t\t//for (tn in tableNames)\n\t\t\t\t//wM.set(tn, contextData.tableData.get(tn).toString());\n\t\t\twM.set('filter', FormData.filter(form, contextData.tableData, tableNames));\n\t\t\twM.set('filter_tables', tableNames.join(','));\n\t\t\twM.set('where', where);\n\t\t\twM.set('limit', limit);\n\t\t\twM.set('page', page);\n\t\t\ttrace(wM);\n\t\t\tparentView.find(wM);\n\t\t\t//Reflect.callMethod(parentView, Reflect.field(parentView, action), [wM]);\t\t\t\n\t\t}\n\t}\n\t\n\tpublic function run(evt:Event)\n\t{\n\t\tevt.preventDefault();\n\t\t\n\t\t//var options =  cast root.accordion( \"option\");\n\t\t//var active:Int = get_active();\n\t\tvar jNode:JQuery = J(cast( evt.target, Node));\n\t\taction = vData.items[active].action;\n\t\ttrace( action + ':' + active);\n\t\tvar contextAction = jNode.data('contextaction');\n\t\t//action = J( evt.target).data('action');\n\t\ttrace(action + ':' + contextAction);\n\t\tswitch(action)\n\t\t{\n\t\t\tcase 'find':\n\t\t\t\tvar fields:Array<String> = vData.items[active].fields;\n\t\t\t\t\n\t\t\t\tif (fields != null && fields.length > 0)/*READ FIND FORM*/\n\t\t\t\t{\n\t\t\t\t\tvar tables:Iterator<String> = contextData.tableData.keys();\n\t\t\t\t\tvar tableNames:Array<String> = new Array();\n\t\t\t\t\twhile (tables.hasNext())\n\t\t\t\t\t{\n\t\t\t\t\t\tvar table:String = tables.next();\n\t\t\t\t\t\ttableNames.push(table);\n\t\t\t\t\t\ttrace(table);\n\t\t\t\t\t\t//fields = fields.concat(contextData.tableData.get(table));// .map(function(f:String) return table + '.' + f));\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\t//var where:String = FormData.where(J(cast( evt.target, Element)).parent(), fields);\n\t\t\t\t\tvar where:String = FormData.where(jNode.closest('form'), fields);\n\t\t\t\t\ttrace(where);\n\t\t\t\t\tvar wM:StringMap<String> = new StringMap();\n\t\t\t\t\t//for (tn in tableNames)\n\t\t\t\t\t\t//wM.set(tn, contextData.tableData.get(tn).toString());\n\t\t\t\t\twM.set('filter', FormData.filter(jNode.closest('form'), contextData.tableData, tableNames));\n\t\t\t\t\twM.set('filter_tables', tableNames.join(','));\n\t\t\t\t\twM.set('where', where);\n\t\t\t\t\tparentView.find(wM);\n\t\t\t\t\t//Reflect.callMethod(parentView, Reflect.field(parentView, action), [wM]);\t\t\t\n\t\t\t\t}\t\n\t\t\tcase 'edit':\n\t\t\t\tvar editor:Editor = cast(parentView.views.get(parentView.instancePath + '.' + parentView.id + '-editor'), Editor);\n\t\t\t\teditor.contextAction(contextAction);\t\t\t\t\n\t\t\tcase 'mailings':\n\t\t\t\tvar mailing:Mailing = cast(parentView.views.get(parentView.instancePath + '.' + parentView.id + '-mailing'), Mailing);\n\t\t\t\ttrace(contextAction);\n\t\t\t\tswitch(contextAction)\n\t\t\t\t{\n\t\t\t\t\tcase 'printNewInfos':\n\t\t\t\t\t\tmailing.printNewInfos(jNode.closest('div').attr('id'));\n\t\t\t\t\tcase 'printList':\n\t\t\t\t\t\tmailing.printList(jNode.closest('div').attr('id'));\n\t\t\t\t\tcase 'printNewMembers':\n\t\t\t\t\t\tmailing.printNewMembers(jNode.closest('div').attr('id'));\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ttrace(contextAction);\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\ttrace(action + ':' + contextAction);\n\t\t}\n\t}\n\t\n\tpublic function setCallStatus(editor:Editor, ?onCompletion:Void->Void )\n\t{\n\t\ttrace(editor.action + ':' + onCompletion);\n\t\tvar p:Dynamic = {\n\t\t\tclassName:'AgcApi',\n\t\t\taction:'external_status',\n\t\t\tdispo:switch(editor.action)\n\t\t\t{\n\t\t\t\tcase 'call', 'save'://HANGUP OR SAVE => QCOPEN\n\t\t\t\t'QCOPEN';\n\t\t\t\tdefault:\n\t\t\t\teditor.action.toUpperCase();\n\t\t\t},\n\t\t\tagent_user:editor.agent\n\t\t};\n\t\tparentView.loadData('server.php', p, function(data:Dynamic) { \n\t\t\ttrace(data);\n\t\t\tif (data.response == 'OK')\t\t\n\t\t\t{\n\t\t\t\t\n\t\t\t\tif (onCompletion != null)\n\t\t\t\t\tTimer.delay(onCompletion, 1500);\n\t\t\t\telse\n\t\t\t\t\tparentView.interactionState = 'init';\n\t\t\t}\n\t\t\telse\n\t\t\t\tApp.choice( { header:data.response, id:parentView.id } );\n\t\t});\n\t\t\t\t\n\t}\n\t\n\toverride function initState():Void\n\t{\n\t\tsuper.initState();\n\t\ttrace(id + ':' + root.find('tr[data-table]').length);\n\t\tlayout();\n\t\troot.find('tr[data-table]').each(function(i:Int, n:Node)\n\t\t{\n\t\t\tvar table:String = J(n).data('table');\n\t\t\tif (!contextData.tableData.exists(table))\n\t\t\t{\n\t\t\t\tcontextData.tableData.set(table, new Array());\n\t\t\t}\n\t\t\t//vData.fields.push();\n\t\t});\n\t\t\n\t\tvar tables:Iterator<String> = contextData.tableData.keys();\n\t\twhile (tables.hasNext())\n\t\t{\n\t\t\tvar table:String = tables.next();\n\t\t\ttrace(table);\n\t\t\tJ('tr[data-table^=' + table+'] input').each(function(_, inp) {\n\t\t\t\tif(J(inp).attr('name').indexOf('_match_option')==-1)\n\t\t\t\t\tcontextData.tableData.get(table).push(J(inp).attr('name'));\n\t\t\t});\n\t\t\tJ('tr[data-table^=' + table+'] select').each(function(_, inp) {\n\t\t\t\tcontextData.tableData.get(table).push(J(inp).attr('name'));\n\t\t\t});\n\t\t}\t\t\n\t\ttrace(contextData.tableData.toString());\t\t\n\t}\n}","package view;\n\n/**\n * ...\n * @author axel@cunity.me\n */\n\nimport haxe.ds.StringMap;\nimport haxe.Json;\nimport haxe.Timer;\nimport js.jquery.*;\nimport view.FormData.FData;\nimport js.Browser;\nimport App.Rectangle;\nimport js.html.Audio;\nimport js.html.Node;\nimport js.jquery.Helper.*;\nimport me.cunity.debug.Out;\nimport me.cunity.js.data.IBAN;\n\nusing Lambda;\n\nclass Editor extends View\n{\n\tvar cMenu:ContextMenu;\n\tvar fieldNames:Dynamic;\n\tvar overlay:JQuery;\n\tvar optionsMap:Dynamic;\n\tvar typeMap:Dynamic;\n\tpublic var eData(default, null):JQuery;\n\tpublic var action:String;\n\tpublic var agent:String;\n\tpublic var leadID:String;\n\tvar savingFlagSet:Bool;\n\tvar accountSelector:String;\n\tvar blzSelector:String;\n\tvar ibanSelector:String;\n\t//var maxSaveLoop:Int;\n\t\n\tpublic function new(?data:Dynamic)  \n\t{\n\t\tsuper(data);\n\t\t\n\t\tcMenu =  cast (parentView.views.get(parentView.instancePath + '.' + parentView.id + '-menu'), ContextMenu);\n\t\tname = parentView.name;\t//ACCESS PARENT VIEW CLASS ON SERVER\n\t\t//Out.dumpObject(data);\n\t\ttempl = J('#t-' + id);\n\t\ttrace(id);\n\t\tinit();\n\t\taccountSelector = parentView.id + '-edit-form ' + 'input[name=\"account\"]';\n\t\tblzSelector = parentView.id + '-edit-form ' + 'input[name=\"blz\"]';\n\t\tibanSelector = parentView.id + '-edit-form ' + 'input[name=\"iban\"]';\n\t}\n\t\n\tpublic function checkIban():Bool\n\t{\n\t\tvar iban:String = J('#' + ibanSelector).val();\n\t\t//trace('#' + ibanSelector);\n\t\ttrace(iban + IBAN.checkIBAN(iban));\n\t\treturn IBAN.checkIBAN(iban);\n\t}\n\t\n\tpublic function checkAccountAndBLZ(ok2submit:Bool->Void):Void\n\t{\n\t\tvar account:String = J('#' + accountSelector).val();\n\t\tvar blz:String = J('#' +  blzSelector).val();\n\t\ttrace('accountSelector: #' + accountSelector);\n\t\ttrace(account + ':' + blz);\n\t\tif (!(account.length > 0 && blz.length > 0))\n\t\t{\n\t\t\tok2submit(false);\n\t\t\treturn;\n\t\t}\n\t\tIBAN.buildIBAN(account, blz, function(success:IbanSuccess) {\n\t\t\tif (IBAN.checkIBAN(success.iban))\n\t\t\t{\n\t\t\t\tJ('#' + ibanSelector ).val(success.iban);\n\t\t\t\ttrace(success.iban + ':' + J('#' + ibanSelector ).val());\n\t\t\t\tok2submit(true);\n\t\t\t}\n\t\t},\n\t\tfunction(error:IbanError)\n\t\t{\n\t\t\ttrace(error.message);\n\t\t\tok2submit(false);\n\t\t});\n\t}\n\t\n\tpublic function  editCheck(dataRow:JQuery)\n\t{\n\t\tvar p:Dynamic = resetParams();\n\t\tp.primary_id = (vData.primary_id == null ? parentView.primary_id : vData.primary_id);\n\t\tReflect.setField(p, p.primary_id, eData.attr('id'));\t\n\t\tif (parentView.vData.hidden != null)\n\t\t{\t\t\t\n\t\t\t//copy all data fields from this dataRow to the load parameter\n\t\t\tvar hKeys:Array<String> = parentView.vData.hidden.split(',');\n\t\t\tfor (k in hKeys)\n\t\t\t{\n\t\t\t\tReflect.setField(p, k, eData.data(k));\n\t\t\t}\n\t\t}\n\t\ttrace(p);\t\n\t\ttrace(leadID);\n\t\tp.action = 'edit';\n\t\tp.fields = (vData.fields != null ? vData.fields : parentView.vData.fields);\n\t\tloadData('server.php', p, compareEdit);\t\t\n\t}\n\t\n\tfunction compareEdit(data:Dynamic):Void\n\t{\n\t\tvar displayFormats:Dynamic = untyped window.displayFormats;\n\t\t//trace(data.rows[0]);\n\t\tvar cData:Dynamic = data.rows[0];\n\t\tvar cOK:Bool = true;\n\t\tvar errors:StringBuf = new StringBuf();\n\t\t\n\t\tfor (f in Reflect.fields(cData))\n\t\t{\n\t\t\tif (f == 'vendor_lead_code' && overlay.find('[name=\"vendor_lead_code\"]').val()=='')\n\t\t\t\tcontinue;\n\t\t\tvar val:Dynamic = '';\n\t\t\tvar dbData:Dynamic = Reflect.field(cData, f);\n\t\t\t//trace(f +':' + (Reflect.hasField(displayFormats, f) ? 'Y':'N') + ' :' + (['date','datetime'].has(Reflect.field(displayFormats, f))) +':' + untyped __typeof__(window[Reflect.field(displayFormats, f)]) + ':>' +  Reflect.field(displayFormats, f));\n\t\t\tvar displayFormat:String = Reflect.field(displayFormats, f);\n\t\t\tif (displayFormat != null)\n\t\t\t{\n\t\t\t\tif (displayFormat.indexOf('%') > -1)\n\t\t\t\t\tval = untyped window.sprintf(displayFormat, Reflect.field(cData, f));\n\t\t\t\telse\n\t\t\t\t/*if (['date','datetime','_datetime','gFloat'].has(displayFormat))*/\n\t\t\t\t{\n\t\t\t\t\t//val = Reflect.field(Browser.window, Reflect.field(displayFormats, f))(f, Reflect.field(cData, f));\n\t\t\t\t\tif (displayFormat.indexOf('_') == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\ttrace('input[name=\"_$f\"]');\n\t\t\t\t\t\tval = Reflect.callMethod(Browser.window, Reflect.field(Browser.window,'display'), [displayFormat,dbData,J('input[name=\"_$f\"]').data('value')]);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tval = Reflect.callMethod(Browser.window, Reflect.field(Browser.window,'display'), [displayFormat,dbData]);\n\t\t\t\t\ttrace(dbData + ':' + displayFormat + ':' + val);\n\t\t\t\t}\n\t\t\t\t/*else\n\t\t\t\t\tval = untyped window.sprintf(displayFormat, Reflect.field(cData, f));\t\n\t\t\t\t\t*/\n\t\t\t}\n\t\t\telse\n\t\t\t\tval = Reflect.field(cData, f);\n\t\t\tvar shouldDVal = val;\n\t\t\tcOK = switch(Reflect.field(data.typeMap, f))\n\t\t\t{\n\t\t\t\tcase 'RADIO', 'CHECKBOX':\n\t\t\t\t\tvar fData = overlay.find('[name=\"$f\"]:checked').val();\n\t\t\t\t\tif (fData==null) \n\t\t\t\t\t{\n\t\t\t\t\t\tfData = '';\n\t\t\t\t\t}\n\t\t\t\t\tval == fData;\n\t\t\t\tdefault:\n\t\t\t\t\t//val == dbData;\n\t\t\t\t\tif (displayFormat != null && displayFormat.indexOf('_') == 0)\n\t\t\t\t\t\tval == overlay.find('[name=\"_$f\"]').val();\n\t\t\t\t\telse\n\t\t\t\t\t\tval == overlay.find('[name=\"$f\"]').val();\n\t\t\t}\n\t\t\t\n\t\t\tif (!cOK)\n\t\t\t{\n\t\t\t\ttrace('$dbData< oops - $f: >$shouldDVal< not = >' + overlay.find('[name=\"$f\"]').val() + '<');\n\t\t\t\terrors.add('oops - $f: $shouldDVal not = ' + overlay.find('[name=\"$f\"]').val() + '<-\\r\\n');\n\t\t\t\t//break;\n\t\t\t}\t\t\t\n\t\t}\n\t\tif (errors.length > 0)\n\t\t{\n\t\t\ttrace('edit check failed :(' +errors.toString()  + '\\r\\n');\n\t\t\tvar fD:Array<FData> = FormData.save(J('#' + parentView.id + '-edit-form'));\n\t\t\tvar fDs:String = '';\n\t\t\tfD.iter(function(d:FData) fDs += \"\\n\" + d.name + '=>' + d.value);\n\t\t\tvar content:Dynamic = {\n\t\t\t\theader:'edit check failed :(\\r\\n',\n\t\t\t\tform: fDs  + '\\r\\n',\n\t\t\t\tdata:Std.string(data) + '\\r\\n',\n\t\t\t\terrors:errors.toString()  + '\\r\\n'\n\t\t\t};\n\t\t\tjs.jquery.JQuery.post('/flyCRM/editorLog.php', content,function(d:Dynamic, s:String, _) { trace(d); trace(s); } ).fail(function() {\n\t\t\t\ttrace( \"error\" );\n\t\t\t});\n\t\t\t\n\t\t\t//Browser.window.alert(errors.toString());\n\t\t}\n\t\t//else\n\t\t//{//DATA SAVED IS VALIDATED AGAINST FORM CONTENT - OK TO CLOSE FORM\n\t\t\tclose();\n\t\t\tif(lastFindParam != null)\n\t\t\t\tparentView.find(parentView.lastFindParam);\n\t\t\telse\n\t\t\t{\n\t\t\t\ttrace({\n\t\t\t\t\tvar p:Dynamic = parentView.resetParams();\n\t\t\t\t\tif(parentView.vData.order != null)\n\t\t\t\t\t\tp.order = parentView.vData.order;\t\t\t\t\t\t\t\n\t\t\t\t\tp;\n\t\t\t\t});\n\t\t\t\tparentView.find( (parentView.lastFindParam == null ? new StringMap<String>(): parentView.lastFindParam));\n\t\t\t}\n\t\t//}\n\t}\n\t\n\tpublic function  edit(dataRow:JQuery)\n\t{\n\t\ttrace(dataRow);\n\t\t\n\t\tsavingFlagSet = false;\n\t\tvar p:Dynamic = resetParams();\n\t\tp.primary_id = (vData.primary_id == null ? parentView.primary_id : vData.primary_id);\n\t\teData = dataRow;\n\t\tReflect.setField(p, p.primary_id, eData.attr('id'));\n\t\n\t\tif (parentView.vData.hidden != null)\n\t\t{\t\t\t\n\t\t\t//copy all data fields from this dataRow to the load parameter\n\t\t\tvar hKeys:Array<String> = parentView.vData.hidden.split(',');\n\t\t\tfor (k in hKeys)\n\t\t\t{\n\t\t\t\tReflect.setField(p, k, eData.data(k));\n\t\t\t}\n\t\t}\n\t\tleadID = p.lead_id;\n\t\ttrace(leadID);\n\t\tp.action = 'edit';\n\t\t//var eFields:Array<String> = vData.fields;\n\t\t//p.fields = parentView.vData.fields.split(',').filter(function(f:String) return (eFields.has(f) ? ;\n\t\tp.fields = (vData.fields != null ? vData.fields : parentView.vData.fields);\n\t\ttrace(p);\t\n\t\t//cMenu.active    cMenu.getIndexOf(vData.action));\n\t\tcMenu.active = cMenu.getIndexOf(p.action);\n\t\ttrace(p.action + ':' + cMenu.active);\n\t\tcMenu.root.data('disabled', 1);\n\t\tloadData('server.php', p, update);\t\t\n\t}\n\t\n\tfunction close()\n\t{\n\t\ttrace('going to close:' + J('#overlay').length);\n\t\tcMenu.root.find('.recordings').remove();\n\t\tcMenu.root.data('disabled', 0);\n\t\tJ(cMenu.attach2).find('tr').removeClass('selected');\n\t\tif (parentView.interactionState == 'call')\n\t\t\tcMenu.activePanel.find('button[data-contextaction=\"call\"]').html('Anrufen');\n\t\tparentView.interactionState = 'init';\n\t\t//J('#overlay').animate( { opacity:0.0 }, 300, null, function() { J('#overlay').detach(); } );\n\t\toverlay.animate( { opacity:0.0 }, 300, null, function() { overlay.detach(); } );\t\t\n\t}\n\t\n\tpublic function contextAction(action:String)\n\t{\n\t\tthis.action = action;\n\t\tswitch(action)\n\t\t{\n\t\t\tcase 'close':\n\t\t\t\tclose();\n\t\t\tcase 'save', 'qcok':\n\t\t\t\tif (!checkIban())\n\t\t\t\t{\n\t\t\t\t\tcheckAccountAndBLZ(function(ok:Bool)\n\t\t\t\t\t{\n\t\t\t\t\t\ttrace (ok);\n\t\t\t\t\t\tif (ok)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//TODO: TEST THE CHANGE FROM ACTION TO ENDACTION\n\t\t\t\t\t\t\tif (parentView.interactionState == 'call')\n\t\t\t\t\t\t\t\t//hangup(this);\n\t\t\t\t\t\t\t\tcMenu.hangup(this, function() save(action));\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tsave(action);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tApp.inputError( J('#' + parentView.id + '-edit-form'), ['account','blz','iban'] );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (parentView.interactionState == 'call')\n\t\t\t\t\t\t//hangup(this);\n\t\t\t\t\t\tcMenu.hangup(this, function() save(action));\n\t\t\t\t\telse\n\t\t\t\t\t\tsave(action);\n\t\t\t\t}\n\t\t\tcase 'qcbad':\n\t\t\t\tif (parentView.interactionState == 'call')\n\t\t\t\t\tcMenu.hangup(this, function() save(action));\n\t\t\t\telse\t\t\t\t\n\t\t\t\t\tsave(action);\n\t\t\tcase 'errsal':\n\t\t\t\tif (parentView.interactionState == 'call')\n\t\t\t\t\tcMenu.hangup(this, function() save(action));\n\t\t\t\telse\t\t\t\t\n\t\t\t\t\tsave(action);\n\t\t\tcase 'call':\n\t\t\t\tif (parentView.interactionState == 'call')\t\t\t\t\t\n\t\t\t\t\tcMenu.call(this, function() save(action));\n\t\t\t\telse\n\t\t\t\t\tcMenu.call(this);\n\t\t\tdefault:\n\t\t\t\ttrace(action);\n\t\t}//DONE END ACTION CASE EDIT\n\t}\n\npublic function hangup(editor:Editor, ?onCompletion:Void->Void )\n\t{\t\n\t\ttrace('OK');\n\t\t//api.php?source=test&user=6666&pass=1234&function=update_fields&agent_user=6666&vendor_lead_code=1234567&address1=\n\t\tvar fData:Array<FData> = FormData.save(J('#' + parentView.id + '-edit-form'));\n\t\ttrace(fData);\n\t\tvar p:Dynamic = \n\t\t{\n\t\t\tclassName:'AgcApi',\n\t\t\taction:'update_fields_x',\n\t\t\tlead_id:editor.leadID,\n\t\t\tagent_user:agent\n\t\t};\n\t\tvar fd:FData;\n\t\tfor (fd in fData)\n\t\t{\n\t\t\tReflect.setField(p,fd.name, fd.value);\n\t\t}\t\t\n\t\ttrace(p);\n\t\tparentView.loadData('server.php', p, function(data:Dynamic) { \n\t\t\t//trace(data);\n\t\t\tif (data.response == 'OK') \n\t\t\t{//state CLEARED\n\t\t\t\t//trace('OK state CLEARED');\t\n\t\t\t\ttrace('OK => agent screen updated');\t\n\t\t\t\tvar p:Dynamic = {\n\t\t\t\t\tclassName:'AgcApi',\n\t\t\t\t\taction:'external_hangup',\n\t\t\t\t\tlead_id:editor.leadID,\n\t\t\t\t\tagent_user:editor.agent\n\t\t\t\t};\t\t\n\t\t\t\t\n\t\t\t\tparentView.loadData('server.php', p, function(data:Dynamic) { \n\t\t\t\t\t//trace(data);\n\t\t\t\t\tif (data.response == 'OK') \n\t\t\t\t\t{//HUNG UP - SET DISPO STATUS\n\t\t\t\t\t\ttrace('OK');\t\t\n\t\t\t\t\t\t//trace(data.choice);\t\n\t\t\t\t\t\tcMenu.setCallStatus(this, onCompletion);\n\t\t\t\t\t\t//SHOW DISPO CHOICE DIALOG\n\t\t\t\t\t\t//parentView.interactionState = 'init';\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tApp.choice( { header:data.response, id:parentView.id } );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tApp.choice( { header:data.response, id:parentView.id } );\n\t\t\t}\t\n\t\t});\n\t}\n\t\n\tfunction ready4save():Bool\n\t{\n\t\tvar p:Array<FData> = new Array();\n\t\tp.push( { name:'className', value:'AgcApi' } );\n\t\tp.push( { name:'action', value:'check4Update' });\n\t\tp.push( { name:'lead_id', value:leadID } );\n\t\tvar amReady:Bool = false;\n\t\tjs.jquery.JQuery.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'server.php',\n\t\t\tdata: p,\n\t\t\tsuccess: function(result) \n\t\t\t{\n\t\t\t\ttrace(result);\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\t//if (result.response.state == 'XX')\n\t\t\t\t\tif (result.response.status != 'INCALL')\n\t\t\t\t\t{\n\t\t\t\t\t\ttrace('OK - CALL ENDED');\n\t\t\t\t\t\t//trace('OK - XX HAS BEEN RESTORED');\n\t\t\t\t\t\tamReady = true;\n\t\t\t\t\t}\t\t\t\t\n\t\t\t\t}\n\t\t\t\tcatch (ex:Dynamic)\n\t\t\t\t{\n\t\t\t\t\ttrace(ex);\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tdataType: 'json',\n\t\t\tasync:false\n\t\t});\n\t\ttrace('returning $amReady');\n\t\treturn amReady;\n\t}\n\t\n\tpublic function save(?status:String, maxSaveLoop:Int = 3):Void\n\t{\n\t\ttrace(parentView.interactionState);\n\t\t\n\t\tif (parentView.interactionState == 'call')\n\t\t{\n\t\t\t///parentView.interactionState = 'save';\n\t\t\t\t\t\t\n\t\t\tif (maxSaveLoop<1 || !ready4save())\n\t\t\t{//\tSET WAIT TIMEOUT\n\t\t\t\ttrace ('have to wait...$maxSaveLoop');\n\t\t\t\tTimer.delay(function() save(status, --maxSaveLoop), 1500);\n\t\t\t\treturn;\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar p:Array<FData> = FormData.save(J('#' + parentView.id + '-edit-form'));\n\t\ttrace(p);\n\t\tp.push( { name:'className', value:parentView.name });\n\t\tp.push( { name:'action', value:'save' } );\n\t\tp.push( { name:'user', value:App.user});\n\t\tp.push( { name:'primary_id', value: parentView.vData.primary_id} );\n\t\tp.push( { name:parentView.vData.primary_id, value: eData.attr('id') } );\n\t\ttrace (status);\n\t\tswitch (status)\n\t\t{\n\t\t\tcase 'errsal':\n\t\t\tp.push( { name:'status', value: 'ERRSALE'});\n\t\t\tcase 'qcok','qcbad','call':\n\t\t\tp.push( { name:'status', value: (status=='call' ? 'QCOPEN': status.toUpperCase()) });\n\t\t}\n\t\tif (parentView.vData.hidden != null)\n\t\t{\t\t\t\t\t\t\t\n\t\t\tvar hKeys:Array<String> = parentView.vData.hidden.split(',');\n\t\t\tfor (k in hKeys)\n\t\t\t{\n\t\t\t\tif(eData.data(k) != null && p.foreach(function(jD:FData) return jD.name!=k))\n\t\t\t\t\tp.push( { name:k, value:eData.data(k) } );\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t}\n\t\t//trace(p);\n\t\tTimer.delay(function(){\n\t\tparentView.loadData('server.php', p, function(data:Dynamic) { \n\t\t\ttrace(data +': ' + (data ? 'Y':'N'));\n\t\t\tif (data) {\n\t\t\t\teditCheck(eData);\n\t\t\t}\n\t\t});\n\t\t} , 1500);\n\t}\n\t\n\toverride public function update(data:Dynamic):Void\n\t{\n\t\tparentView.wait(false);\n\t\t//primary_id,hidden,\n\t\tagent = data.agent;\n\t\t//trace(data.agent);\n\t\ttrace(data);\n\t\tvar dataOptions:Dynamic = {};\n\t\tvar keys:Array<String> = Reflect.fields(data.optionsMap);\n\t\tfor (k in keys)\n\t\t{\n\t\t\tvar opts:Array<Array<String>> = new Array();\n\t\t\tvar optRows: Array<String> = Reflect.field(data.optionsMap, k).split('\\r\\n');\n\t\t\tfor (r in optRows)\n\t\t\t\topts.push(r.split(','));\n\t\t\tReflect.setField(dataOptions, k, opts);\n\t\t}\n\t\tdata.user = eData.data('owner');\n\t\toptionsMap = data.optionsMap = dataOptions;\n\t\tdata.typeMap.buchungs_tag = 'TEXT';\n\t\ttypeMap = data.typeMap;\n\t\tvar dRows:Array<Dynamic> = data.rows;\n\t\ttrace(dRows.length);\n\t\tvar fieldDefault:Dynamic = data.fieldDefault;\n\t\tfor (row in dRows)\n\t\t{\n\t\t\tfor (f in Reflect.fields(row))\n\t\t\t{\n\t\t\t\tif (Reflect.field(row,f)=='' && f != 'period'  && Reflect.hasField(fieldDefault, f))\n\t\t\t\t\tReflect.setField(row, f, Reflect.field(fieldDefault, f));\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t//trace(data);\n\t\t//trace(data.typeMap);\n\t\tvar r:EReg = ~/([a-z0-9_-]+.mp3)$/;\n\t\tvar rData = { recordings:data.recordings.map(function(rec) {\n\t\t\t\trec.filename = ( r.match(rec.location) ?  r.matched(1) : rec.location);\n\t\t\t\treturn rec;\n\t\t\t})\n\t\t};\n\t\tvar recordings:JQuery = J('#t-' + parentView.id + '-recordings').tmpl(rData);\n\t\tcMenu.activePanel.find('form').append(recordings);\t\t\n\n\t\tvar oMargin:Int = 8;\n\t\tvar mSpace:Rectangle = App.getMainSpace();\n\t\t//FILL TEMPLATE AND SHOW EDITOR FORM OVERLAY\n\t\toverlay = templ.tmpl(data).appendTo('#' + parentView.id).css( {\n\t\t\tmarginTop:Std.string(mSpace.top + oMargin ) + 'px',\n\t\t\tmarginLeft:Std.string(oMargin ) + 'px',\n\t\t\theight:Std.string(mSpace.height - 2 * oMargin - Std.parseFloat(J('#overlay').css('padding-top')) -  Std.parseFloat(J('#overlay').css('padding-bottom'))) + 'px',\n\t\t\twidth:Std.string( J('#'+parentView.vData.id+'-menu').offset().left - 35 ) + 'px'\n\t\t}).animate( { opacity:1 }, {\n\t\t\tdone:function (el)\n\t\t\t{\n\t\t\t\ttrace(J('#' + parentView.id).find('input[name=\"period\"]').length);\n\t\t\t\tvar unchecked = true;\n\t\t\t\tJ('#' + parentView.id).find('input[name=\"period\"]').each(function(i, n){\n\t\t\t\t\ttrace(J(n).prop('checked'));\n\t\t\t\t\tif (J(n).prop('checked'))\n\t\t\t\t\t{\t\t\t\t\t\t\n\t\t\t\t\t\tunchecked = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (unchecked)\n\t\t\t\t{\n\t\t\t\t\tJ('#' + parentView.id).find('button:contains(\"Einmalspende\")').css('color', 'rgb(114,150,100)');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\ttrace(mSpace.height + ':' +  2 * oMargin + ':' + Std.parseFloat(J('#overlay').css('padding-top')) + ':' + Std.parseFloat(J('#overlay').css('padding-bottom')));\n\t\tJ('#' + parentView.id +' .scrollbox').height(J('#' + parentView.id +' #overlay').height());\n\t\ttrace(id + ':' + parentView.id + ':' + J('#' + parentView.id +' .scrollbox').length + ':' +   J('#' + parentView.id +' .scrollbox').height());\n\t\t//trace(overlay.html());\n\t\t//trace(data.recordings);\n\n\t\t//cMenu.root.accordion(\"refresh\");\n\t}\n\t\n}","package view;\r\nimport haxe.ds.StringMap;\r\nimport haxe.xml.Check.Attrib;\r\nimport js.Browser;\r\nimport js.html.Node;\r\nimport js.jquery.*;\r\nimport js.jquery.Helper.*;\r\n\r\n/**\r\n * ...\r\n * @author axel@cunity.me\r\n */\r\n\r\nusing Lambda;\r\nusing StringTools;\r\nusing Util;\r\n \r\ntypedef FData = \r\n{\r\n\tvar name:String;\r\n\tvar value:Dynamic;\r\n}\r\n\r\n@:expose(\"FD\")\r\nclass FormData\r\n{\r\n\t/*\r\n\t * Merge Data|Settings with Form \r\n\t */\r\n\t\r\n\tpublic static function query(jForm:JQuery, ?eData:Dynamic) :String\r\n\t{\r\n\t\tvar fD:Array<FData> = cast jForm.serializeArray();\r\n\t\tvar ret:String = '';\r\n\t\tvar d:FData = null;\r\n\t\tfor (f in Reflect.fields(eData))\r\n\t\t{\r\n\t\t\td = Reflect.field(eData, f);\r\n\t\t\tif ( d != null && Std.string(d) != '')\r\n\t\t\t{\r\n\t\t\t\tif (ret != '')\r\n\t\t\t\t\tret += '&';\t\t\r\n\t\t\t\tret += f + '=' + d;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfor (item in fD)\r\n\t\t{\r\n\t\t\tif (item.value != null && item.value != '')\r\n\t\t\t{\r\n\t\t\t\tif(ret != '')\r\n\t\t\t\t\tret += '&';\r\n\t\t\t\tret +=  item.name + '=' + item.value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\t/*\r\n\t * Regex replace parameter order switched\r\n\t */\r\n\t\r\n\t/*public static function replace(e:String, by:String, source:String):String\r\n\t{\t\t\r\n\t\tvar eR:EReg =  new EReg(e, '');\r\n\t\ttrace(eR + ' replace:' + source + ' by:' + by);\r\n\t\treturn eR.replace(source, by);\r\n\t}*/\r\n\t\r\n\t/*\r\n\t * Build WHERE data string based on match type options 4 LIKE: exact|start|end|any\r\n\t * and BETWEEN\r\n\t * Change array values to IN(...)\r\n\t */\r\n\t\r\n\tpublic static function save(jForm:JQuery):Array<FData>\r\n\t{\r\n\t\t//PREPARE EDITOR DATA FOR POSTING\r\n\t\tvar ret: Array<FData> = cast jForm.serializeArray();\r\n\t\tvar checkBoxes = jForm.find('input[type=\"checkbox\"]');\r\n\t\tvar missing:StringMap<Bool> = new StringMap();\r\n\t\ttrace(jForm.length);\r\n\t\t//trace(ret);\r\n\t\tApp.ist.logTrace(jForm.length + ':' + Std.string(ret));\r\n\t\tcheckBoxes.each(function(i:Int, n:Node) {\r\n\t\t\tvar checkBox:JQuery = J(n);\r\n\t\t\t//trace(checkBox.attr('name') + ':' + checkBox.prop('checked'));\r\n\t\t\t//if (!checkBoxes.prop('checked'))\r\n\t\t\tif (! ret.forone(function(fd:FData):Bool return fd.name == checkBox.attr('name')))\r\n\t\t\t{\r\n\t\t\t\tret.push( { name:checkBox.attr('name'), value:(checkBox.prop('checked')?1:0) } );\r\n\t\t\t}\r\n\t\t\telse ret = ret.map(function(fd:FData):FData {\r\n\t\t\t\tif(fd.name==checkBox.attr('name'))\r\n\t\t\t\t\tfd.value = (checkBox.prop('checked')?1:0);\r\n\t\t\t\treturn fd;\r\n\t\t\t});\r\n\t\t\tif (checkBox.data('required') == 'true' && !checkBox.prop('checked'))\r\n\t\t\t{\r\n\t\t\t\tmissing.set(checkBox.attr('name'), true);\r\n\t\t\t}\r\n\t\t\t//else\r\n\t\t\t\t//missing.set(checkBox.attr('name'), false);\r\n\t\t\t//trace(ret);\r\n\t\t});\r\n\t\t//trace(ret);\r\n\t\t//TODO: RADIO!!!\r\n\r\n\t\tfor (fd in ret)\r\n\t\t{\r\n\t\t\tvar itemName:String = fd.name.split('[')[0];\r\n\t\t\tif (Reflect.hasField(App.storeFormats, itemName))\r\n\t\t\t{\r\n\t\t\t\tvar sForm:Array<Dynamic> = Reflect.field(App.storeFormats, itemName);\r\n\t\t\t\tvar callParam:Array<Dynamic> = sForm.length>1 ? sForm.slice(1) : [];\r\n\t\t\t\tvar method:String = sForm[0];\r\n\t\t\t\t//trace('call FormData' + method);\r\n\t\t\t\tcallParam.push(fd.value);\r\n\t\t\t\tif (itemName.indexOf('_') == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\t//trace(J('input[name=\"' + fd.name + '\"]').data('value'));\r\n\t\t\t\t\tcallParam.push(J('input[name=\"' + fd.name + '\"]').data('value'));\r\n\t\t\t\t\tfd.name = fd.name.substr(1);\r\n\t\t\t\t\t//trace(fd.name);\r\n\t\t\t\t}\r\n\t\t\t\tfd.value = Reflect.callMethod(Browser.window, Reflect.field(Browser.window, method), callParam);\r\n\t\t\t}\r\n\t\t\tif (!missing.exists(fd.name) && J('input[name=\"' + fd.name + '\"]').data('required') == 'true' && J('input[name=\"' + fd.name + '\"]').val() == '')\r\n\t\t\t{\r\n\t\t\t\tmissing.set(fd.name, true);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//trace(ret);\r\n\t\tret.push({name:'missing', value:missing});\r\n\t\treturn ret;\r\n\t}\r\n\t\r\n\tpublic static function filter(jForm:JQuery, tableData:StringMap<Array<String>>, tableNames:Array<String>):String\r\n\t{\r\n\t\tvar fResult:String = '';\r\n\t\tvar table2remove:Array<String> = new Array();\r\n\t\ttrace(tableNames.join(','));\r\n\t\tfor (tN in tableNames)\r\n\t\t{\r\n\t\t\tvar tD:Array<String> = tableData.get(tN);\r\n\t\t\tvar ret:Array<String> = new Array();\r\n\t\t\tfor (tDn in tD)\r\n\t\t\t{\t\t\r\n\t\t\t\tif (!jForm.find('[name=\"' + tDn +'\"]').val().any2bool())\r\n\t\t\t\t{\t\t\r\n\t\t\t\t\ttrace('$tDn not set:' + jForm.find('[name=\"' + tDn +'\"]').val());\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tvar matchTypeOption:JQuery =  jForm.find('[name=\"' + tDn + '_match_option\"]');\r\n\t\t\t\ttrace (tDn + ':' + matchTypeOption.length );\r\n\t\t\t\tif (matchTypeOption.length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tret.push(switch(matchTypeOption.val())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 'exact':\r\n\t\t\t\t\t\t\ttDn + '|' + jForm.find('[name=\"' + tDn +'\"]').val();\r\n\t\t\t\t\t\tcase 'start':\r\n\t\t\t\t\t\t\ttDn + '|LIKE|' + jForm.find('[name=\"' + tDn +'\"]').val() + '%';\r\n\t\t\t\t\t\tcase 'end':\r\n\t\t\t\t\t\t\ttDn + '|LIKE|%' + jForm.find('[name=\"' + tDn +'\"]').val();\r\n\t\t\t\t\t\tcase 'any':\r\n\t\t\t\t\t\t\ttDn + '|LIKE|%' + jForm.find('[name=\"' + tDn +'\"]').val() + '%';\t\t\r\n\t\t\t\t\t\tcase _:\r\n\t\t\t\t\t\t\ttrace('ERROR: unknown matchTypeOption value:' + matchTypeOption.val());\r\n\t\t\t\t\t\t\t'ERROR|unknown matchTypeOption value:' + matchTypeOption.val();\t\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//trace('done $tDn');\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (tDn.indexOf('range_from_') == 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar from:String = jForm.find('[name=\"' + tDn +'\"]').val();\r\n\t\t\t\t\tif (from.length > 0)\r\n\t\t\t\t\t\tfrom = gDateTime2mysql(from + ' 00:00:00');\r\n\t\t\t\t\tvar name:String = tDn.substr(11);\r\n\t\t\t\t\ttrace(name + ':' +  jForm.find('[name=\"range_from_' + name + '\"]').val() );\r\n\t\t\t\t\tvar to:String = jForm.find('[name=\"range_to_' + name + '\"]').val();\r\n\t\t\t\t\tif (to.length > 0)\r\n\t\t\t\t\t\tto = gDateTime2mysql(to + ' 23:59:59');\r\n\t\t\t\t\tif (from.length > 0 && to.length > 0)\r\n\t\t\t\t\t\tret.push(name + '|BETWEEN|' + from + '|' + to);\r\n\t\t\t\t\telse if (from.length > 0)\r\n\t\t\t\t\t\tret.push(name + '|BETWEEN|' + from + '|' + DateTools.format(Date.now(), '%Y-%m-%d'));\r\n\t\t\t\t\telse if (to.length > 0)//\tTODO: CONFIG SYSTEM START DATE\r\n\t\t\t\t\t\tret.push(name + '|BETWEEN|2015-01-01 00:00:00|' + to);\r\n\t\t\t\t}\r\n\t\t\t\telse if (tDn.indexOf('range_to_') == 0)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\telse if (tDn.indexOf('_match_option') == -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (tDn == 'pay_source.pay_source_state')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (jForm.find('[name=\"' + tDn +'\"]').prop('checked'))\r\n\t\t\t\t\t\t\tret.push (tDn + '|IN|active|new');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\tret.push (tDn + '|' + jForm.find('[name=\"' + tDn +'\"]').val() );\r\n\t\t\t\t\t//trace('name:$tDn' + jForm.find('[name=\"' + tDn +'\"]').prop('checked'));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif (ret.length > 0)\r\n\t\t\t{\r\n\t\t\t\tif (fResult != '')\r\n\t\t\t\t\tfResult += ',';\r\n\t\t\t\tfResult += ret.join('|');\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\ttable2remove.push(tN);\r\n\t\t}\r\n\t\ttable2remove.map(function(s:String) tableNames.remove(s));\r\n\t\t//trace(table2remove);\r\n\t\t//trace(tableNames);\r\n\t\t//trace(fResult);\r\n\t\t//fResult = ret.join(',');tableNames.remove(tN);\r\n\t\treturn fResult;\r\n\t}\r\n\t\r\n\tpublic static function where(jForm:JQuery, fields:Array<String>):String\r\n\t{\r\n\t\tvar ret:Array<String> = new Array();\r\n\t\tvar fD:Array<FData> = cast jForm.serializeArray();\r\n\t\ttrace(fields);\r\n\t\tvar aFields:StringMap<Array<String>> = new StringMap();\r\n\t\tfD.iter(function(aFD:FData) {\r\n\t\t\tif(fields.has(aFD.name))\r\n\t\t\t aFields.set(aFD.name, (aFields.exists(aFD.name) ? aFields.get(aFD.name).concat(aFD.value): [aFD.value]));\r\n\t\t});\r\n\t\tvar it:Iterator<String> = aFields.keys();\r\n\t\tvar ret:Array<String> = new Array();\r\n\t\twhile (it.hasNext())\r\n\t\t{\r\n\t\t\tvar k:String = it.next();\r\n\t\t\tif (aFields.get(k).length > 1)\r\n\t\t\t{\r\n\t\t\t\t//FOUND ARRAY FIELD - REPLACE AT ORIGINAL\r\n\t\t\t\tfD = fD.filter(function(aFD:FData):Bool return aFD.name != k );\r\n\t\t\t\tret.push( k + '|IN|' + aFields.get(k).join('|'));\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\t//trace(fD);\r\n\t\tfor (item in fD)\r\n\t\t{\r\n\t\t\t\r\n\t\t\t//if (!(fields.has(item.name) || item.name.indexOf('range_from_') == 0))\r\n\t\t\tif ( item.name.indexOf('_match_option')>-1 || !(fields.has(item.name) || fields.forone(function(f:String) { \r\n\t\t\t\t//trace(f + ':' + item.name + ' ' + (item.name.indexOf('.')>-1 && item.name.startsWith(f.split('.')[0])?'TRUE':'FALSE'));\r\n\t\t\t\treturn item.name.indexOf('.')>-1 && item.name.startsWith(f.split('.')[0]); } ) || item.name.indexOf('range_from_') == 0) )\r\n\t\t\t\tcontinue;\r\n\t\t\ttrace( item.name);\r\n\t\t\tif (item.value != null && item.value != '' || item.name.indexOf('range_from_') == 0)\r\n\t\t\t{\r\n\t\t\t\tif (Reflect.hasField(App.storeFormats, item.name))\r\n\t\t\t\t{\r\n\t\t\t\t\tvar sForm:Array<Dynamic> = Reflect.field(App.storeFormats, item.name);\r\n\t\t\t\t\tvar callParam:Array<Dynamic> = sForm.length>1 ? sForm.slice(1) : [];\r\n\t\t\t\t\tvar method:String = sForm[0];\r\n\t\t\t\t\ttrace('call FormData' + method);\r\n\t\t\t\t\tcallParam.push(item.value);\r\n\t\t\t\t\t//item.value = Reflect.callMethod(FormData, Reflect.field(FormData, method), callParam);\r\n\t\t\t\t\titem.value = Reflect.callMethod(Browser.window, Reflect.field(Browser.window, method), callParam);\r\n\t\t\t\t\ttrace(item.value);\r\n\t\t\t\t}\r\n\t\t\t\tvar matchTypeOption:JQuery =  jForm.find('[name=\"' + item.name + '_match_option\"]');\r\n\t\t\t\ttrace (item.name + ':' + matchTypeOption.length );\r\n\t\t\t\tif (matchTypeOption.length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tret.push(switch(matchTypeOption.val())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 'exact':\r\n\t\t\t\t\t\t\titem.name + '|' + item.value;\r\n\t\t\t\t\t\tcase 'start':\r\n\t\t\t\t\t\t\titem.name + '|LIKE|' + item.value + '%';\r\n\t\t\t\t\t\tcase 'end':\r\n\t\t\t\t\t\t\titem.name + '|LIKE|%' + item.value;\r\n\t\t\t\t\t\tcase 'any':\r\n\t\t\t\t\t\t\titem.name + '|LIKE|%' + item.value + '%';\t\t\r\n\t\t\t\t\t\tcase _:\r\n\t\t\t\t\t\t\ttrace('ERROR: unknown matchTypeOption value:' + matchTypeOption.val());\r\n\t\t\t\t\t\t\t'ERROR|unknown matchTypeOption value:' + matchTypeOption.val();\t\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//trace('skipping $item');\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.name.indexOf('range_from_') == 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar from:String = item.value;\r\n\t\t\t\t\tif (from.length > 0)\r\n\t\t\t\t\t\tfrom = gDateTime2mysql(from + ' 00:00:00');\r\n\t\t\t\t\tvar name:String = item.name.substr(11);\r\n\t\t\t\t\ttrace(name + ':' +  jForm.find('[name=\"range_from_' + name + '\"]').val() );\r\n\t\t\t\t\tvar to:String = jForm.find('[name=\"range_to_' + name + '\"]').val();\r\n\t\t\t\t\tif (to.length > 0)\r\n\t\t\t\t\t\tto = gDateTime2mysql(to + ' 23:59:59');\r\n\t\t\t\t\tif (from.length > 0 && to.length > 0)\r\n\t\t\t\t\t\tret.push(name + '|BETWEEN|' + from + '|' + to);\r\n\t\t\t\t\telse if (from.length > 0)\r\n\t\t\t\t\t\tret.push(name + '|BETWEEN|' + from + '|' + DateTools.format(Date.now(), '%Y-%m-%d'));\r\n\t\t\t\t\telse if (to.length > 0)//\tTODO: CONFIG SYSTEM START DATE\r\n\t\t\t\t\t\tret.push(name + '|BETWEEN|2015-01-01 00:00:00|' + to);\r\n\t\t\t\t}\r\n\t\t\t\telse if (item.name.indexOf('range_to_') == 0)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\telse\r\n\t\t\t\t\tret.push (item.name + '|' + item.value );\r\n\t\t\t}\r\n\t\t}\r\n\t\ttrace(ret.join(','));\t\t\r\n\t\treturn ret.join(',');\t\t\r\n\t}\r\n\t\r\n\t@:expose('gDate2mysql')\r\n\tpublic static function gDate2mysql(gDate:String):String\r\n\t{\r\n\t\tif (gDate == null || gDate == '')\r\n\t\t\treturn null;\r\n\t\tvar d:Array<String> = gDate.split('.').map(function(s:String) return StringTools.trim(s));\r\n\t\tif (d.length != 3)\r\n\t\t{\t\t\t\r\n\t\t\tif (d.length == 1 && d[0].length == 4)\r\n\t\t\t{\r\n\t\t\t\treturn d[0] + '-01-01';\r\n\t\t\t}\r\n\t\t\ttrace('Falsches Datumsformat:$gDate :' + d.toString());\r\n\t\t\treturn 'Falsches Datumsformat:' + gDate;\r\n\t\t}\r\n\t\treturn d[2] + '-' + d[1] + '-' + d[0];\r\n\t}\r\n\t\r\n\t@:expose('gDateTime2mysql')\r\n\tpublic static function gDateTime2mysql(gDateTime:String):String\r\n\t{\r\n\t\tvar d:Array<String> = ~/[\\. :]/g.split(gDateTime).map(function(s:String) return StringTools.trim(s));\r\n\t\ttrace(d);\r\n\t\tif (d.length != 6)\r\n\t\t{\t\t\t\r\n\t\t\ttrace('Falsches Datumsformat:$gDateTime');\r\n\t\t\treturn 'Falsches Datumsformat:' + gDateTime;\r\n\t\t}\r\n\t\treturn d[2] + '-' + d[1] + '-' + d[0] + ' ' + d[3] + ':' + d[4] + ':' + d[5];\r\n\t}\t\r\n\t\r\n\t@:expose('_gDateTime2mysql')\r\n\tpublic static function _gDateTime2mysql(gDate:String, gDateTime:String):String\r\n\t{\r\n\t\tvar d:Array<String> = ~/[\\- :]/g.split(gDateTime).map(function(s:String) return StringTools.trim(s));\r\n\t\ttrace(d);\r\n\t\tif (d.length != 6)\r\n\t\t{\t\t\t\r\n\t\t\ttrace('Falsches Datumsformat:$gDateTime');\r\n\t\t\treturn 'Falsches Datumsformat:' + gDateTime;\r\n\t\t}\r\n\t\tvar n:Array<String> = gDate.split('.').map(function(s:String) return StringTools.trim(s));\r\n\t\tif (n.length != 3)\r\n\t\t{\t\t\t\r\n\t\t\t/*if (n.length == 1 && n[0].length == 4)\r\n\t\t\t{\r\n\t\t\t\treturn d[0] + '-01-01';\r\n\t\t\t}*/\r\n\t\t\ttrace('Falsches Datumsformat:$gDate :' + d.toString());\r\n\t\t\treturn 'Falsches Datumsformat:' + gDate;\r\n\t\t}\r\n\t\t//return d[2] + '-' + d[1] + '-' + d[0];\r\n\t\treturn n[2] + '-' + n[1] + '-' + n[0] + ' ' + d[3] + ':' + d[4] + ':' + d[5];\r\n\t}\t\r\n}","package view;\nimport haxe.Timer;\nimport js.jquery.*;\nimport js.html.XMLHttpRequest;\n\n/**\n * ...\n * @author axel@cunity.me\n */\n\nusing Lambda;\n\nclass Input\n{\n\tvar vData:Dynamic;\n\tvar params:Dynamic;\n\tpublic var name:String;\n\tpublic var id:String;\n\tpublic var loading:Int;\n\tpublic var parentView:View;\n\tpublic var hasData:Bool;\n\t\n\tpublic function new(data:Dynamic) \n\t{\n\t\tif (!(data.limit > 0))\n\t\t\tdata.limit = 15;\n\t\tvData = data;\n\t\thasData = data.db;\n\t\tparentView = data.parentView;\n\t\tname = Type.getClassName(Type.getClass(this)).split('.').pop();\n\t\tid = parentView.id + '_' + data.name ;\n\t\tloading = 0;\t\n\t}\t\n\t\n\tpublic function init()\n\t{\n\t\tif (hasData)\n\t\t{\n\t\t\tloadData( resetParams(), function(data:Dynamic) { \n\t\t\t\t//data.parentSelector = listattach2; \n\t\t\tupdate(data); } );\t\t\n\t\t}\n\t}\n\t\n\tfunction loadData(data:Dynamic, callBack:Dynamic->Void)\n\t{\n\t\tvar dependsOn:Array<String> = vData.dependsOn;\n\t\tif (dependsOn != null && dependsOn.length > 0)\n\t\t{\n\t\t\tif (! dependsOn.foreach(function(s:String) return parentView.inputs.exists(s) && parentView.inputs.get(s).loading == 0))\n\t\t\t{\n\t\t\t\ttrace(id + ' still waiting on:' + dependsOn.toString());\n\t\t\t\tvar iK:Iterator<String> = parentView.inputs.keys();\n\t\t\t\tvar ki:String = '';\n\t\t\t\twhile (iK.hasNext())\n\t\t\t\t\tki += iK.next() + ',';\n\t\t\t\t//trace('inputs:' + ki);\n\t\t\t\t//Timer.delay(function() loadData(data, callBack), 1000);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\ttrace(id);\n\t\t//trace(data);\n\t\t//return;\n\t\tloading++;\n\t\tjs.jquery.JQuery.post('server.php', data , function(data:Dynamic, textStatus:String, xhr:XMLHttpRequest)\n\t\t{\n\t\t\t//trace(data);\n\t\t\tcallBack(data);\n\t\t\tloading--;\n\t\t});\t\n\t}\n\n\tprivate function resetParams(?where:Dynamic):Dynamic\n\t{\n\t\tparams = {\n\t\t\taction:vData.action,\n\t\t\tclassName:name,\n\t\t\tdataType:'json',\n\t\t\tfields:[vData.value, vData.label].join(','),\n\t\t\tlimit:vData.limit,\n\t\t\ttable:vData.name\n\t\t};\n\t\tif (where != null)\n\t\t\tparams.where = where;\n\t\treturn params;\n\t}\n\t\n\tpublic function update(data:Dynamic)\n\t{\n\t\ttrace('method has to be implemented by subclass');\n\t}\t\n}","package view;\nimport js.jquery.*;\nimport js.jquery.Helper.*;\nimport js.Browser;\nimport me.cunity.js.jqPlugin.JMore;\n\nusing StringTools;\n/**\n * ...\n * @author axel@cunity.me\n */\nclass Mailing extends View\n{\n\tvar cMenu:ContextMenu;\n\tvar host:String;\n\tvar proto:String;\n\t\n\tpublic var mailingID:String;\n\t\n\tpublic function new(?data:Dynamic) \n\t{\n\t\tsuper(data);\n\t\thost = Browser.window.location.host;\n\t\tproto = Browser.window.location.protocol;\n\t\tinit();\n\t}\n\t\n\tpublic function printNewMembers(mID:String):Void\n\t{\n\t\tvar product:String = J('#$mID input[name=\"product\"]:checked').val();\n\t\tvar url:String = '$proto//$host/cgi-bin/mailing.pl?action=PRINTNEW&product=$product';\t\t\n\t\ttrace(url);\n\t\tJ('#$mID #preparing-file-download').show();\n\t\tJ(\"#error-download\").hide();\n\t\tJ('#$mID #success-download').hide();\n\t\tJQuery.fileDownload(url, {\n\t\t\tsuccessCallback: function(url)\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\n\t\t\t\ttrace('OK:) $url');\n\t\t\t\tJ('#$mID #preparing-file-download').hide();\t\t\t\t\n\t\t\t\tJ('#$mID #success-download').show();\n\t\t\t},\n\t\t\tfailCallback: function(responseHtml, url)\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\n\t\t\t\ttrace('oops $url $responseHtml');\n\t\t\t\tJ('#$mID #preparing-file-download').hide();\n\t\t\t\tJ(\"#error-download\").show();\n\t\t\t}\n\t\t} );\n\t\treturn;\t\t\n\t\tvar res:String = js.jquery.JQuery.ajax({\n\t\t\tasync: false,\n\t\t\turl:url,\n\t\t\tdataType:'json'\n\t\t}).responseText;\t\t\t\n\t\tvar json:Dynamic = js.jquery.JQuery.parseJSON(res);\n\t\tjson.id = 'clients';\n\t\ttrace(Reflect.fields(json));\t\n\t\ttrace(json);\t\n\t\tApp.info(json);\n\t}\n\t\n\tpublic function printList(mID:String):Void\n\t{\n\t\tvar list:String = J('#$mID #printListe').val();\n\t\tvar product:String = J('#$mID input[name=\"product\"]:checked').val();\n\t\tvar url:String = '$proto//$host/cgi-bin/mailing.pl?action=PRINTLIST&list=${list.urlEncode()}&product=$product';// + list.urlEncode();\t\t\n\t\ttrace(url);\n\t\tJ('#$mID #preparing-file-download').show();\n\t\tJ(\"#error-download\").hide();\n\t\tJ('#$mID #success-download').hide();\n\t\tJQuery.fileDownload(url, {\n\t\t\tsuccessCallback: function(url)\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\n\t\t\t\ttrace('OK: $url');\n\t\t\t\tJ('#$mID #preparing-file-download').hide();\n\t\t\t\tJ('#$mID #success-download').show();\n\t\t\t},\n\t\t\tfailCallback: function(responseHtml, url)\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\n\t\t\t\ttrace('oops $url $responseHtml');\n\t\t\t\tJ('#$mID #preparing-file-download').hide();\n\t\t\t\tJ(\"#error-download\").show();\n\t\t\t}\n\t\t} );\n\t\treturn;\n\t\tvar res:String = js.jquery.JQuery.ajax({\n\t\t\tasync: false,\n\t\t\turl:url,\n\t\t\tdataType:'json'\n\t\t}).responseText;\t\t\t\n\t\tvar json:Dynamic = js.jquery.JQuery.parseJSON(res);\n\t\tjson.id = 'clients';\n\t\ttrace(Reflect.fields(json));\t\n\t\ttrace(json);\t\n\t\tApp.info(json);\n\t}\n\n\tpublic function printNewInfos(mID:String):Void\n\t{\n\t\tvar product:String = J('#$mID input[name=\"product\"]:checked').val();\n\t\tvar url:String = '$proto//$host/cgi-bin/mailing.pl?action=S_POST&product=$product';\t\t\n\t\ttrace(url);\n\t\tJ('#$mID #preparing-file-download').show();\n\t\tJ(\"#error-download\").hide();\n\t\tJ('#$mID #success-download').hide();\n\t\t//wait(1);\n\t\tJQuery.fileDownload(url, {\n\t\t\tsuccessCallback: function(url)\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\n\t\t\t\ttrace('OK: $url');\n\t\t\t\tJ('#$mID #preparing-file-download').hide();\n\t\t\t\tJ('#$mID #success-download').show();\n\t\t\t\t//wait();\n\t\t\t},\n\t\t\tfailCallback: function(responseHtml, url)\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\n\t\t\t\ttrace('oops $url $responseHtml');\n\t\t\t\tJ('#$mID #preparing-file-download').hide();\n\t\t\t\tJ(\"#error-download\").show();\n\t\t\t}\n\t\t} );\n\t}\n\t\n\tpublic function previewOne(mID:String):Void\n\t{\n\t\t\n\t}\n}","package view;\n\nimport haxe.ds.StringMap;\nimport js.jquery.*;\nimport js.jquery.Helper.*;\n\n/**\n * ...\n * @author axel@cunity.me\n */\nclass Pager// extends View\n{\n\tvar count:Int;\n\tvar limit:Int;\n\tvar page:Int;\n\tvar last:Int;\n\tvar parentView:View;\n\t\n\tpublic function new(?data:Dynamic) \n\t{\n\t\tvar colspan:Int = J('#' + data.id + '-list tr').first().children().length;\n\t\tdata.colspan = colspan;\n\t\tcount = data.count;\n\t\tlimit = data.limit;\n\t\tpage = data.page;\n\t\tlast = Math.ceil(count / limit);\n\t\tparentView = data.parentView;\n\t\ttrace(data.id + ':' + page + ':' + count);\n\n\t\tJ('#t-pager').tmpl(data).appendTo(J('#' + data.id + '-list'));\t\n\t\tJ('#' + data.id + '-pager *[data-action]').each(function(i, n)\n\t\t{\n\t\t\tJ(n).click(go);\n\t\t});\n\t}\n\t\n\tpublic function go(evt:Event)\n\t{\n\t\tevt.preventDefault();\n\t\tvar action:String = J(cast evt.target).data('action');\n\t\ttrace(action + ':' + page + ':' + count +':' + last);\n\t\tswitch(action)\n\t\t{\n\t\t\tcase 'go2page':\n\t\t\t\tvar iVal = Std.parseInt(J('#' + parentView.id + '-pager input[name=\"page\"]').val());\n\t\t\t\tif (iVal > last)\n\t\t\t\t{\n\t\t\t\t\tiVal = last;\n\t\t\t\t\tJ('#' + parentView.id + '-pager input[name=\"page\"]').val(Std.string(last));\n\t\t\t\t}\n\t\t\t\tif(iVal != page)\n\t\t\t\t\tloadPage(iVal);\n\t\t\t\t\t\n\t\t\tcase 'previous':\n\t\t\t\tif(page > 1)\n\t\t\t\t\tloadPage(--page);\n\t\t\tcase 'first':\n\t\t\t\tif(page > 1)\n\t\t\t\t\tloadPage(1);\n\t\t\tcase 'next':\n\t\t\t\tif(page < last)\n\t\t\t\t\tloadPage(++page);\t\t\t\n\t\t\tcase 'last':\n\t\t\t\tif(page < last)\n\t\t\t\t\tloadPage(last);\t\t\t\t\t\t\t\n\t\t}\n\t}\n\t\n\tfunction loadPage(p:Int):Void\n\t{\n\t\tvar form:JQuery = J('#' + parentView.id + '-menu .ui-accordion-content-active form');\n\t\t//form.find('input[name=\"page\"]').val(Std.string(p));\n\t\t//form.find('input[name=\"limit\"]').val(((p - 1) * limit) + ',' + (p + limit <= count? limit:count - ((p - 1) * limit)));\n\t\ttrace(form.find('button[data-contextaction]').data('contextaction'));\n\t\t//form.find('button[data-contextaction]').click();\n\t\t//var active:Int = J('#' + parentView.id + '-menu').accordion('option', 'active');\n\t\ttrace(Type.typeof(parentView.contextMenu));\n\t\tparentView.contextMenu.findPage(Std.string(p), ((p - 1) * limit) + ',' + (p + limit <= count? limit:count - ((p - 1) * limit)));\n\t\t//trace(cast(parentView, ContextMenu).activePanel.find(('button[data-contextaction]')).length);\n\t\t//var param:StringMap<String> = new StringMap();\n\t\t//param.set('page', Std.string(p));\n\t\t//param.set('limit', ((p - 1) * limit) + ',' + (p + limit <= count? limit:count - ((p - 1) * limit)));\n\t\t//parentView.find(param);\n\t}\n\t\n}","package view;\n\nimport haxe.CallStack;\nimport haxe.ds.StringMap;\nimport haxe.Timer;\nimport js.Browser;\nimport js.html.Element;\nimport js.html.Node;\nimport js.html.XMLHttpRequest;\nimport View;\nimport js.jquery.*;\nimport pushstate.PushState;\nimport js.jquery.Helper.*;\nimport me.cunity.debug.Out;\n\nusing Util;\n\n/**\n * ...\n * @author axel@cunity.me\n */\n\ntypedef Tabs = Dynamic;\n\ntypedef TabData = \n{>ViewData,\n\tvar id:String;\n\tvar label:String;\n\t//@:optional var action:String;\n\t\n}\n\ntypedef TabBoxData = \n{>ViewData,\n\tvar tabs:Array<TabData>;\n\t//@:optional var action:String;\n\t@:optional var includes:Array<String>;\n\t@:optional var isNav:Bool;\n\t@:optional var onLoad:String;\n\t@:optional var append2header:String;\n\t@:optional var heightStyle:String;\n}\n\n@:keep class TabBox extends View\n{\n\tvar active:Int;\n\tvar tabBoxData:TabBoxData;\n\tvar tabsInstance:Tabs;\n\tvar tabObj:Dynamic;\n\tvar tabLinks:Array<String>;\n\tvar tabLabel:Array<String>;\n\t\t\n\tpublic function new(?data:TabBoxData) \n\t{\n\t\tsuper(data);\n\n\t\ttabLabel = new Array();\n\t\ttabLinks = new Array();\n\n\t\tif (data != null )\n\t\t{\n\t\t\ttabBoxData = cast data;\n\t\t\t//trace(tabBoxData);\n\t\t\tif (tabBoxData.isNav)\n\t\t\t{\n\t\t\t\tPushState.init();\n\t\t\t\tPushState.addEventListener(go);\n\t\t\t}\t\t\t\t\t\t\n\t\t\tactive = 0;\n\t\t\tfor (tab in tabBoxData.tabs)\n\t\t\t{\n\t\t\t\tif (tab.id == tabBoxData.action)\n\t\t\t\t\tactive = tabLinks.length;\n\t\t\t\ttabLabel.push(tab.label);\n\t\t\t\ttabLinks.push(tab.id);\n\t\t\t\tdbLoader.push(new StringMap<DataLoader>());\n\t\t\t}\n\t\t\t\n\t\t\ttrace(id + ':' + dbLoader.length);\n\t\t\t\n\t\t\tJ('#t-' + id).tmpl(tabBoxData.tabs).appendTo(root.find('ul:first'));\t\n\t\t\t\n\t\t\ttabObj = root.tabs( \n\t\t\t{\n\t\t\t\tactive:0,\n\t\t\t\tactivate: function( event:Event, ui:Dynamic ) \n\t\t\t\t{\n\t\t\t\t\ttrace(J(ui.newPanel));\t\n\t\t\t\t\tvar selector = ui.newPanel.selector;\n\t\t\t\t\tvar template = '';\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\ttrace('$selector a:' + J('$selector').attr('aria-labelledby'));\n\t\t\t\t\t\tselector = J('$selector').attr('aria-labelledby');\n\t\t\t\t\t\ttrace(App.ist.globals.templates);\n\t\t\t\t\t\ttrace('selector:$selector');\n\t\t\t\t\t\ttemplate = Reflect.field(App.ist.globals.templates, J('#$selector').attr('href'));\n\t\t\t\t\t\tif (!template.any2bool())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//LOAD TEMPLATE\n\t\t\t\t\t\t\ttrace('loading templates/' +  J('#$selector').attr('href') + '.html...');\n\t\t\t\t\t\t\tjs.jquery.JQuery.get('templates/' +  J('#$selector').attr('href') + '.html',function(data:Dynamic, textStatus:String, xhr:XMLHttpRequest){\n\t\t\t\t\t\t\t\ttrace('$textStatus:${xhr.responseURL}' +  xhr.getAllResponseHeaders());\n\t\t\t\t\t\t\t\tif(data.length>0)\n\t\t\t\t\t\t\t\ttrace(data.substr(0,100));\n\t\t\t\t\t\t\t\tif (textStatus == 'success')\n\t\t\t\t\t\t\t\t{\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (data == 'NOTFOUND')\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\tJ('body').append(data);\n\t\t\t\t\t\t\t\t\tReflect.setField(App.ist.globals.templates, J('#$selector').attr('href'), true);\n\t\t\t\t\t\t\t\t\ttrace(untyped Browser.window.lastView);\n\t\t\t\t\t\t\t\t\tif(untyped Browser.window.lastView == null)\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t//addView(untyped Browser.window.lastView);\n\t\t\t\t\t\t\t\t\ttabBoxData.tabs[tabsInstance.options.active].views.push(untyped Browser.window.lastView);\n\t\t\t\t\t\t\t\t\ttrace(tabsInstance.options.active+':' + tabBoxData.tabs[tabsInstance.options.active].views.length);\n\t\t\t\t\t\t\t\t\tvar v:ViewData = tabBoxData.tabs[tabsInstance.options.active].views[tabBoxData.tabs[tabsInstance.options.active].views.length - 1];\n\t\t\t\t\t\t\t\t\tv.attach2 =  tabsInstance.panels[tabsInstance.options.active];\n\t\t\t\t\t\t\t\t\tv.dbLoaderIndex = tabsInstance.options.active;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar jP:JQuery = J(tabsInstance.panels[tabsInstance.options.active]);\n\t\t\t\t\t\t\t\t\t//Out.dumpObjectTree(tabsInstance.panels[tabIndex]);\n\t\t\t\t\t\t\t\t\t//if (tabsInstance.options.active != active)\n\t\t\t\t\t\t\t\t\t\t//jP.css('visibility','hidden').show();\n\t\t\t\t\t\t\t\t\ttrace('adding:' + tabBoxData.tabs[tabsInstance.options.active].id + ' to:' + id + ' @:'  + tabsInstance.options.active );\n\t\t\t\t\t\t\t\t\taddView(v);\n\t\t\t\t\t\t\t\t\t/*if (tabIndex != active)\n\t\t\t\t\t\t\t\t\t\tjP.hide(0).css('visibility','visible');\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t\t\t\tloadAllData(v.dbLoaderIndex);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (ex:Dynamic) { trace(ex); }\n\t\t\t\t\ttrace('activate:' + ui.newPanel.selector + ':' + ui.newTab.context + ':' + tabsInstance.options.active + ':' + active + ' template:' + template);\n\t\t\t\t\tdbLoaderIndex = active = tabsInstance.options.active;\n\t\t\t\t\tPushState.replace(Std.string(ui.newTab.context).split(Browser.window.location.hostname).pop());\n\t\t\t\t\t//trace(tabObj.tabs);\n\t\t\t\t\trunLoaders();\n\t\t\t\t},\t\t\t\t\n\t\t\t\tcreate: function( event:Event, ui ) \n\t\t\t\t{\n\t\t\t\t\ttrace('ready2load content4tabs:' + tabBoxData.tabs.length);\n\t\t\t\t\ttabsInstance =  J('#' + id).tabs(\"instance\");\t\t\n\t\t\t\t\t//trace(tabObj.tabs);\n\t\t\t\t\t//Out.dumpObject(tabsInstance.panels);\n\t\t\t\t\tif (tabBoxData.append2header != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar views:StringMap<View> = App.getViews();\n\t\t\t\t\t\t//trace(views.toString());\n\t\t\t\t\t\t//trace(views.get(tabBoxData.append2header));\n\t\t\t\t\t\tviews.get(App.appName + '.' + tabBoxData.append2header).template.appendTo(J('#' + id + ' ul'));\n\t\t\t\t\t}\n\t\t\t\t\tvar tabIndex:Int = 0;\n\t\t\t\t\tfor (t in tabBoxData.tabs)\n\t\t\t\t\t{\n\t\t\t\t\t\t//trace(t);\n\t\t\t\t\t\tfor (v in t.views)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//trace(v);\n\t\t\t\t\t\t\tv.dbLoaderIndex = tabIndex;\n\t\t\t\t\t\t\tv.attach2 =  tabsInstance.panels[tabIndex];\n\t\t\t\t\t\t\tvar jP:JQuery = J(tabsInstance.panels[tabIndex]);\n\t\t\t\t\t\t\t//Out.dumpObjectTree(tabsInstance.panels[tabIndex]);\n\t\t\t\t\t\t\tif (tabIndex != active)\n\t\t\t\t\t\t\t\tjP.css('visibility','hidden').show();\n\t\t\t\t\t\t\ttrace('adding:' +t.id + ' to:' + id + ' @:'  + tabIndex );\n\t\t\t\t\t\t\taddView(v);\n\t\t\t\t\t\t\tif (tabIndex != active)\n\t\t\t\t\t\t\t\tjP.hide(0).css('visibility','visible');\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttabIndex++;\n\t\t\t\t\t}\n\t\t\t\t\t//APP UI CREATION DONE - LOAD DATA 4 ACTIVE TAB\n\t\t\t\t},\n\t\t\t\tbeforeLoad: function( event:Event, ui ) \n\t\t\t\t{\n\t\t\t\t\ttrace('beforeLoad ' + ui.ajaxSettings.url);\n\t\t\t\t\t//JQuery._static.post(ui.ajaxSettings.url,{},load, 'json');\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\theightStyle: tabBoxData.heightStyle == null ? 'auto':tabBoxData.heightStyle\t\t\t\t\n\t\t\t});\t\n\t\t\t//trace(tabObj);\n\t\t\ttrace(tabsInstance.option('active'));\n\t\t\ttrace(dbLoader.length + ':'  + active );\n\t\t}\n\t\t\n\t\ttrace (Browser.window.location.pathname + ' != ' + App.basePath);\n\t\tif (Browser.window.location.pathname != App.basePath)\n\t\t{\t\t\t\n\t\t\tTimer.delay(function() { go(Browser.window.location.href);init();} , 500);\n\t\t}\n\t\telse\n\t\t\tinit();\n\t}\n\t\n\t//public function load(res:Dynamic, data:String, xhr:JqXHR):Void\n\t\n\t//public function go(url:String, p:Dynamic):Void\n\tpublic function go(url:String):Void\n\t{\n\t\ttrace(url + ':' + tabLinks.join(','));\n\t\ttrace(tabsInstance.options.active + ' : ' + tabLinks.indexOf(url));\n\t\t//Out.dumpObject(p);\n\t\t/*if (tabsInstance.options.active == tabLinks.indexOf(url))\n\t\t{\n\t\t\t//trace('full reload');\n\t\t\t//Browser.window.location.reload();\n\t\t}*/\n\t\t\n\t\tif (url.indexOf('?') >-1)\n\t\t{\n\t\t\tif (tabLinks[tabsInstance.options.active] != 'clients')\n\t\t\t{\n\t\t\t\t//tabLinks[tabsInstance.options.active] = 1;\n\t\t\t\tif(tabObj!=null)\n\t\t\t\ttabObj.tabs( \"option\", \"active\", 1 );\n\t\t\t\tBrowser.document.title = App.company + \" \" + App.appName + '  ' + tabLabel[tabsInstance.options.active];\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!Std.is(url, String))\n\t\t{\n\t\t\tOut.dumpStack(CallStack.callStack());\n\t\t\treturn;\n\t\t}\n\t\tvar p:Array<String> = url.split(App.basePath);\n\t\t//trace(p.toString() + ':' + p.length + ' basePath:' + Application.basePath);\n\t\tif (p.length == 2 && p[1] == '')\n\t\t\tp[1] = tabLinks[0];\n\t\telse if (p.length == 1)\n\t\t\tp[1] = url;\n\t\tif (tabsInstance.options.active == tabLinks.indexOf(p[1]))\n\t\t{\t\t\t\n\t\t\ttrace(tabsInstance.options.active + ' == ' + tabLinks.indexOf(p[1]));\n\t\t\treturn;\n\t\t}\n\t\tif (tabLinks[tabsInstance.options.active] != p[1])\n\t\t{\n\t\t\ttrace(id + ' root:' +  root.attr('id'));\n\t\t\tif(tabObj!=null)\n\t\t\t\ttabObj.tabs( \"option\", \"active\", tabLinks.indexOf(p[1]) );\n\t\t}\n\t\t//trace(p.toString() + ':' + tabsInstance.options.active + ':' + tabLinks.indexOf(p[1]));\n\t\tBrowser.document.title = App.company + \" \" + App.appName + '  ' + tabLabel[tabsInstance.options.active];\n\t}\n\t\n}","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nimport js.Syntax.code;\n\n// Can't enable @:coreApi because some fields are now inline getters\n// @:coreApi\n@:keepInit\nextern class Math {\n\tstatic var PI(default, null):Float;\n\n\tstatic var NEGATIVE_INFINITY(get, null):Float;\n\t@:pure private static inline function get_NEGATIVE_INFINITY():Float {\n\t\treturn -code(\"Infinity\");\n\t}\n\n\tstatic var POSITIVE_INFINITY(get, null):Float;\n\t@:pure private static inline function get_POSITIVE_INFINITY():Float {\n\t\treturn code(\"Infinity\");\n\t}\n\n\tstatic var NaN(get, null):Float;\n\t@:pure private static inline function get_NaN():Float {\n\t\treturn code(\"NaN\");\n\t}\n\n\t@:pure static function abs(v:Float):Float;\n\t@:pure static function acos(v:Float):Float;\n\t@:pure static function asin(v:Float):Float;\n\t@:pure static function atan(v:Float):Float;\n\t@:pure static function atan2(y:Float, x:Float):Float;\n\t@:pure static function ceil(v:Float):Int;\n\t@:pure static function cos(v:Float):Float;\n\t@:pure static function exp(v:Float):Float;\n\t@:pure static function floor(v:Float):Int;\n\t@:pure static function log(v:Float):Float;\n\t@:pure static function max(a:Float, b:Float):Float;\n\t@:pure static function min(a:Float, b:Float):Float;\n\t@:pure static function pow(v:Float, exp:Float):Float;\n\tstatic function random():Float;\n\t@:pure static function round(v:Float):Int;\n\t@:pure static function sin(v:Float):Float;\n\t@:pure static function sqrt(v:Float):Float;\n\t@:pure static function tan(v:Float):Float;\n\n\t@:pure static inline function ffloor(v:Float):Float {\n\t\treturn floor(v);\n\t}\n\n\t@:pure static inline function fceil(v:Float):Float {\n\t\treturn ceil(v);\n\t}\n\n\t@:pure static inline function fround(v:Float):Float {\n\t\treturn round(v);\n\t}\n\n\t@:pure static inline function isFinite(f:Float):Bool {\n\t\treturn code(\"isFinite\")(f);\n\t}\n\n\t@:pure static inline function isNaN(f:Float):Bool {\n\t\treturn code(\"isNaN\")(f);\n\t}\n\n\tstatic function __init__():Void {\n\t\tuntyped __feature__(\"Type.resolveClass\", $hxClasses[\"Math\"] = Math);\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi extern class String {\n\tvar length(default, null):Int;\n\n\t@:pure function new(string:String):Void;\n\t@:pure function toUpperCase():String;\n\t@:pure function toLowerCase():String;\n\t@:pure function charAt(index:Int):String;\n\t@:pure function indexOf(str:String, ?startIndex:Int):Int;\n\t@:pure function lastIndexOf(str:String, ?startIndex:Int):Int;\n\t@:pure function split(delimiter:String):Array<String>;\n\t@:pure function toString():String;\n\t@:pure function substring(startIndex:Int, ?endIndex:Int):String;\n\n\t@:pure inline function charCodeAt(index:Int):Null<Int> {\n\t\treturn @:privateAccess HxOverrides.cca(this, index);\n\t}\n\n\t@:pure inline function substr(pos:Int, ?len:Int):String {\n\t\treturn @:privateAccess HxOverrides.substr(this, pos, len);\n\t}\n\n\t@:pure static inline function fromCharCode(code:Int):String {\n\t\treturn untyped __define_feature__('String.fromCharCode', js.Syntax.code(\"String.fromCodePoint({0})\", code));\n\t}\n\n\tstatic function __init__():Void {\n\t\tuntyped __feature__('String.fromCharCode',\n\t\t\tjs.Syntax.code(\"if( String.fromCodePoint == null ) String.fromCodePoint = function(c) { return c < 0x10000 ? String.fromCharCode(c) : String.fromCharCode((c>>10)+0xD7C0)+String.fromCharCode((c&0x3FF)+0xDC00); }\"));\n\t}\n}\n"],
"names":[],
"mappings":"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"
}